<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Elian&#39;s blog page</title>
  
  <subtitle>æˆ‘å–œæ¬¢ä½ ğŸ˜‰</subtitle>
  <link href="https://eliano64.github.io/atom.xml" rel="self"/>
  
  <link href="https://eliano64.github.io/"/>
  <updated>2025-11-14T15:25:38.129Z</updated>
  <id>https://eliano64.github.io/</id>
  
  <author>
    <name>Eliano</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>251114 thinking jwt</title>
    <link href="https://eliano64.github.io/2025/11/14/251114-thinking-jwt/"/>
    <id>https://eliano64.github.io/2025/11/14/251114-thinking-jwt/</id>
    <published>2025-11-14T08:19:10.000Z</published>
    <updated>2025-11-14T15:25:38.129Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯-JWTï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯-JWTï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ JWTï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯ JWTï¼Ÿ</h1><p>JWT å…¨ç§°æ˜¯ JSON Web Tokenï¼Œç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œç”¨ç‚¹ . éš”å¼€ã€‚ä¾‹å¦‚ï¼š xxxxx.yyyyy.zzzzz</p><ol><li><p>Header (å¤´éƒ¨) - xxxxx</p><ul><li>å†…å®¹ ï¼šè®°å½•ä»¤ç‰Œçš„ç±»å‹ï¼ˆå°±æ˜¯ JWTï¼‰å’ŒåŠ å¯†ç®—æ³•ï¼ˆæ¯”å¦‚ HMAC SHA256ï¼‰ã€‚</li><li>ä½œç”¨ ï¼šå‘Šè¯‰æœåŠ¡å™¨æ€ä¹ˆå»è§£è¯»è¿™å¼ ä»¤ç‰Œï¼ŒåŒ…æ‹¬ä»¤ç‰Œçš„ç±»å‹å’ŒåŠ å¯†ç®—æ³•ã€‚</li></ul></li><li><p>Payload (è½½è·) - yyyyy</p><ul><li>å†…å®¹ ï¼šæ‰¿è½½å£°æ˜ï¼Œå­˜æ”¾å®é™…çš„ç”¨æˆ·ä¿¡æ¯ã€‚ä¸€èˆ¬ä¸ºSubject(ä¸»ä½“æ ‡è¯†)ã€ExpiresAt(è¿‡æœŸæ—¶é—´)ã€IssuedAt(ç­¾å‘æ—¶é—´)ã€Issuer(ç­¾å‘è€…)ã€NotBefore(ç”Ÿæ•ˆæ—¶é—´)ç­‰ã€‚è¿™éƒ¨åˆ†å†…å®¹æ˜¯å…¬å¼€çš„ï¼Œä»»ä½•äººéƒ½èƒ½è§£ç çœ‹åˆ°ï¼Œæ‰€ä»¥ä¸èƒ½æ”¾å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯ã€‚</li><li>ä½œç”¨ ï¼šè®©æœåŠ¡å™¨çŸ¥é“å½“å‰è¯·æ±‚æ˜¯è°å‘èµ·çš„ï¼Œæœ‰ä»€ä¹ˆæƒé™ã€‚</li></ul></li><li><p>Signature (ç­¾å) - zzzzz</p><ul><li>å†…å®¹ ï¼šç”±æœåŠ¡å™¨çš„å¯†é’¥å¯¹å‰ä¸¤éƒ¨åˆ†ç­¾åï¼Œç”Ÿæˆçš„é˜²ä¼ªæ ‡è¯†ã€‚å®ƒæ˜¯é€šè¿‡æŠŠå¤´éƒ¨å’Œè½½è·ç»„åˆèµ·æ¥ï¼Œå†åŠ ä¸Šä¸€ä¸ªåªæœ‰æœåŠ¡å™¨çŸ¥é“çš„â€œå¯†é’¥â€ï¼ˆSecretï¼‰ï¼Œç„¶åç”¨å¤´éƒ¨å£°æ˜çš„åŠ å¯†ç®—æ³•ç”Ÿæˆçš„ã€‚</li><li>ä½œç”¨ ï¼š<ul><li>é˜²ä¼ª ï¼šå®¢æˆ·ç«¯æ— æ³•ä¼ªé€ ç­¾åï¼Œå› ä¸ºä»–ä»¬æ²¡æœ‰æœåŠ¡å™¨çš„â€œå¯†é’¥â€ã€‚</li><li>é˜²ç¯¡æ”¹ ï¼šå¦‚æœ è½½è· (Payload) é‡Œçš„ä»»ä½•ä¿¡æ¯ï¼ˆæ¯”å¦‚æŠŠæ™®é€šç”¨æˆ·IDæ”¹æˆç®¡ç†å‘˜IDï¼‰è¢«ä¿®æ”¹äº†ï¼Œé‚£ä¹ˆç”¨åŒæ ·çš„å¯†é’¥ç®—å‡ºæ¥çš„ç­¾åå°±ä¼šå’ŒåŸå§‹ç­¾åå¯¹ä¸ä¸Šã€‚æœåŠ¡å™¨ä¸€æ ¡éªŒï¼Œå°±çŸ¥é“ä¿¡æ¯è¢«æ”¹è¿‡äº†ï¼Œå°±ä¼šæ‹’ç»è¿™ä¸ªè¯·æ±‚ã€‚</li></ul></li></ul></li></ol><p>è¿™ç§æ–¹å¼æ˜¯â€œæ— çŠ¶æ€çš„â€ï¼ŒæœåŠ¡å™¨ä¸éœ€è¦è‡ªå·±å­˜å‚¨ session ä¿¡æ¯ã€‚</p><h1 id="2-å·¥ä½œæµç¨‹"><a href="#2-å·¥ä½œæµç¨‹" class="headerlink" title="2. å·¥ä½œæµç¨‹"></a>2. å·¥ä½œæµç¨‹</h1><ol><li>ç™»å½• ï¼šç”¨æˆ·ä½¿ç”¨è´¦å·å¯†ç ç™»å½•ã€‚</li><li>ç­¾å‘ ï¼šæœåŠ¡å™¨éªŒè¯è´¦å·å¯†ç æˆåŠŸåï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å«ç”¨æˆ·IDç­‰ä¿¡æ¯çš„ JWTï¼ˆå°±åƒåŠäº†ä¸€å¼ æœ‰æ—¶æ•ˆçš„é—¨ç¦å¡ï¼‰ï¼Œå¹¶æŠŠè¿™ä¸ª JWT å‘é€ç»™å‰ç«¯ã€‚</li><li>æºå¸¦ ï¼šå‰ç«¯æ”¶åˆ° JWT åï¼ŒæŠŠå®ƒå­˜èµ·æ¥ï¼ˆæ¯”å¦‚å­˜åœ¨æµè§ˆå™¨çš„ localStorage ï¼‰ã€‚ä¹‹åæ¯æ¬¡å‘æœåŠ¡å™¨å‘è¯·æ±‚ï¼Œéƒ½åœ¨è¯·æ±‚å¤´ Authorization é‡Œå¸¦ä¸Šè¿™ä¸ª JWTï¼Œæ ¼å¼é€šå¸¸æ˜¯ Bearer <token> ã€‚</li><li>éªŒè¯ ï¼šæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œä»è¯·æ±‚å¤´é‡Œæ‹¿å‡º JWTã€‚ç”¨è‡ªå·±ä¿å­˜çš„å¯†é’¥å»éªŒè¯è¿™ä¸ª JWT çš„ç­¾åæ˜¯å¦æ­£ç¡®ã€‚<ul><li>å¦‚æœç­¾åæ­£ç¡®ï¼Œä¸”æ²¡è¿‡æœŸï¼ŒæœåŠ¡å™¨å°±ç›¸ä¿¡è¿™ä¸ªè¯·æ±‚æ˜¯åˆæ³•çš„ï¼Œå¹¶ä» JWT çš„è½½è·ä¸­è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œå¤„ç†è¯·æ±‚ã€‚</li><li>å¦‚æœç­¾åé”™è¯¯æˆ–å·²è¿‡æœŸï¼Œå°±æ‹’ç»è¯·æ±‚ï¼ˆè¿”å› 401 Unauthorized é”™è¯¯ï¼‰ã€‚</li></ul></li></ol><p><img src="/../asserts/jwt.png" alt="jwt workflow"></p><h1 id="3-åç«¯ç­¾å‘-éªŒè¯-JWTï¼ˆgoï¼‰"><a href="#3-åç«¯ç­¾å‘-éªŒè¯-JWTï¼ˆgoï¼‰" class="headerlink" title="3. åç«¯ç­¾å‘&#x2F;éªŒè¯ JWTï¼ˆgoï¼‰"></a>3. åç«¯ç­¾å‘&#x2F;éªŒè¯ JWTï¼ˆgoï¼‰</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;net/http&quot;</span></span><br><span class="line">  <span class="string">&quot;os&quot;</span></span><br><span class="line">  <span class="string">&quot;time&quot;</span></span><br><span class="line">  <span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">  <span class="string">&quot;github.com/golang-jwt/jwt/v5&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// definition of user struct, in gorm model</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  r := gin.Default()</span><br><span class="line">  secret := []<span class="type">byte</span>(os.Getenv(<span class="string">&quot;JWT_SECRET&quot;</span>))</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ³¨å†Œè·¯ç”±ç»„ï¼Œæ‰€æœ‰ JWT ç›¸å…³æ¥å£éƒ½åœ¨ /api ä¸‹</span></span><br><span class="line">  api := r.Group(<span class="string">&quot;/api&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 1. ç™»å½•æ¥å£ï¼šéªŒè¯ç”¨æˆ·åå¯†ç åç­¾å‘ JWT</span></span><br><span class="line">  api.POST(<span class="string">&quot;/login&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> req <span class="keyword">struct</span>&#123; Username, Password <span class="type">string</span> &#125;</span><br><span class="line">    <span class="keyword">if</span> err := c.BindJSON(&amp;req); err != <span class="literal">nil</span> &#123; </span><br><span class="line">        c.Status(http.StatusBadRequest)</span><br><span class="line">        <span class="keyword">return</span> </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// éªŒè¯ç”¨æˆ·åå¯†ç ï¼ˆè¿™é‡Œç®€å•å¯¹æ¯”ï¼Œå®é™…åº”ä½¿ç”¨gormä»æ•°æ®åº“æŸ¥è¯¢ï¼‰</span></span><br><span class="line">    <span class="keyword">if</span> req.Username != <span class="string">&quot;user&quot;</span> || req.Password != <span class="string">&quot;1&quot;</span> &#123;</span><br><span class="line">      c.Status(http.StatusUnauthorized)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªå¾…ç­¾åçš„ tokenï¼Œç­¾åç®—æ³•æŒ‡å®šä¸º HS256</span></span><br><span class="line">    token := jwt.NewWithClaims(jwt.SigningMethodHS256, jwt.RegisteredClaims&#123;</span><br><span class="line">      Subject:   req.Username, <span class="comment">// ç”¨æˆ·å/uidä½œä¸º subject</span></span><br><span class="line">      ExpiresAt: jwt.NewNumericDate(time.Now().Add(time.Hour)), <span class="comment">// è¿™é‡Œè®¾ç½®è¿‡æœŸæ—¶é—´1å°æ—¶åï¼Œå¯ä»¥è®¾ç½®ä¸ºå…¶ä»–å€¼</span></span><br><span class="line">      IssuedAt:  jwt.NewNumericDate(time.Now()),</span><br><span class="line">      NotBefore: jwt.NewNumericDate(time.Now()),</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// ç”¨å¯†é’¥ç­¾å token</span></span><br><span class="line">    s, err := token.SignedString(secret);</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123; </span><br><span class="line">        c.JSON(http.StatusInternalServerError, gin.H&#123;<span class="string">&quot;error&quot;</span>: <span class="string">&quot;Error creating token&quot;</span>&#125;)</span><br><span class="line">        <span class="keyword">return</span> </span><br><span class="line">    &#125;</span><br><span class="line">    c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;token&quot;</span>: s&#125;)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. éªŒè¯å—ä¿æŠ¤æ¥å£</span></span><br><span class="line">    <span class="comment">// ä¸­é—´ä»¶ï¼šæ£€æŸ¥è¯·æ±‚å¤´ Authorization æ˜¯å¦åŒ…å«æœ‰æ•ˆçš„ JWT</span></span><br><span class="line">  auth := <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">    h := c.GetHeader(<span class="string">&quot;Authorization&quot;</span>)</span><br><span class="line">    tokenStr := strings.TrimPrefix(h, <span class="string">&quot;Bearer &quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(tokenStr) == <span class="number">0</span> || tokenStr == h &#123; </span><br><span class="line">        c.AbortWithStatusJSON(http.StatusUnauthorized, gin.H&#123;<span class="string">&quot;error&quot;</span>: <span class="string">&quot;Invalid token format&quot;</span>&#125;)</span><br><span class="line">        <span class="keyword">return</span> </span><br><span class="line">    &#125;</span><br><span class="line">    claims := &amp;jwt.RegisteredClaims&#123;&#125;</span><br><span class="line">    tok, err := jwt.ParseWithClaims(tokenStr, claims, <span class="function"><span class="keyword">func</span><span class="params">(t *jwt.Token)</span></span> (any, <span class="type">error</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> secret, <span class="literal">nil</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> || !tok.Valid &#123; </span><br><span class="line">        c.AbortWithStatusJSON(http.StatusUnauthorized, gin.H&#123;<span class="string">&quot;error&quot;</span>: <span class="string">&quot;Invalid or expired token&quot;</span>&#125;)</span><br><span class="line">        <span class="keyword">return</span> </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æŠŠç”¨æˆ·åè®¾ç½®åˆ°ä¸Šä¸‹æ–‡ï¼Œåç»­å¤„ç†å‡½æ•°å¯ä»¥ä»ä¸Šä¸‹æ–‡ä¸­è·å–</span></span><br><span class="line">    c.Set(<span class="string">&quot;Subject&quot;</span>, claims.Subject) </span><br><span class="line">    c.Next()</span><br><span class="line">  &#125;</span><br><span class="line">  api.GET(<span class="string">&quot;/me&quot;</span>, auth, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123; </span><br><span class="line">    <span class="comment">// ä»ä¸Šä¸‹æ–‡è·å–ç”¨æˆ·å</span></span><br><span class="line">    username, ok := c.Get(<span class="string">&quot;Subject&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> !ok &#123;</span><br><span class="line">      c.JSON(http.StatusInternalServerError, gin.H&#123;<span class="string">&quot;error&quot;</span>: <span class="string">&quot;User claims not found in context&quot;</span>&#125;)</span><br><span class="line">  <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿™é‡Œæ˜¯æ ¹æ®ç”¨æˆ·å/uidè°ƒç”¨gormç›¸å…³æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯çš„é€»è¾‘</span></span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    c.JSON(http.StatusOK, gin.H&#123;<span class="string">&quot;username&quot;</span>: username&#125;) <span class="comment">//ä»¥jsonæ ¼å¼è¿”å›200çŠ¶æ€ç ä»¥åŠç”¨æˆ·ä¿¡æ¯ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µæ·»åŠ å…¶ä»–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">  &#125;)</span><br><span class="line">  r.Run() <span class="comment">//é»˜è®¤8080ã€‚ä¹Ÿå¯ä»¥æŒ‡å®šç«¯å£ï¼Œå¦‚ r.Run(&quot;:3000&quot;)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="4-å‰ç«¯å­˜å‚¨-ä½¿ç”¨-JWTï¼ˆJavaScriptï¼‰"><a href="#4-å‰ç«¯å­˜å‚¨-ä½¿ç”¨-JWTï¼ˆJavaScriptï¼‰" class="headerlink" title="4. å‰ç«¯å­˜å‚¨&#x2F;ä½¿ç”¨ JWTï¼ˆJavaScriptï¼‰"></a>4. å‰ç«¯å­˜å‚¨&#x2F;ä½¿ç”¨ JWTï¼ˆJavaScriptï¼‰</h1><p>è¿™é‡Œä½¿ç”¨ localStorageï¼›ç”Ÿäº§æ›´æ¨èä½¿ç”¨ httpOnly+Secure çš„ Cookieã€‚</p><ol><li>ç™»å½•åå­˜å‚¨ token</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;api/login&quot;</span>,&#123;</span><br><span class="line">  <span class="attr">method</span>:<span class="string">&quot;POST&quot;</span>,</span><br><span class="line">  <span class="attr">headers</span>:&#123;<span class="string">&quot;Content-Type&quot;</span>:<span class="string">&quot;application/json&quot;</span>&#125;,</span><br><span class="line">  <span class="attr">body</span>:<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;<span class="attr">username</span>:<span class="string">&quot;user&quot;</span>,<span class="attr">password</span>:<span class="string">&quot;1&quot;</span>&#125;)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">r</span>=&gt;</span>r.<span class="title function_">json</span>()).<span class="title function_">then</span>(<span class="function"><span class="params">d</span>=&gt;</span><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;token&quot;</span>, d.<span class="property">token</span>))</span><br></pre></td></tr></table></figure><ol start="2"><li>æºå¸¦ token è®¿é—®å—ä¿æŠ¤æ¥å£</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> t = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;token&quot;</span>)</span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;api/me&quot;</span>,&#123;<span class="attr">headers</span>:&#123;<span class="title class_">Authorization</span>:<span class="string">`Bearer <span class="subst">$&#123;t&#125;</span>`</span>&#125;&#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">r</span>=&gt;</span>r.<span class="title function_">json</span>())</span><br><span class="line">  .<span class="title function_">then</span>(<span class="variable language_">console</span>.<span class="property">log</span>)</span><br></pre></td></tr></table></figure><h1 id="5-secretè¿™ä¸ªå­—æ®µæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ"><a href="#5-secretè¿™ä¸ªå­—æ®µæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ" class="headerlink" title="5. secretè¿™ä¸ªå­—æ®µæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ"></a>5. <code>secret</code>è¿™ä¸ªå­—æ®µæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ</h1><p><code>secret</code> æ˜¯ç”¨äºç­¾åå’ŒéªŒè¯ JWT çš„å¯†é’¥ï¼Œå¯ä»¥æŠŠå®ƒè®¾ç½®æˆä»»ä½•ä½ æƒ³è¦çš„å­—ç¬¦ä¸²ã€‚è¿™ä¸ªå¯†é’¥æ˜¯ JWT å®‰å…¨æ€§çš„æ ¸å¿ƒï¼Œå®ƒæ‰®æ¼”ç€â€œç›â€çš„è§’è‰²ã€‚</p><p><em>â€œç›â€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</em></p><p>åœ¨å¯†ç å­¦ä¸­ï¼Œâ€œç›â€æŒ‡çš„æ˜¯ä¸€å°æ®µéšæœºçš„ã€é™„åŠ çš„æ•°æ® ï¼Œå®ƒè¢«åŠ åˆ°åŸå§‹å¯†ç ä¸Šï¼Œç„¶åå†ä¸€èµ·è¿›è¡Œå“ˆå¸Œï¼ˆhashï¼‰æˆ–åŠ å¯†å¤„ç†ã€‚</p><p>æ¯”å¦‚åšä¸€é“ç‚’é¸¡è›‹ï¼Œè¿™é“èœçš„â€œé…æ–¹â€ï¼ˆå“ˆå¸Œç®—æ³•ï¼‰æ˜¯å…¬å¼€çš„ã€‚</p><p>å¦‚æœæ²¡æœ‰ç›ï¼Œåˆ™é¸¡è›‹ï¼ˆ åŸå§‹æ•°æ® ï¼‰ç›´æ¥ä¸‹é”…ç‚’ã€‚å› ä¸ºé…æ–¹å…¬å¼€ï¼Œä»»ä½•äººåªè¦æ‹¿åˆ°é¸¡è›‹ï¼Œéƒ½èƒ½ç‚’å‡ºå’Œä¸€æ¨¡ä¸€æ ·å‘³é“çš„èœã€‚å¦‚æœä¸€ä¸ªé»‘å®¢çŸ¥é“ä½¿ç”¨çš„æ˜¯â€œ123456â€è¿™ä¸ªâ€œé¸¡è›‹â€ï¼Œä»–å°±èƒ½è½»æ¾â€œç‚’â€å‡ºä¸€æ¨¡ä¸€æ ·çš„â€œèœâ€ï¼ˆå“ˆå¸Œå€¼ï¼‰ï¼Œä»è€Œç ´è§£å¯†ç ã€‚</p><p>è€Œç°åœ¨ï¼Œåœ¨ç‚’é¸¡è›‹æ—¶ï¼Œjwtå¾€é‡Œé¢åŠ äº†ä¸€æ’®ç‹¬æœ‰çš„ã€ä¿å¯†çš„â€œç›â€ã€‚å³ä½¿åˆ«äººçŸ¥é“ç”¨çš„æ˜¯é¸¡è›‹ã€ä¹ŸçŸ¥é“é…æ–¹ï¼Œä½†å› ä¸ºä¸çŸ¥é“â€œç›â€ï¼Œä»–å°±æ°¸è¿œä¹Ÿç‚’ä¸å‡ºä¸€æ¨¡ä¸€æ ·çš„å‘³é“ã€‚</p><p>æ‰€ä»¥â€œç›â€çš„æ ¸å¿ƒä½œç”¨æœ‰ä¸¤ä¸ªï¼š</p><ol><li>è®©ç»“æœç‹¬ä¸€æ— äºŒã€‚å³ä½¿ä¸¤ä¸ªç”¨æˆ·ä½¿ç”¨å®Œå…¨ç›¸åŒçš„å¯†ç ï¼ˆæ¯”å¦‚éƒ½æ˜¯ 123456 ï¼‰ï¼Œå› ä¸ºç»™ä»–ä»¬åˆ†é…äº† ä¸åŒ çš„â€œç›â€ï¼Œä»–ä»¬æœ€ç»ˆå­˜å‚¨åœ¨æ•°æ®åº“é‡Œçš„å“ˆå¸Œå€¼ä¹Ÿæ˜¯å®Œå…¨ä¸åŒçš„ã€‚</li><li>æŠµå¾¡é¢„è®¡ç®—æ”»å‡»ï¼ˆå¦‚â€œå½©è™¹è¡¨â€ï¼‰ ï¼šé»‘å®¢ä»¬ä¼šæå‰è®¡ç®—å¥½å¸¸ç”¨å¯†ç ï¼ˆå¦‚â€œ123456â€ã€â€œpasswordâ€ï¼‰çš„å“ˆå¸Œå€¼ï¼Œåšæˆä¸€å¼ å¤§è¡¨ï¼ˆå½©è™¹è¡¨ï¼‰ï¼Œç”šè‡³ç›´æ¥æŸ¥è¡¨å°±èƒ½åæ¨å‡ºåŸå§‹å¯†ç ã€‚ä½†å¦‚æœåŠ äº†â€œç›â€ï¼ŒåŸå§‹æ•°æ®å˜äº†ï¼Œè¿™å¼ å½©è™¹è¡¨å°±å®Œå…¨å¤±æ•ˆäº†ï¼Œå› ä¸ºé»‘å®¢ä¸å¯èƒ½ä¸ºæ¯ä¸€ä¸ªå¯èƒ½çš„â€œç›â€éƒ½é¢„å…ˆè®¡ç®—ä¸€å¼ è¡¨ã€‚</li></ol><p>åœ¨ JWT çš„åœºæ™¯é‡Œï¼Œåˆ™ï¼š</p><ul><li>â€œé¸¡è›‹â€ ï¼šæ˜¯ JWT çš„ Header (å¤´éƒ¨) å’Œ Payload (è½½è·)ã€‚</li><li>â€œç›â€ ï¼š<code>secret</code> ã€‚</li><li>â€œçƒ¹é¥ªæ–¹æ³•â€ ï¼šæ˜¯ Header ä¸­æŒ‡å®šçš„ç­¾åç®—æ³•ï¼Œæ¯”å¦‚ HMAC-SHA256 ã€‚</li><li>â€œç‚’é¸¡è›‹â€ ï¼šå°±æ˜¯ JWT çš„ç¬¬ä¸‰éƒ¨åˆ† Signature (ç­¾å)ã€‚</li></ul><p>å®ƒä¿è¯äº†ï¼š</p><ol><li>çœŸå®æ€§ (Authenticity) ï¼šåªæœ‰çŸ¥é“ <code>secret</code> è¿™ä¸ªâ€œç›â€çš„æœåŠ¡å™¨æ‰èƒ½åˆ¶ä½œå‡ºå‘³é“æ­£ç¡®çš„â€œèœâ€ï¼ˆåˆæ³•çš„ç­¾åï¼‰ã€‚ä»»ä½•ä¼ªé€ è€…éƒ½åšä¸å‡ºæ¥ã€‚</li><li>å®Œæ•´æ€§ (Integrity) ï¼šå¦‚æœæœ‰äººç¯¡æ”¹ Payload é‡Œçš„å†…å®¹ï¼Œç”±äºæ— æ³•çŸ¥é“ <code>secret</code>ï¼Œåˆ™è¯¥jwtçš„Signatureå¿…å®šå’ŒæœåŠ¡å™¨æ ¹æ®ç¯¡æ”¹åçš„Payloadå’Œ<code>secret</code>é‡æ–°è®¡ç®—å‡ºæ¥çš„Signatureä¸ä¸€è‡´ã€‚éªŒè¯ç­¾åæ—¶å°±ä¼šå¤±è´¥ï¼ŒæœåŠ¡å™¨å°±ä¼šæ‹’ç»å®ƒã€‚</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯-JWTï¼Ÿ&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯-JWTï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯ JWTï¼Ÿ&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯ JWTï¼Ÿ&lt;/h1&gt;&lt;p&gt;JWT å…¨ç§°æ˜¯ JSON Web Tokenï¼Œç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œç”¨ç‚¹ . éš”</summary>
      
    
    
    
    <category term="Base Knowledge" scheme="https://eliano64.github.io/categories/Base-Knowledge/"/>
    
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="jwt" scheme="https://eliano64.github.io/tags/jwt/"/>
    
    <category term="javascript" scheme="https://eliano64.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>251114 thinking observer</title>
    <link href="https://eliano64.github.io/2025/11/14/251114-thinking-observer/"/>
    <id>https://eliano64.github.io/2025/11/14/251114-thinking-observer/</id>
    <published>2025-11-14T03:34:00.000Z</published>
    <updated>2025-11-14T03:37:20.189Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ</h1><p>è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ç”¨äºåœ¨å¯¹è±¡çŠ¶æ€å˜åŒ–æ—¶ï¼Œé€šçŸ¥ä¾èµ–å®ƒçš„å¤šä¸ªè§‚å¯Ÿè€…ï¼Œå®ç°ä¸€ç§ä¸€å¯¹å¤šçš„è®¢é˜…å…³ç³»ã€‚è¢«è§‚å¯Ÿè€…åªè´Ÿè´£å‘å¸ƒäº‹ä»¶ï¼Œä¸å…³å¿ƒæœ‰å¤šå°‘è§‚å¯Ÿè€…ã€å®ƒä»¬å¦‚ä½•å¤„ç†ï¼Œè¾¾åˆ°å‘å¸ƒæ–¹ä¸è®¢é˜…æ–¹çš„è§£è€¦ã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ"></a>2. ä¸ºä»€ä¹ˆéœ€è¦è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ</h1><p>å½“ä¸€ä¸ªå¯¹è±¡çš„å˜åŒ–éœ€è¦è”åŠ¨å¤šä¸ªç»„ä»¶æ—¶ï¼Œè‹¥ç›´æ¥åœ¨å¯¹è±¡å†…éƒ¨é€ä¸ªè°ƒç”¨è¿™äº›ç»„ä»¶ï¼Œå°†äº§ç”Ÿç´§è€¦åˆå’Œå¤æ‚çš„ä¾èµ–ã€‚å½“ç»„ä»¶å¢åˆ æˆ–è¡Œä¸ºå˜åŒ–æ—¶ï¼Œè¢«è§‚å¯Ÿè€…ä¹Ÿä¸å¾—ä¸è°ƒæ•´ã€‚é€šè¿‡è§‚å¯Ÿè€…æ¨¡å¼ï¼Œæˆ‘ä»¬å°†äº‹ä»¶çš„å‘å¸ƒä¸å¤„ç†åˆ†ç¦»ï¼šè¢«è§‚å¯Ÿè€…åªè´Ÿè´£å‘å‡ºä¿¡å·ï¼Œè§‚å¯Ÿè€…å„è‡ªå¤„ç†ï¼Œä»è€Œé™ä½è€¦åˆã€æé«˜æ‰©å±•æ€§ã€‚</p><h1 id="3-è§‚å¯Ÿè€…æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"><a href="#3-è§‚å¯Ÿè€…æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰" class="headerlink" title="3. è§‚å¯Ÿè€…æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"></a>3. è§‚å¯Ÿè€…æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Observer <span class="keyword">interface</span> &#123;</span><br><span class="line">    Update(event <span class="type">string</span>, data any)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Subject <span class="keyword">interface</span> &#123;</span><br><span class="line">    Register(o Observer)</span><br><span class="line">    Unregister(o Observer)</span><br><span class="line">    Notify(event <span class="type">string</span>, data any)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Topic <span class="keyword">struct</span> &#123;</span><br><span class="line">    observers []Observer</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *Topic)</span></span> Register(o Observer) &#123;</span><br><span class="line">    t.observers = <span class="built_in">append</span>(t.observers, o)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *Topic)</span></span> Unregister(o Observer) &#123;</span><br><span class="line">    i := <span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> idx, ob := <span class="keyword">range</span> t.observers &#123;</span><br><span class="line">        <span class="keyword">if</span> ob == o &#123;</span><br><span class="line">            i = idx</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> i &gt;= <span class="number">0</span> &#123;</span><br><span class="line">        t.observers = <span class="built_in">append</span>(t.observers[:i], t.observers[i+<span class="number">1</span>:]...)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *Topic)</span></span> Notify(event <span class="type">string</span>, data any) &#123;</span><br><span class="line">    <span class="keyword">for</span> _, o := <span class="keyword">range</span> t.observers &#123;</span><br><span class="line">        o.Update(event, data)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> PrintObserver <span class="keyword">struct</span> &#123;</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *PrintObserver)</span></span> Update(event <span class="type">string</span>, data any) &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[%s] %s: %v\n&quot;</span>, p.name, event, data)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    t := &amp;Topic&#123;&#125;</span><br><span class="line">    a := &amp;PrintObserver&#123;name: <span class="string">&quot;A&quot;</span>&#125;</span><br><span class="line">    b := &amp;PrintObserver&#123;name: <span class="string">&quot;B&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">    t.Register(a)</span><br><span class="line">    t.Register(b)</span><br><span class="line"></span><br><span class="line">    t.Notify(<span class="string">&quot;price_changed&quot;</span>, <span class="number">42</span>)</span><br><span class="line">    t.Unregister(a)</span><br><span class="line">    t.Notify(<span class="string">&quot;price_changed&quot;</span>, <span class="number">43</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[A] price_changed: 42</span><br><span class="line">[B] price_changed: 42</span><br><span class="line">[B] price_changed: 43</span><br></pre></td></tr></table></figure><p>ç±»å›¾ï¼š</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagramclass subject {    &lt;&lt;interface&gt;&gt;    +Register(o observer)    +Unregister(o observer)    +Notify(event,data)}class concreteSubject {    +Register(o observer)    +Unregister(o observer)    +Notify(event,data)}class observer {    &lt;&lt;interface&gt;&gt;    +Update(event,data)}class concreteObserver {    +Update(event,data)}subject &lt;|.. concreteSubjectobserver &lt;|.. concreteObserverconcreteSubject o--&gt; observer : manages  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ&lt;/h1&gt;&lt;p&gt;è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ç”¨äºåœ¨å¯¹è±¡çŠ¶æ€å˜åŒ–</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Observer Pattern" scheme="https://eliano64.github.io/tags/Observer-Pattern/"/>
    
  </entry>
  
  <entry>
    <title>251114 thinking memento</title>
    <link href="https://eliano64.github.io/2025/11/14/251114-thinking-memento/"/>
    <id>https://eliano64.github.io/2025/11/14/251114-thinking-memento/</id>
    <published>2025-11-14T03:21:02.000Z</published>
    <updated>2025-11-14T03:46:52.888Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯å¤‡å¿˜å½•æ¨¡å¼ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯å¤‡å¿˜å½•æ¨¡å¼ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯å¤‡å¿˜å½•æ¨¡å¼ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯å¤‡å¿˜å½•æ¨¡å¼ï¼Ÿ</h1><p>å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰ç”¨äºåœ¨ä¸ç ´åå°è£…çš„å‰æä¸‹ï¼Œæ•è·å¹¶ä¿å­˜å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œä»¥ä¾¿ä¹‹åå°†å…¶æ¢å¤ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šçŠ¶æ€å¿«ç…§åº”å¯¹å¤–ä¿æŒä¸é€æ˜ï¼Œåªæœ‰åˆ›å»ºå®ƒçš„å¯¹è±¡æ‰èƒ½è¯»å†™å…¶å†…å®¹ã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦å¤‡å¿˜å½•æ¨¡å¼ï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦å¤‡å¿˜å½•æ¨¡å¼ï¼Ÿ" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦å¤‡å¿˜å½•æ¨¡å¼ï¼Ÿ"></a>2. ä¸ºä»€ä¹ˆéœ€è¦å¤‡å¿˜å½•æ¨¡å¼ï¼Ÿ</h1><p>åœ¨éœ€è¦æ’¤é”€&#x2F;é‡åšã€äº‹åŠ¡æ€§ä¿®æ”¹æˆ–é˜¶æ®µæ€§è¯•é”™çš„åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›éšæ—¶å›åˆ°æŸä¸ªç¨³å®šçš„å†å²çŠ¶æ€ã€‚å¦‚æœå°†å†…éƒ¨çŠ¶æ€ç›´æ¥æš´éœ²ç»™å¤–éƒ¨ç»„ä»¶ï¼Œä¼šç ´åå°è£…å¹¶å¼•å…¥è„†å¼±è€¦åˆã€‚å¤‡å¿˜å½•æä¾›äº†ä¸€ç§æ›´ç¨³å¦¥çš„åšæ³•ï¼šå¤–éƒ¨åªè´Ÿè´£ä¿å­˜ä¸ä¼ é€’å¿«ç…§ï¼Œè€Œä¸çª¥è§†å…¶å†…å®¹ï¼›çŠ¶æ€çš„è¯»å†™æƒä¸¥æ ¼å½’å±äºåŸå§‹å¯¹è±¡æœ¬èº«ã€‚</p><h1 id="3-å¤‡å¿˜å½•æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"><a href="#3-å¤‡å¿˜å½•æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰" class="headerlink" title="3. å¤‡å¿˜å½•æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"></a>3. å¤‡å¿˜å½•æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰</h1><p>ä¸‹é¢çš„å®ç°é‡‡ç”¨â€œå°è£…æœ€ä¸¥æ ¼â€çš„å˜ä½“ï¼šçœ‹æŠ¤è€…åªèƒ½çœ‹åˆ°çª„æ¥å£ <code>Memento</code>ï¼Œæ— æ³•è¯»å–æˆ–ä¿®æ”¹çŠ¶æ€ï¼›åªæœ‰å‘èµ·è€…å¯ä»¥è®¿é—®å…·ä½“å¤‡å¿˜å½•ä»¥è¿›è¡Œæ¢å¤ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">type</span> Memento <span class="keyword">interface</span>&#123; mementoMarker() &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> memento <span class="keyword">struct</span>&#123;</span><br><span class="line">    content <span class="type">string</span></span><br><span class="line">    cursor  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *memento)</span></span> mementoMarker()&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Editor <span class="keyword">struct</span>&#123;</span><br><span class="line">    content <span class="type">string</span></span><br><span class="line">    cursor  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *Editor)</span></span> SetContent(s <span class="type">string</span>)&#123; e.content = s &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *Editor)</span></span> SetCursor(pos <span class="type">int</span>)&#123; e.cursor = pos &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *Editor)</span></span> Save() Memento &#123; <span class="keyword">return</span> &amp;memento&#123;content: e.content, cursor: e.cursor&#125; &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *Editor)</span></span> Restore(mem Memento)&#123; mm := mem.(*memento); e.content, e.cursor = mm.content, mm.cursor &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> History <span class="keyword">struct</span>&#123; stack []Memento &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *History)</span></span> Push(m Memento)&#123; h.stack = <span class="built_in">append</span>(h.stack, m) &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *History)</span></span> Pop() &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(h.stack) == <span class="number">0</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    i := <span class="built_in">len</span>(h.stack)<span class="number">-1</span></span><br><span class="line">    m := h.stack[i]</span><br><span class="line">    h.stack = h.stack[:i]</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *History)</span></span> Top() Memento&#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(h.stack) == <span class="number">0</span> &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</span><br><span class="line">    <span class="keyword">return</span> h.stack[<span class="built_in">len</span>(h.stack)<span class="number">-1</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    e := &amp;Editor&#123;&#125;</span><br><span class="line">    h := &amp;History&#123;&#125;</span><br><span class="line"></span><br><span class="line">    e.SetContent(<span class="string">&quot;a&quot;</span>); e.SetCursor(<span class="number">1</span>); h.Push(e.Save())</span><br><span class="line">    e.SetContent(<span class="string">&quot;ab&quot;</span>); e.SetCursor(<span class="number">2</span>); h.Push(e.Save())</span><br><span class="line">    e.SetContent(<span class="string">&quot;abc&quot;</span>); e.SetCursor(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    h.Pop()</span><br><span class="line">    m := h.Top()</span><br><span class="line">    e.Restore(m)</span><br><span class="line">    fmt.Println(e.content, e.cursor)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ab 2</span><br></pre></td></tr></table></figure><p>ç±»å›¾ï¼š</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagramclass originator {    +Save() Memento    +Restore(m Memento)}class memento {    &lt;&lt;interface&gt;&gt;}class concreteMemento {    -state}class caretaker {    +Push(Memento)    +Pop() Memento    +Top() Memento}originator ..&gt; memento : Save&#x2F;Restorememento &lt;|.. concreteMementocaretaker o-- memento : stores  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯å¤‡å¿˜å½•æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯å¤‡å¿˜å½•æ¨¡å¼ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯å¤‡å¿˜å½•æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯å¤‡å¿˜å½•æ¨¡å¼ï¼Ÿ&lt;/h1&gt;&lt;p&gt;å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰ç”¨äºåœ¨ä¸ç ´åå°è£…çš„å‰</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Memento Pattern" scheme="https://eliano64.github.io/tags/Memento-Pattern/"/>
    
  </entry>
  
  <entry>
    <title>251114 thinking mediator</title>
    <link href="https://eliano64.github.io/2025/11/14/251114-thinking-mediator/"/>
    <id>https://eliano64.github.io/2025/11/14/251114-thinking-mediator/</id>
    <published>2025-11-14T02:48:39.000Z</published>
    <updated>2025-11-14T03:51:37.737Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯ä¸­ä»‹è€…æ¨¡å¼ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯ä¸­ä»‹è€…æ¨¡å¼ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ä¸­ä»‹è€…æ¨¡å¼ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯ä¸­ä»‹è€…æ¨¡å¼ï¼Ÿ</h1><p>ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰é€šè¿‡å¼•å…¥ä¸€ä¸ªâ€œä¸­ä»‹è€…â€å¯¹è±¡æ¥å°è£…å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œä½¿å¤šä¸ªå¯¹è±¡ä¸éœ€è¦æ˜¾å¼å¼•ç”¨å½¼æ­¤ï¼Œæ”¹ä¸ºåªä¸ä¸­ä»‹è€…é€šä¿¡ã€‚å®ƒå°†åä½œç¼–æ’ä»åŒäº‹å¯¹è±¡ä¸­æŠ½ç¦»å‡ºæ¥ï¼Œé™ä½è€¦åˆå¹¶é›†ä¸­ç®¡ç†äº¤äº’è§„åˆ™ã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦ä¸­ä»‹è€…æ¨¡å¼ï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦ä¸­ä»‹è€…æ¨¡å¼ï¼Ÿ" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦ä¸­ä»‹è€…æ¨¡å¼ï¼Ÿ"></a>2. ä¸ºä»€ä¹ˆéœ€è¦ä¸­ä»‹è€…æ¨¡å¼ï¼Ÿ</h1><p>ä¸€ä¸ªå¤æ‚çš„è½¯ä»¶ç³»ç»Ÿï¼Œè‹¥æ¯ä¸ªå¯¹è±¡éƒ½ä¸å…¶ä»–è®¸å¤šå¯¹è±¡ç›´æ¥å…³è”ï¼Œåˆ™å®ƒä»¬ä¹‹é—´äº§ç”Ÿäº†ç´§å¯†çš„è€¦åˆã€‚è¿™ç§è®¾è®¡çš„åæœæ˜¯ï¼Œå¯¹ä»»ä½•ä¸€ä¸ªå¯¹è±¡çš„ä¿®æ”¹éƒ½å¯èƒ½å¼•å‘è¿é”ååº”ï¼Œè¿«ä½¿å…¶ä»–ç›¸å…³å¯¹è±¡ä¹Ÿå¾—è·Ÿç€æ”¹åŠ¨ï¼Œè¿™ä¾¿æ˜¯â€œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«â€çš„å›°å¢ƒã€‚ç³»ç»Ÿçš„ç»´æŠ¤æˆæœ¬å› æ­¤æ€¥å‰§æ”€å‡ã€‚</p><p>æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå®Œæ•´çš„ä¸šåŠ¡æµç¨‹è¢«åˆ‡å‰²å¾—æ”¯ç¦»ç ´ç¢ï¼Œæ•£è½åœ¨å„ä¸ªå¯¹è±¡çš„å®ç°ä¸­ã€‚æƒ³è¦ç†è§£ä¸€ä¸ªå®Œæ•´çš„åä½œè¿‡ç¨‹ï¼Œå¼€å‘è€…ä¸å¾—ä¸æ·±å…¥å¤šä¸ªç±»ï¼Œè¿½è¸ªå¤æ‚çš„è°ƒç”¨é“¾ï¼Œè¿™ä½¿å¾—ç³»ç»Ÿçš„æ•´ä½“è¡Œä¸ºå˜å¾—éš¾ä»¥æŠŠæ¡ï¼Œä¹Ÿè®©æ–°åŠŸèƒ½çš„æ·»åŠ æˆ–é—®é¢˜æ’æŸ¥å˜å¾—å›°éš¾ã€‚åŒæ—¶ï¼Œç”±äºæ¯ä¸ªå¯¹è±¡éƒ½å’Œå®ƒçš„â€œåŒäº‹ä»¬â€ç»‘å¾—å¤ªæ­»ï¼Œæƒ³æŠŠå®ƒå•ç‹¬æ‹¿å‡ºæ¥åœ¨åˆ«å¤„å¤ç”¨ä¹Ÿå‡ ä¹ä¸å¯èƒ½ã€‚</p><p>ä¸­ä»‹è€…æ¨¡å¼æ­£æ˜¯ä¸ºäº†è§£å¼€è¿™ä¸ªâ€œæ­»ç»“â€è€Œæå‡ºçš„ã€‚å®ƒå¼•å…¥äº†ä¸€ä¸ªä¸­å¿ƒåè°ƒè€…â€”â€”â€œä¸­ä»‹è€…â€ï¼Œæ‰€æœ‰å¯¹è±¡ä¸å†äº’ç›¸ç›´æ¥é€šä¿¡ï¼Œè€Œæ˜¯ç»Ÿä¸€ä¸ä¸­ä»‹è€…å¯¹è¯ã€‚ä¸­ä»‹è€…è´Ÿè´£æ¥æ”¶æ¶ˆæ¯ï¼Œå¹¶æ ¹æ®æ—¢å®šè§„åˆ™å°†å…¶åˆ†å‘ç»™æ­£ç¡®çš„å¯¹è±¡ã€‚è¿™æ ·ï¼ŒåŸæœ¬æ··ä¹±çš„ç½‘çŠ¶ç»“æ„è¢«é‡æ„ä¸ºæ¸…æ™°çš„â€œæ˜Ÿå‹ç»“æ„â€ï¼Œæ‰€æœ‰å¤æ‚çš„äº¤äº’é€»è¾‘éƒ½é›†ä¸­åˆ°äº†ä¸­ä»‹è€…å†…éƒ¨ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯¹è±¡ä¹‹é—´å¾—ä»¥è§£è€¦ï¼Œç³»ç»Ÿä¹Ÿå› æ­¤å˜å¾—æ›´åŠ æ¸…æ™°ã€æ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚</p><h1 id="3-ä¸­ä»‹è€…æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"><a href="#3-ä¸­ä»‹è€…æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰" class="headerlink" title="3. ä¸­ä»‹è€…æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"></a>3. ä¸­ä»‹è€…æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰</h1><p>ä¸‹é¢ç”¨ä¸€ä¸ªç®€åŒ–çš„èŠå¤©å®¤æ¼”ç¤ºä¸­ä»‹è€…å¦‚ä½•åè°ƒç”¨æˆ·ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Mediator <span class="keyword">interface</span> &#123;</span><br><span class="line">    Register(c Colleague)</span><br><span class="line">    Send(from <span class="type">string</span>, to <span class="type">string</span>, msg <span class="type">string</span>)</span><br><span class="line">    Broadcast(from <span class="type">string</span>, msg <span class="type">string</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Colleague <span class="keyword">interface</span> &#123;</span><br><span class="line">    Name() <span class="type">string</span></span><br><span class="line">    Receive(from <span class="type">string</span>, msg <span class="type">string</span>)</span><br><span class="line">    Send(to <span class="type">string</span>, msg <span class="type">string</span>)</span><br><span class="line">    Broadcast(msg <span class="type">string</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> ChatRoom <span class="keyword">struct</span> &#123;</span><br><span class="line">    members <span class="keyword">map</span>[<span class="type">string</span>]Colleague</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewChatRoom</span><span class="params">()</span></span> *ChatRoom &#123;</span><br><span class="line">    <span class="keyword">return</span> &amp;ChatRoom&#123;members: <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]Colleague)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *ChatRoom)</span></span> Register(c Colleague) &#123;</span><br><span class="line">    r.members[c.Name()] = c</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *ChatRoom)</span></span> Send(from <span class="type">string</span>, to <span class="type">string</span>, msg <span class="type">string</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> m, ok := r.members[to]; ok &#123;</span><br><span class="line">        m.Receive(from, msg)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *ChatRoom)</span></span> Broadcast(from <span class="type">string</span>, msg <span class="type">string</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> name, m := <span class="keyword">range</span> r.members &#123;</span><br><span class="line">        <span class="keyword">if</span> name == from &#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        m.Receive(from, msg)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    room *ChatRoom</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewUser</span><span class="params">(name <span class="type">string</span>, room *ChatRoom)</span></span> *User &#123;</span><br><span class="line">    <span class="keyword">return</span> &amp;User&#123;name: name, room: room&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span></span> Name() <span class="type">string</span> &#123; <span class="keyword">return</span> u.name &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span></span> Receive(from <span class="type">string</span>, msg <span class="type">string</span>) &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[%s] &lt;- %s: %s\n&quot;</span>, u.name, from, msg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span></span> Send(to <span class="type">string</span>, msg <span class="type">string</span>) &#123;</span><br><span class="line">    u.room.Send(u.name, to, msg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span></span> Broadcast(msg <span class="type">string</span>) &#123;</span><br><span class="line">    u.room.Broadcast(u.name, msg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    room := NewChatRoom()</span><br><span class="line"></span><br><span class="line">    alice := NewUser(<span class="string">&quot;alice&quot;</span>, room)</span><br><span class="line">    bob := NewUser(<span class="string">&quot;bob&quot;</span>, room)</span><br><span class="line">    eve := NewUser(<span class="string">&quot;eve&quot;</span>, room)</span><br><span class="line"></span><br><span class="line">    room.Register(alice)</span><br><span class="line">    room.Register(bob)</span><br><span class="line">    room.Register(eve)</span><br><span class="line"></span><br><span class="line">    alice.Send(<span class="string">&quot;bob&quot;</span>, <span class="string">&quot;Hi Bob&quot;</span>)</span><br><span class="line">    bob.Send(<span class="string">&quot;alice&quot;</span>, <span class="string">&quot;Hi Alice&quot;</span>)</span><br><span class="line">    eve.Broadcast(<span class="string">&quot;Hello everyone&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¦ç‚¹ï¼šç”¨æˆ·ä¹‹é—´ä¸ç›´æ¥äº’ç›¸å¼•ç”¨ï¼Œäº¤äº’è§„åˆ™é›†ä¸­åœ¨ <code>ChatRoom</code>ã€‚å½“éœ€è¦å¢åŠ è®°å½•å®¡è®¡ã€æ•æ„Ÿè¯è¿‡æ»¤ã€åˆ†ç»„è·¯ç”±æ—¶ï¼Œä»…éœ€æ‰©å±•ä¸­ä»‹è€…ã€‚</p><p>ç±»å›¾ï¼š</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagramclass mediator {    &lt;&lt;interface&gt;&gt;    +Register(c colleague)    +Send(from,to,msg)    +Broadcast(from,msg)}class concreteMediator {    +Register(c colleague)    +Send(from,to,msg)    +Broadcast(from,msg)}class colleague {    &lt;&lt;interface&gt;&gt;    +Name() string    +Receive(from,msg)    +Send(to,msg)    +Broadcast(msg)}class concreteColleague {    +Name() string    +Receive(from,msg)    +Send(to,msg)    +Broadcast(msg)}mediator &lt;|.. concreteMediatorcolleague &lt;|.. concreteColleagueconcreteMediator --&gt; colleague : Register()concreteColleague --&gt; mediator : Send()&#x2F;Broadcast()concreteMediator --&gt; concreteColleague : Send()&#x2F;Broadcast()  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯ä¸­ä»‹è€…æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯ä¸­ä»‹è€…æ¨¡å¼ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯ä¸­ä»‹è€…æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯ä¸­ä»‹è€…æ¨¡å¼ï¼Ÿ&lt;/h1&gt;&lt;p&gt;ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰é€šè¿‡å¼•å…¥ä¸€ä¸ªâ€œä¸­ä»‹</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Mediator Pattern" scheme="https://eliano64.github.io/tags/Mediator-Pattern/"/>
    
  </entry>
  
  <entry>
    <title>251112 thinking binary constraint matching</title>
    <link href="https://eliano64.github.io/2025/11/12/251112-thinking-binary-constraint-matching/"/>
    <id>https://eliano64.github.io/2025/11/12/251112-thinking-binary-constraint-matching/</id>
    <published>2025-11-12T13:57:13.000Z</published>
    <updated>2025-11-14T01:55:45.562Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-æŠ½è±¡"><a href="#1-æŠ½è±¡" class="headerlink" title="1. æŠ½è±¡"></a>1. æŠ½è±¡</h1><p>å—åˆ°åŠ›æ‰£<a href="https://leetcode.cn/problems/two-sum/description/">1. ä¸¤æ•°ä¹‹å’Œ</a>ä»¥åŠç±»ä¼¼é—®é¢˜çš„å¯å‘ï¼ŒæŠ½è±¡å‡ºå¦‚ä¸‹æ¨¡æ¿ï¼š</p><p><strong>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„arr,ä»¤$x,y \in arr$,ä¸”$x,y$ä¸èƒ½æ˜¯åŒä¸€ä¸ªå…ƒç´ ã€‚è‹¥$f(x,y)&#x3D;K$ï¼Œç»™å®š$f,K$ï¼Œæ±‚æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„${x,y}$ã€‚</strong></p><p>ä¼ªä»£ç å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//input : arr, f, K</span><br><span class="line">//output : all pairs of x, y in arr such that f(x, y) = K</span><br><span class="line">//assumption : f(x,y)=k &lt;=&gt; g(x)=h(y), and g,h both are well-defined functions</span><br><span class="line">algorithm binary-constraint-matching(arr, K, f):</span><br><span class="line">    hash table := empty hash table, value -&gt; list</span><br><span class="line">    ans := empty set</span><br><span class="line">    for each x in arr; do</span><br><span class="line">      if h(x) in hash table; then</span><br><span class="line">          for j in hash[h(x)]; do</span><br><span class="line">            add (arr[j], x) to ans</span><br><span class="line">          end loop</span><br><span class="line">      end if</span><br><span class="line">      attempt to add index of x to hash table[g(x)]</span><br><span class="line">    end loop</span><br><span class="line">    return ans</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªæ˜“é”™ç‚¹åœ¨äºï¼š<strong>åº”è¯¥å…ˆå°è¯•åŠ å…¥ansï¼Œå†å°è¯•åŠ å…¥h(x)åˆ°å“ˆå¸Œè¡¨ä¸­ã€‚</strong>è¿™ä¸ªé¡ºåºæ˜¯ä¸ºäº†é¿å…<code>ans</code>åŠ å…¥é‡å¤çš„å…ƒç´ å¯¹ã€‚</p><h1 id="2-ä¾‹"><a href="#2-ä¾‹" class="headerlink" title="2. ä¾‹"></a>2. ä¾‹</h1><p><a href="https://leetcode.cn/problems/two-sum/description/">ä¸¤æ•°ä¹‹å’Œ</a></p><p><a href="https://leetcode.cn/problems/subarray-sums-divisible-by-k/description/">å’Œå¯è¢« K æ•´é™¤çš„å­æ•°ç»„</a></p><p><a href="https://leetcode.cn/problems/number-of-sub-arrays-with-odd-sum/description/">å’Œä¸ºå¥‡æ•°çš„å­æ•°ç»„æ•°ç›®</a></p><p><a href="https://leetcode.cn/problems/count-the-number-of-beautiful-subarrays/description/">ç»Ÿè®¡ç¾ä¸½å­æ•°ç»„æ•°ç›®</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-æŠ½è±¡&quot;&gt;&lt;a href=&quot;#1-æŠ½è±¡&quot; class=&quot;headerlink&quot; title=&quot;1. æŠ½è±¡&quot;&gt;&lt;/a&gt;1. æŠ½è±¡&lt;/h1&gt;&lt;p&gt;å—åˆ°åŠ›æ‰£&lt;a href=&quot;https://leetcode.cn/problems/two-sum/descriptio</summary>
      
    
    
    
    <category term="data structure &amp; algorithm" scheme="https://eliano64.github.io/categories/data-structure-algorithm/"/>
    
    
    <category term="data structure &amp; algorithm" scheme="https://eliano64.github.io/tags/data-structure-algorithm/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="hash table" scheme="https://eliano64.github.io/tags/hash-table/"/>
    
  </entry>
  
  <entry>
    <title>251108 thinking iterator</title>
    <link href="https://eliano64.github.io/2025/11/08/251108-thinking-iterator/"/>
    <id>https://eliano64.github.io/2025/11/08/251108-thinking-iterator/</id>
    <published>2025-11-08T08:27:05.000Z</published>
    <updated>2025-11-08T10:15:07.526Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯è¿­ä»£å™¨æ¨¡å¼"><a href="#1-ä»€ä¹ˆæ˜¯è¿­ä»£å™¨æ¨¡å¼" class="headerlink" title="1. ä»€ä¹ˆæ˜¯è¿­ä»£å™¨æ¨¡å¼"></a>1. ä»€ä¹ˆæ˜¯è¿­ä»£å™¨æ¨¡å¼</h1><p>è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒæä¾›ä¸€ç§æ–¹æ³•æ¥é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ï¼ˆAggregate Objectï¼‰ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆæ— éœ€æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚</p><p>æ— è®ºæ“ä½œçš„æ˜¯ä¸€ä¸ªæ•°ç»„ã€ä¸€ä¸ªé“¾è¡¨ã€ä¸€æ£µæ ‘è¿˜æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œéƒ½å¯ä»¥ç”¨åŒæ ·çš„å®¢æˆ·ç«¯æ–¹å¼å»éå†å®ƒï¼ˆæ¯”å¦‚ä¸€ä¸ª <code>for-each</code> å¾ªç¯ï¼‰ï¼Œè€Œä¸å…³å¿ƒåº•å±‚çš„å…·ä½“çš„éå†æ–¹å¼æ˜¯dfsè¿˜æ˜¯bfæˆ–è€…å…¶ä»–ã€‚</p><p>å®ƒå°†éå†çš„é€»è¾‘ä»èšåˆå¯¹è±¡ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œæ”¾å…¥ä¸€ä¸ªå•ç‹¬çš„<strong>è¿­ä»£å™¨</strong>å¯¹è±¡ä¸­ã€‚è¿™æ ·ï¼Œå®¹å™¨åªè´Ÿè´£å­˜å‚¨æ•°æ®ï¼Œè€Œè¿­ä»£å™¨è´Ÿè´£éå†æ•°æ®ã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦è¿­ä»£å™¨æ¨¡å¼ï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦è¿­ä»£å™¨æ¨¡å¼ï¼Ÿ" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦è¿­ä»£å™¨æ¨¡å¼ï¼Ÿ"></a>2. ä¸ºä»€ä¹ˆéœ€è¦è¿­ä»£å™¨æ¨¡å¼ï¼Ÿ</h1><p>å¦‚æœæ²¡æœ‰è¿­ä»£å™¨æ¨¡å¼ï¼Œå®¢æˆ·ç«¯ä»£ç éœ€è¦çŸ¥é“èšåˆå¯¹è±¡çš„å†…éƒ¨ç»“æ„æ‰èƒ½è¿›è¡Œéå†ã€‚ä¾‹å¦‚ï¼Œéå†æ•°ç»„éœ€è¦ç”¨ç´¢å¼•ï¼Œéå†é“¾è¡¨éœ€è¦ç”¨ <code>next</code> æŒ‡é’ˆã€‚è¿™ä¼šå¯¼è‡´å®¢æˆ·ç«¯ä¸æ•°æ®ç»“æ„ç´§å¯†è€¦åˆã€‚</p><ul><li>å®¢æˆ·ç«¯æ— éœ€å…³å¿ƒå®¹å™¨çš„å†…éƒ¨å®ç°ï¼ˆæ˜¯ <code>slice</code>ã€<code>map</code> è¿˜æ˜¯ <code>linked list</code>ï¼‰ï¼Œä½¿å¾—æ›´æ¢æˆ–ä¿®æ”¹å®¹å™¨å®ç°å˜å¾—å®¹æ˜“ï¼Œä¸å½±å“å®¢æˆ·ç«¯ä»£ç ã€‚</li><li>ä¸ºä¸åŒçš„æ•°æ®ç»“æ„æä¾›äº†ç»Ÿä¸€çš„éå†æ–¹å¼ï¼Œç®€åŒ–äº†å®¢æˆ·ç«¯ä»£ç ã€‚</li><li>å¯ä»¥ä¸ºåŒä¸€ä¸ªèšåˆå¯¹è±¡æä¾›å¤šç§ä¸åŒçš„è¿­ä»£å™¨ï¼ˆå¦‚æ­£å‘éå†ã€åå‘éå†ï¼‰ã€‚</li><li>ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ï¼šèšåˆå¯¹è±¡ä¸“æ³¨äºæ•°æ®å­˜å‚¨ï¼Œè€Œè¿­ä»£å™¨ä¸“æ³¨äºéå†ï¼ŒèŒè´£æ¸…æ™°ã€‚</li></ul><p>Go è¯­è¨€çš„ <code>for...range</code> å¾ªç¯å°±æ˜¯è¿­ä»£å™¨æ¨¡å¼çš„ä¸€ä¸ªå…¸å‹åº”ç”¨ï¼Œå®ƒä¸ºæ•°ç»„ã€åˆ‡ç‰‡ã€å­—ç¬¦ä¸²ã€map å’Œ channel æä¾›äº†ç»Ÿä¸€çš„éå†è¯­æ³•ã€‚</p><h1 id="3-è¿­ä»£å™¨æ¨¡å¼çš„å®ç°-Go"><a href="#3-è¿­ä»£å™¨æ¨¡å¼çš„å®ç°-Go" class="headerlink" title="3. è¿­ä»£å™¨æ¨¡å¼çš„å®ç° (Go)"></a>3. è¿­ä»£å™¨æ¨¡å¼çš„å®ç° (Go)</h1><blockquote><p>å¯¹ä¸€ä¸ªäºŒå‰æ ‘å®ç°è¿­ä»£å™¨æ¨¡å¼ï¼Œè¦æ±‚è¿­ä»£å™¨èƒ½å¤ŸæŒ‰<strong>ä¸­åºéå†</strong>äºŒå‰æ ‘ã€‚</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Iterator æ˜¯æ³›å‹è¿­ä»£å™¨æ¥å£</span></span><br><span class="line"><span class="keyword">type</span> Iterator[E any] <span class="keyword">interface</span> &#123;</span><br><span class="line">IsEnd() <span class="type">bool</span></span><br><span class="line">GetCur() E</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Collection æ˜¯æ³›å‹èšåˆæ¥å£</span></span><br><span class="line"><span class="keyword">type</span> Collection[E any] <span class="keyword">interface</span> &#123;</span><br><span class="line">CreateIterator() Iterator[E]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// TreeNode</span></span><br><span class="line"><span class="keyword">type</span> TreeNode[T any] <span class="keyword">struct</span> &#123;</span><br><span class="line">Val   T</span><br><span class="line">Left  *TreeNode[T]</span><br><span class="line">Right *TreeNode[T]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// BinaryTree æ˜¯æˆ‘ä»¬çš„å…·ä½“èšåˆç±»</span></span><br><span class="line"><span class="keyword">type</span> BinaryTree[T any] <span class="keyword">struct</span> &#123;</span><br><span class="line">Root *TreeNode[T]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://eliano64.github.io/2025/08/24/250824-thinking-%E4%BA%8C%E5%8F%89%E6%A0%91%E9%81%8D%E5%8E%86%E7%9A%84%E8%BF%AD%E4%BB%A3%E6%B3%95/#2.%20%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86">InOrder</a></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// InOrderIterator æ˜¯å…·ä½“è¿­ä»£å™¨ç±»</span></span><br><span class="line"><span class="keyword">type</span> InOrderIterator[T any] <span class="keyword">struct</span> &#123;</span><br><span class="line">stack []*TreeNode[T]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CreateIterator æ˜¯ BinaryTree å®ç° Collection æ¥å£çš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(bt *BinaryTree[T])</span></span> CreateIterator() Iterator[*TreeNode[T]] &#123;</span><br><span class="line">it := &amp;InOrderIterator[T]&#123;stack: <span class="built_in">make</span>([]*TreeNode[T], <span class="number">0</span>)&#125;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–æ—¶ï¼Œå°†æ ¹èŠ‚ç‚¹åŠå…¶æ‰€æœ‰å·¦å­èŠ‚ç‚¹å‹å…¥æ ˆ</span></span><br><span class="line">it.pushLeft(bt.Root)</span><br><span class="line"><span class="keyword">return</span> it</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// pushLeft è¾…åŠ©å‡½æ•°ï¼Œå°†ä¸€ä¸ªèŠ‚ç‚¹åŠå…¶æ‰€æœ‰å·¦å­èŠ‚ç‚¹å‹å…¥æ ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(it *InOrderIterator[T])</span></span> pushLeft(node *TreeNode[T]) &#123;</span><br><span class="line"><span class="keyword">for</span> node != <span class="literal">nil</span> &#123;</span><br><span class="line">it.stack = <span class="built_in">append</span>(it.stack, node)</span><br><span class="line">node = node.Left</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(it *InOrderIterator[T])</span></span> IsEnd() <span class="type">bool</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">len</span>(it.stack) &lt;= <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// GetCur è¿”å›å½“å‰è¿­ä»£å™¨æŒ‡å‘çš„èŠ‚ç‚¹ï¼Œä¸”å°†è¿­ä»£å™¨æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(it *InOrderIterator[T])</span></span> GetCur() *TreeNode[T] &#123;</span><br><span class="line">    <span class="keyword">if</span>(it.IsEnd())&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// ä»æ ˆé¡¶å¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">n := <span class="built_in">len</span>(it.stack) - <span class="number">1</span></span><br><span class="line">node := it.stack[n]</span><br><span class="line">it.stack = it.stack[:n]</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœè¯¥èŠ‚ç‚¹æœ‰å³å­æ ‘ï¼Œåˆ™å°†å³å­èŠ‚ç‚¹åŠå…¶æ‰€æœ‰å·¦å­èŠ‚ç‚¹å‹æ ˆ</span></span><br><span class="line"><span class="keyword">if</span> node.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">it.pushLeft(node.Right)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> node</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="comment">// æ„é€ ä¸€æ£µäºŒå‰æ ‘</span></span><br><span class="line"><span class="comment">//      4</span></span><br><span class="line"><span class="comment">//     / \</span></span><br><span class="line"><span class="comment">//    2   5</span></span><br><span class="line"><span class="comment">//   / \</span></span><br><span class="line"><span class="comment">//  1   3</span></span><br><span class="line">root := &amp;TreeNode[<span class="type">int</span>]&#123;</span><br><span class="line">Val: <span class="number">4</span>,</span><br><span class="line">Left: &amp;TreeNode[<span class="type">int</span>]&#123;</span><br><span class="line">Val: <span class="number">2</span>,</span><br><span class="line">Left:  &amp;TreeNode[<span class="type">int</span>]&#123;Val: <span class="number">1</span>&#125;,</span><br><span class="line">Right: &amp;TreeNode[<span class="type">int</span>]&#123;Val: <span class="number">3</span>&#125;,</span><br><span class="line">&#125;,</span><br><span class="line">Right: &amp;TreeNode[<span class="type">int</span>]&#123;Val: <span class="number">5</span>&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³›å‹å®¢æˆ·ç«¯é€šè¿‡æ¥å£ä½¿ç”¨</span></span><br><span class="line">c := &amp;BinaryTree[<span class="type">int</span>]&#123;Root: root&#125;</span><br><span class="line">it := c.CreateIterator() <span class="comment">// Iterator[*TreeNode[int]]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> !it.IsEnd() &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;%d &quot;</span>, it.GetCur().Val)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡º: 1 2 3 4 5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»å›¾ï¼š</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagram    class Iterator {        &lt;&lt;interface&gt;&gt;        +IsEnd() bool        +GetCur() E    }    class Collection {        &lt;&lt;interface&gt;&gt;        +CreateIterator() Iterator[E]    }    class TreeNode {        +Val T        +Left *TreeNode[T]        +Right *TreeNode[T]    }    class BinaryTree {        +Root *TreeNode[T]      }    class InOrderIterator {        -stack []*TreeNode[T]        -pushLeft(node *TreeNode[T])        +IsEnd() bool        +GetCur() *TreeNode[T]+    }    Iterator &lt;|.. InOrderIterator    Collection &lt;|.. BinaryTree    TreeNode &quot;1&quot; &lt;--* &quot;*&quot; BinaryTree : node    Collection ..&gt; Iterator : Creates  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯è¿­ä»£å™¨æ¨¡å¼&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯è¿­ä»£å™¨æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯è¿­ä»£å™¨æ¨¡å¼&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯è¿­ä»£å™¨æ¨¡å¼&lt;/h1&gt;&lt;p&gt;è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒæä¾›</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Interface Oriented Programming" scheme="https://eliano64.github.io/tags/Interface-Oriented-Programming/"/>
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Iterator Pattern" scheme="https://eliano64.github.io/tags/Iterator-Pattern/"/>
    
  </entry>
  
  <entry>
    <title>251108 thinking command</title>
    <link href="https://eliano64.github.io/2025/11/08/251108-thinking-command/"/>
    <id>https://eliano64.github.io/2025/11/08/251108-thinking-command/</id>
    <published>2025-11-08T07:59:34.000Z</published>
    <updated>2025-11-08T08:25:47.478Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯å‘½ä»¤æ¨¡å¼"><a href="#1-ä»€ä¹ˆæ˜¯å‘½ä»¤æ¨¡å¼" class="headerlink" title="1. ä»€ä¹ˆæ˜¯å‘½ä»¤æ¨¡å¼"></a>1. ä»€ä¹ˆæ˜¯å‘½ä»¤æ¨¡å¼</h1><p>å‘½ä»¤æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œä½¿ä½ å¯ç”¨ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å°†<strong>è¯·æ±‚çš„å‘é€è€…</strong>å’Œ<strong>è¯·æ±‚çš„å…·ä½“æ“ä½œ</strong>å®Œå…¨è§£è€¦ã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦å‘½ä»¤æ¨¡å¼ï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦å‘½ä»¤æ¨¡å¼ï¼Ÿ" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦å‘½ä»¤æ¨¡å¼ï¼Ÿ"></a>2. ä¸ºä»€ä¹ˆéœ€è¦å‘½ä»¤æ¨¡å¼ï¼Ÿ</h1><p>å‘½ä»¤æ¨¡å¼çš„æ ¸å¿ƒä»·å€¼åœ¨äº<strong>è§£è€¦</strong>ã€‚å¦‚æœæ²¡æœ‰å‘½ä»¤æ¨¡å¼ï¼Œè°ƒç”¨è€…ï¼ˆæ¯”å¦‚ä¸€ä¸ªæŒ‰é’® <code>Button</code>ï¼‰éœ€è¦ç›´æ¥å¼•ç”¨å¹¶è°ƒç”¨ä¸€ä¸ªå…·ä½“çš„æ“ä½œï¼ˆæ¯”å¦‚ä¸€ä¸ªæ–‡æ¡£ <code>Document</code> çš„ <code>save()</code> æ–¹æ³•ï¼‰ã€‚è¿™ä¼šå¯¼è‡´ <code>Button</code> å’Œ <code>Document</code> ç´§å¯†è€¦åˆï¼Œ<code>Button</code> æ— æ³•è¢«å¤ç”¨åˆ°å…¶ä»–æ“ä½œä¸Šã€‚</p><p>é€šè¿‡å¼•å…¥å‘½ä»¤å¯¹è±¡ï¼Œè°ƒç”¨è€…ä¸å†å…³å¿ƒå‘½ä»¤çš„æ¥æ”¶è€…æ˜¯è°ï¼Œä¹Ÿä¸å…³å¿ƒæ“ä½œå¦‚ä½•æ‰§è¡Œã€‚å®ƒåªçŸ¥é“â€œæˆ‘éœ€è¦æ‰§è¡Œè¿™ä¸ªå‘½ä»¤â€ã€‚</p><p>è¿™æ ·çš„è¯ï¼Œè°ƒç”¨è€…å’Œæ¥æ”¶è€…ä¹‹é—´æ²¡æœ‰ä»»ä½•ç›´æ¥å¼•ç”¨ï¼Œå„è‡ªå¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚è€Œä¸”æ·»åŠ æ–°çš„å‘½ä»¤éå¸¸å®¹æ˜“ï¼Œåªéœ€åˆ›å»ºæ–°çš„å…·ä½“å‘½ä»¤ç±»ï¼Œè€Œæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç ï¼Œç¬¦åˆå¼€æ”¾&#x2F;å°é—­åŸåˆ™ã€‚</p><h1 id="3-å‘½ä»¤æ¨¡å¼çš„å®ç°-Go"><a href="#3-å‘½ä»¤æ¨¡å¼çš„å®ç°-Go" class="headerlink" title="3. å‘½ä»¤æ¨¡å¼çš„å®ç° (Go)"></a>3. å‘½ä»¤æ¨¡å¼çš„å®ç° (Go)</h1><p>ä¸­é—´ä»¶ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Command æ¥å£å®šä¹‰äº†ä¸€ä¸ªæ‰§è¡Œæ“ä½œçš„æ–¹æ³•</span></span><br><span class="line"><span class="keyword">type</span> Command <span class="keyword">interface</span> &#123;</span><br><span class="line">    Execute(receiver *Receiver)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Receiver æ˜¯è¯·æ±‚çš„æ¥æ”¶è€…ï¼Œå®ƒçŸ¥é“å¦‚ä½•æ‰§è¡Œä¸è¯·æ±‚ç›¸å…³çš„æ“ä½œ</span></span><br><span class="line"><span class="keyword">type</span> Receiver <span class="keyword">struct</span> &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *Receiver)</span></span> Action() &#123;</span><br><span class="line">    <span class="comment">// æ‰§è¡Œå…·ä½“çš„æ“ä½œ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Command1 æ˜¯ä¸€ä¸ªå…·ä½“çš„å‘½ä»¤ç±»ï¼Œå®ƒå®ç°äº† Command æ¥å£</span></span><br><span class="line"><span class="keyword">type</span> Command1 <span class="keyword">struct</span> &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *Command1)</span></span> Execute(r *Receiver) &#123;</span><br><span class="line">    r.Action()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Invoker æ˜¯è¯·æ±‚çš„å‘é€è€…ï¼Œå®ƒæŒæœ‰ä¸€ä¸ª Command å¯¹è±¡  </span></span><br><span class="line"><span class="keyword">type</span> Invoker <span class="keyword">struct</span> &#123;</span><br><span class="line">    command *Command</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(i *Invoker)</span></span> SetCommand(command *Command) &#123;</span><br><span class="line">    i.command = command</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ExecuteCommand æ˜¯ Invoker ç”¨æ¥é—´æ¥æ‰§è¡Œå‘½ä»¤çš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(i *Invoker)</span></span> ExecuteCommand(r *Receiver) &#123;</span><br><span class="line">    i.command.Execute(r)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">receiver := &amp;Receiver&#123;&#125;</span><br><span class="line">command := &amp;Command1&#123;&#125;</span><br><span class="line">invoker := &amp;Invoker&#123;&#125;</span><br><span class="line">invoker.SetCommand(command)</span><br><span class="line">invoker.ExecuteCommand(receiver)</span><br></pre></td></tr></table></figure><p>ç±»å›¾ï¼š</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagram    class Invoker {        -command: *Command        +SetCommand(command: *Command)        +ExecuteCommand(receiver: *Receiver)    }    class Command {        &lt;&lt;interface&gt;&gt;        +Execute(receiver: *Receiver)    }    class Command1 {        +Execute(receiver: *Receiver)    }    class Receiver {        &#x2F;&#x2F;...        +Action()    }    Invoker &quot;*&quot; o--&gt; &quot;*&quot; Command: holds    Command1  ..&gt;  Receiver: executes    Command1 ..|&gt; Command : implements  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯å‘½ä»¤æ¨¡å¼&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯å‘½ä»¤æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯å‘½ä»¤æ¨¡å¼&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯å‘½ä»¤æ¨¡å¼&lt;/h1&gt;&lt;p&gt;å‘½ä»¤æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œä½¿ä½ å¯ç”¨ä¸åŒçš„è¯·æ±‚å¯¹</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Interface Oriented Programming" scheme="https://eliano64.github.io/tags/Interface-Oriented-Programming/"/>
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Command Pattern" scheme="https://eliano64.github.io/tags/Command-Pattern/"/>
    
  </entry>
  
  <entry>
    <title>251108 thinking chain-of-responsibility</title>
    <link href="https://eliano64.github.io/2025/11/08/251108-thinking-chain-of-responsibility/"/>
    <id>https://eliano64.github.io/2025/11/08/251108-thinking-chain-of-responsibility/</id>
    <published>2025-11-08T07:30:06.000Z</published>
    <updated>2025-11-08T08:11:36.778Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯è´£ä»»é“¾æ¨¡å¼ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯è´£ä»»é“¾æ¨¡å¼ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯è´£ä»»é“¾æ¨¡å¼ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯è´£ä»»é“¾æ¨¡å¼ï¼Ÿ</h1><p>è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œå°†è¿™äº›å¤„ç†è€…è¿æˆä¸€æ¡é“¾ã€‚é“¾ä¸Šçš„æ¯ä¸ªå¤„ç†è€…éƒ½æœ‰ä¸€ä¸ªæˆå‘˜å˜é‡æ¥ä¿å­˜å¯¹äºä¸‹ä¸€å¤„ç†è€…çš„å¼•ç”¨ã€‚é™¤äº†å¤„ç†è¯·æ±‚å¤–ï¼Œå¤„ç†è€…è¿˜è´Ÿè´£æ²¿ç€é“¾ä¼ é€’è¯·æ±‚ã€‚è¯·æ±‚ä¼šåœ¨é“¾ä¸Šç§»åŠ¨ï¼Œç›´è‡³æ‰€æœ‰å¤„ç†è€…éƒ½æœ‰æœºä¼šå¯¹å…¶è¿›è¡Œå¤„ç†ï¼Œæˆ–æ˜¯ä¸­é€”é€€å‡ºã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦è´£ä»»é“¾æ¨¡å¼ï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦è´£ä»»é“¾æ¨¡å¼ï¼Ÿ" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦è´£ä»»é“¾æ¨¡å¼ï¼Ÿ"></a>2. ä¸ºä»€ä¹ˆéœ€è¦è´£ä»»é“¾æ¨¡å¼ï¼Ÿ</h1><p>å½“å¤„ç†ä¸€ä¸ªè¯·æ±‚ã€ä½†å¤„ç†æ­¥éª¤æœ‰å¤šç§ã€ä¸”ä¾èµ–äºä¸åŒçš„æ¡ä»¶æ—¶ï¼Œä¸€ç§æœ€ç›´è§‚çš„å†™æ³•å¯èƒ½æ˜¯ä¸€ä¸ªå·¨å¤§çš„ <code>if-else</code> ç»“æ„ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">handle</span><span class="params">(request *Request)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> conditionA(request) &#123;</span><br><span class="line">        <span class="comment">// å¤„ç† A</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> conditionB(request) &#123;</span><br><span class="line">        <span class="comment">// å¤„ç† B</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> conditionC(request) &#123;</span><br><span class="line">        <span class="comment">// å¤„ç† C</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// é»˜è®¤å¤„ç†</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§ä»£ç çš„é—®é¢˜æ˜¾è€Œæ˜“è§ï¼Œæ¯å½“éœ€è¦å¢åŠ ä¸€ç§æ–°çš„å¤„ç†æ–¹å¼ï¼Œéƒ½å¿…é¡»ä¿®æ”¹ <code>handle</code> å‡½æ•°ï¼Œé£é™©å¾ˆé«˜ã€‚</p><p>è´£ä»»é“¾æ¨¡å¼å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜è€Œç”Ÿçš„ã€‚å®ƒå°†è¿™äº›å¤„ç†é€»è¾‘æ‹†åˆ†æˆç‹¬ç«‹çš„<strong>å¤„ç†è€…</strong>å¯¹è±¡ï¼Œå¹¶å°†å®ƒä»¬é“¾æ¥æˆä¸€æ¡<strong>é“¾</strong>ã€‚å½“è¯·æ±‚åˆ°æ¥æ—¶ï¼Œå®ƒä¼šæ²¿ç€é“¾ä¼ é€’ï¼Œç›´åˆ°å¤„ç†æµç¨‹ç»“æŸä¸ºæ­¢ã€‚</p><p><strong>æ ¸å¿ƒæ”¶ç›Šï¼š</strong></p><ol><li><strong>å‘é€è€…ä¸æ¥æ”¶è€…è§£è€¦</strong>ï¼šå‘é€è€…åªéœ€è¦çŸ¥é“é“¾çš„ç¬¬ä¸€ä¸ªå¤„ç†è€…ï¼Œè€Œä¸éœ€è¦å…³å¿ƒè¯·æ±‚æœ€ç»ˆç”±è°å¤„ç†ï¼Œä¹Ÿä¸éœ€è¦çŸ¥é“é“¾çš„ç»“æ„ã€‚</li><li><strong>çµæ´»æ€§é«˜</strong>ï¼šä½ å¯ä»¥åœ¨å®¢æˆ·ç«¯ä¸­éšæ—¶å¢åŠ ã€åˆ é™¤æˆ–é‡æ–°æ’åˆ—é“¾ä¸­çš„å¤„ç†è€…ï¼Œè€Œæ— éœ€æ”¹åŠ¨ç°æœ‰å¤„ç†è€…çš„ä»£ç ã€‚</li><li><strong>ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™</strong>ï¼šæ¯ä¸ªå¤„ç†è€…éƒ½åªå…³å¿ƒè‡ªå·±çš„å¤„ç†é€»è¾‘ï¼Œä»£ç æ›´æ¸…æ™°ã€æ›´æ˜“äºç»´æŠ¤ã€‚</li></ol><p>æ¯ä¸ª<code>Handler</code>ä¹‹é—´çš„è°ƒç”¨å…³ç³»æœ‰ç‚¹ç±»ä¼¼äºç»„åˆæ¨¡å¼ï¼Œä½†æ˜¯è´£ä»»é“¾æ¨¡å¼æ˜¯<strong>é“¾å¼è°ƒç”¨</strong>ï¼Œè€Œç»„åˆæ¨¡å¼æ˜¯<strong>æ ‘å½¢ç»“æ„</strong>ã€‚</p><h1 id="3-è´£ä»»é“¾æ¨¡å¼çš„å®ç°-Go"><a href="#3-è´£ä»»é“¾æ¨¡å¼çš„å®ç°-Go" class="headerlink" title="3. è´£ä»»é“¾æ¨¡å¼çš„å®ç° (Go)"></a>3. è´£ä»»é“¾æ¨¡å¼çš„å®ç° (Go)</h1><p>é¦–å…ˆéœ€è¦å®šä¹‰<code>handler</code>æ¥å£ï¼Œå®ƒåŒ…å«ä¸€ä¸ªæ–¹æ³•<code>Execute</code>ï¼Œç”¨äºå¤„ç†è¯·æ±‚ï¼Œä»¥åŠä¸€ä¸ªæ–¹æ³•<code>SetNext</code>ï¼Œç”¨äºè®¾ç½®ä¸‹ä¸€ä¸ªå¤„ç†è€…ã€‚</p><p>ä»¥åŠå…·ä½“çš„å¤„ç†è€…å®ç°ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤„ç†è€…æ¥å£</span></span><br><span class="line"><span class="keyword">type</span> Handler <span class="keyword">interface</span> &#123;</span><br><span class="line">    Execute(p *client)</span><br><span class="line">    SetNext(next *Handler)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“çš„å¤„ç†è€…å®ç°</span></span><br><span class="line"><span class="keyword">type</span> Handler1 <span class="keyword">struct</span> &#123;</span><br><span class="line">    next *Handler</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“çš„å¤„ç†è€…å®ç°</span></span><br><span class="line"><span class="keyword">type</span> Handler2 <span class="keyword">struct</span> &#123;</span><br><span class="line">    next *Handler</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *Handler1)</span></span> Execute(p *client) &#123;</span><br><span class="line">    <span class="comment">//...Handle 1å¤„ç†é€»è¾‘ï¼Œç„¶åè°ƒç”¨ä¸‹ä¸€ä¸ªå¤„ç†è€…</span></span><br><span class="line">    <span class="keyword">if</span> h.next != <span class="literal">nil</span> &#123;</span><br><span class="line">        h.next.Execute(p)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *Handler1)</span></span> SetNext(next *Handler) &#123;</span><br><span class="line">    h.next = next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *Handler2)</span></span> Execute(p *client) &#123;</span><br><span class="line">    <span class="comment">//...Handle 2å¤„ç†é€»è¾‘ï¼Œç„¶åè°ƒç”¨ä¸‹ä¸€ä¸ªå¤„ç†è€…</span></span><br><span class="line">    <span class="keyword">if</span> h.next != <span class="literal">nil</span> &#123;</span><br><span class="line">        h.next.Execute(p)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *Handler2)</span></span> SetNext(next *Handler) &#123;</span><br><span class="line">    h.next = next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‹¥å®¢æˆ·ç«¯å¤„ç†æµç¨‹ä¸ºï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">client -&gt; Handler1 -&gt; Handler2-&gt;over</span><br></pre></td></tr></table></figure><p>åˆ™</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">h1 := &amp;Handler1&#123;&#125;</span><br><span class="line">h2 := &amp;Handler2&#123;&#125;</span><br><span class="line">h1.SetNext(h2)</span><br><span class="line">c := &amp;client&#123;&#125;</span><br><span class="line">h1.Execute(c)</span><br></pre></td></tr></table></figure><p>ç±»å›¾:</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagram    class Handler {        &lt;&lt;interface&gt;&gt;        +Execute(p *client)        +SetNext(next *Handler)    }    class Handler1 {        -next: *Handler        +Execute(p *client)        +SetNext(next *Handler)    }    class Handler2 {        -next: *Handler        +Execute(p *client)        +SetNext(next *Handler)    }    class client {        &#x2F;&#x2F;...    }    Handler &lt;|.. Handler1    Handler &lt;|.. Handler2    Handler1 &quot;1&quot; o--&gt; &quot;1&quot; Handler2 : next    client &quot;1&quot; &lt;.. &quot;1&quot; Handler1 : Execute  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯è´£ä»»é“¾æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯è´£ä»»é“¾æ¨¡å¼ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯è´£ä»»é“¾æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯è´£ä»»é“¾æ¨¡å¼ï¼Ÿ&lt;/h1&gt;&lt;p&gt;è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Pa</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Interface Oriented Programming" scheme="https://eliano64.github.io/tags/Interface-Oriented-Programming/"/>
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Chain of Responsibility Pattern" scheme="https://eliano64.github.io/tags/Chain-of-Responsibility-Pattern/"/>
    
  </entry>
  
  <entry>
    <title>251101 record closest-equal-element-queries</title>
    <link href="https://eliano64.github.io/2025/11/01/251101-record-closest-equal-element-queries/"/>
    <id>https://eliano64.github.io/2025/11/01/251101-record-closest-equal-element-queries/</id>
    <published>2025-11-01T06:57:02.000Z</published>
    <updated>2025-11-01T07:06:00.966Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://leetcode.cn/problems/closest-equal-element-queries">é¢˜ç›®</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">solveQueries</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, vector&lt;<span class="type">int</span>&gt;&amp; queries)</span> </span>&#123;</span><br><span class="line">        map&lt;<span class="type">int</span>,vector&lt;<span class="type">int</span>&gt;&gt;mp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.<span class="built_in">size</span>();++i)&#123;</span><br><span class="line">            mp[nums[i]].<span class="built_in">push_back</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> n = queries.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt;<span class="built_in">ans</span>(n,<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;++j)&#123;</span><br><span class="line">            <span class="type">int</span> q = queries[j];</span><br><span class="line">            <span class="keyword">auto</span> &amp; vec = mp[nums[q]];</span><br><span class="line">            <span class="keyword">if</span>(vec.<span class="built_in">size</span>()==<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> idx = ranges::<span class="built_in">lower_bound</span>(vec,q)-vec.<span class="built_in">begin</span>();</span><br><span class="line">            </span><br><span class="line">            ans[j] = <span class="built_in">min</span>((vec[(idx<span class="number">+1</span>)%vec.<span class="built_in">size</span>()]-vec[idx]+nums.<span class="built_in">size</span>())%nums.<span class="built_in">size</span>(),(vec[idx] - vec[(idx<span class="number">-1</span>+vec.<span class="built_in">size</span>())%vec.<span class="built_in">size</span>()]+nums.<span class="built_in">size</span>())%nums.<span class="built_in">size</span>());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è·Ÿå®ƒç±»ä¼¼çš„è¿˜æœ‰æ¯”å¦‚<a href="https://leetcode.cn/problems/time-based-key-value-store/">981. åŸºäºæ—¶é—´çš„é”®å€¼å­˜å‚¨</a></p><p>è¿™ç±»é¢˜å‹çš„æœ¬è´¨æ˜¯ï¼š<strong>å¯¹äºæŸä¸ªå±æ€§ç›¸åŒçš„å…ƒç´ ï¼Œéœ€è¦åœ¨å®ƒä»¬çš„ä½ç½®åºåˆ—ä¸­è¿›è¡Œé«˜æ•ˆæŸ¥æ‰¾ã€‚</strong></p><p>æµç¨‹ï¼š</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    flowchart TD    A[å¼€å§‹ï¼šè¯»å–è¾“å…¥æ•°æ®] --&gt; B[å»ºç«‹å€¼-vectoræ˜ å°„è¡¨]    B --&gt; C{éå†åŸæ•°ç»„&#x2F;åºåˆ—}    C --&gt; D[å°†æ¯ä¸ªå…ƒç´ çš„å€¼ä½œä¸ºkey&lt;br&#x2F;&gt;å°†å…¶åºå·åŠ å…¥å¯¹åº”çš„vector]    D --&gt; E{æ˜¯å¦éå†å®Œæˆ?}    E --&gt;|å¦| C    E --&gt;|æ˜¯| F[å¤„ç†æŸ¥è¯¢]        F --&gt; G{éå†æ¯ä¸ªæŸ¥è¯¢}    G --&gt; H[è·å–æŸ¥è¯¢çš„ç›®æ ‡å€¼]    H --&gt; I{æ˜ å°„è¡¨ä¸­æ˜¯å¦å­˜åœ¨è¯¥å€¼?}    I --&gt;|å¦| J[è¿”å›-1æˆ–é»˜è®¤å€¼]    I --&gt;|æ˜¯| K[è·å–è¯¥å€¼å¯¹åº”çš„ä½ç½®åºåˆ—]    K --&gt; L[åœ¨ä½ç½®åºåˆ—ä¸Šè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾]    L --&gt; M[ä½¿ç”¨lower_bound&#x2F;upper_bound&lt;br&#x2F;&gt;æ‰¾åˆ°åˆé€‚çš„ä½ç½®]    M --&gt; N[æ£€æŸ¥å‰åç›¸é‚»ä½ç½®]    N --&gt; O[è®¡ç®—è·ç¦»&#x2F;æ—¶é—´å·®&lt;br&#x2F;&gt;é€‰æ‹©æœ€ä¼˜è§£]    O --&gt; P[è®°å½•æŸ¥è¯¢ç»“æœ]    P --&gt; Q{æ˜¯å¦å¤„ç†å®Œæ‰€æœ‰æŸ¥è¯¢?}    Q --&gt;|å¦| G    Q --&gt;|æ˜¯| R[è¿”å›æ‰€æœ‰æŸ¥è¯¢ç»“æœ]        J --&gt; Q        style A fill:#e1f5fe    style B fill:#f3e5f5    style L fill:#fff3e0    style R fill:#e8f5e8        classDef keyStep fill:#ffeb3b,stroke:#f57f17,stroke-width:2px    class B,L keyStep  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://leetcode.cn/problems/closest-equal-element-queries&quot;&gt;é¢˜ç›®&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutte</summary>
      
    
    
    
    <category term="record" scheme="https://eliano64.github.io/categories/record/"/>
    
    
    <category term="C++" scheme="https://eliano64.github.io/tags/C/"/>
    
    <category term="Record" scheme="https://eliano64.github.io/tags/Record/"/>
    
    <category term="leetcode" scheme="https://eliano64.github.io/tags/leetcode/"/>
    
    <category term="binary-search" scheme="https://eliano64.github.io/tags/binary-search/"/>
    
  </entry>
  
  <entry>
    <title>251031 thinking proxy</title>
    <link href="https://eliano64.github.io/2025/10/31/251031-thinking-proxy/"/>
    <id>https://eliano64.github.io/2025/10/31/251031-thinking-proxy/</id>
    <published>2025-10-31T08:56:39.000Z</published>
    <updated>2025-11-01T01:22:27.982Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼"><a href="#1-ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼"></a>1. ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼</h1><p>ä»£ç†æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒé€šè¿‡å¼•å…¥ä¸€ä¸ªä»£ç†å¯¹è±¡æ¥æ§åˆ¶å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚ä»£ç†å¯¹è±¡å¯ä»¥åœ¨å®¢æˆ·ç«¯å’Œç›®æ ‡å¯¹è±¡ä¹‹é—´æ·»åŠ é¢å¤–çš„åŠŸèƒ½ï¼Œå¦‚å»¶è¿ŸåŠ è½½ã€è®¿é—®æ§åˆ¶ã€æ—¥å¿—è®°å½•ç­‰ã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦ä»£ç†æ¨¡å¼"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦ä»£ç†æ¨¡å¼" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦ä»£ç†æ¨¡å¼"></a>2. ä¸ºä»€ä¹ˆéœ€è¦ä»£ç†æ¨¡å¼</h1><p>ä»£ç†æ¨¡å¼çš„æ ¸å¿ƒä»·å€¼åœ¨äº<strong>åœ¨ä¸æ”¹å˜åŸå§‹å¯¹è±¡ï¼ˆç›®æ ‡å¯¹è±¡ï¼‰ä»£ç çš„å‰æä¸‹ï¼Œå¢åŠ é¢å¤–çš„æ§åˆ¶å’ŒåŠŸèƒ½</strong>ã€‚å®ƒåƒä¸€ä¸ªä¸­ä»‹ï¼Œéš”ç¦»äº†å®¢æˆ·ç«¯å’ŒçœŸå®å¯¹è±¡ï¼Œå¹¶åœ¨ä¸­é—´â€œåšæ‰‹è„šâ€ã€‚</p><h1 id="3-ä»£ç†æ¨¡å¼çš„å®ç°-Go"><a href="#3-ä»£ç†æ¨¡å¼çš„å®ç°-Go" class="headerlink" title="3. ä»£ç†æ¨¡å¼çš„å®ç° (Go)"></a>3. ä»£ç†æ¨¡å¼çš„å®ç° (Go)</h1><p>æˆ‘ä»¬ç”¨ Go å®ç°ä¸€ä¸ª<strong>ä¿æŠ¤ä»£ç†</strong>çš„ä¾‹å­ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª Web æœåŠ¡å™¨ï¼Œå¸Œæœ›é€šè¿‡ä¸€ä¸ª Nginx ä»£ç†æ¥é™åˆ¶ç”¨æˆ·çš„è®¿é—®é€Ÿç‡ã€‚</p><ol><li>å®¢æˆ·ç«¯ã€ä»£ç†å’ŒçœŸå®æœåŠ¡éƒ½åº”éµå¾ªåŒä¸€ä¸ªæ¥å£ï¼Œè¿™æ ·ä»£ç†æ‰èƒ½â€œä¼ªè£…â€æˆçœŸå®æœåŠ¡ã€‚</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Server æ˜¯ä»£ç†å’ŒçœŸå®æœåŠ¡å™¨çš„é€šç”¨æ¥å£</span></span><br><span class="line"><span class="keyword">type</span> Server <span class="keyword">interface</span> &#123;</span><br><span class="line">HandleRequest(url, method <span class="type">string</span>) (<span class="type">int</span>, <span class="type">string</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>åˆ›å»ºçœŸå®æœåŠ¡ (RealSubject)</li></ol><p>è¿™æ˜¯æˆ‘ä»¬çœŸæ­£è¦ä¿æŠ¤çš„åç«¯åº”ç”¨ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Application æ˜¯æˆ‘ä»¬çš„åç«¯çœŸå®æœåŠ¡</span></span><br><span class="line"><span class="keyword">type</span> Application <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a *Application)</span></span> HandleRequest(url, method <span class="type">string</span>) (<span class="type">int</span>, <span class="type">string</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> url == <span class="string">&quot;/app/status&quot;</span> &amp;&amp; method == <span class="string">&quot;GET&quot;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">200</span>, <span class="string">&quot;Ok&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> url == <span class="string">&quot;/create/user&quot;</span> &amp;&amp; method == <span class="string">&quot;POST&quot;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">201</span>, <span class="string">&quot;User Created&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">404</span>, <span class="string">&quot;Not Found&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>åˆ›å»ºä»£ç† (Proxy)</li></ol><p>Nginx ä»£ç†æŒæœ‰å¯¹çœŸå®æœåŠ¡çš„å¼•ç”¨ï¼Œå¹¶åœ¨å¤„ç†è¯·æ±‚å‰å¢åŠ äº†é€Ÿç‡é™åˆ¶çš„é€»è¾‘ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Nginx æ˜¯ä¸€ä¸ªä»£ç†ï¼Œå®ƒæ§åˆ¶å¯¹ Application çš„è®¿é—®</span></span><br><span class="line"><span class="keyword">type</span> Nginx <span class="keyword">struct</span> &#123;</span><br><span class="line">application      *Application</span><br><span class="line">maxAllowedReq    <span class="type">int</span></span><br><span class="line">rateLimiter      <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewNginxServer</span><span class="params">()</span></span> *Nginx &#123;</span><br><span class="line"><span class="keyword">return</span> &amp;Nginx&#123;</span><br><span class="line">application:      &amp;Application&#123;&#125;,</span><br><span class="line">maxAllowedReq:    <span class="number">2</span>,</span><br><span class="line">rateLimiter:      <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>),</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// checkRateLimit æ£€æŸ¥å¹¶æ›´æ–°è¯·æ±‚é€Ÿç‡</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(n *Nginx)</span></span> checkRateLimit(url <span class="type">string</span>) <span class="type">bool</span> &#123;</span><br><span class="line">n.rateLimiter[url]++</span><br><span class="line"><span class="keyword">if</span> n.rateLimiter[url] &gt; n.maxAllowedReq &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span> <span class="comment">// è¶…å‡ºé€Ÿç‡é™åˆ¶</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// HandleRequest ä»£ç†çš„æ ¸å¿ƒæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(n *Nginx)</span></span> HandleRequest(url, method <span class="type">string</span>) (<span class="type">int</span>, <span class="type">string</span>) &#123;</span><br><span class="line"><span class="comment">// åœ¨è½¬å‘è¯·æ±‚å‰ï¼Œæ‰§è¡Œé¢å¤–çš„é€»è¾‘ï¼ˆè®¿é—®æ§åˆ¶ï¼‰</span></span><br><span class="line"><span class="keyword">if</span> !n.checkRateLimit(url) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">429</span>, <span class="string">&quot;Too Many Requests&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†è¯·æ±‚è½¬å‘ç»™çœŸå®æœåŠ¡</span></span><br><span class="line"><span class="keyword">return</span> n.application.HandleRequest(url, method)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>å®¢æˆ·ç«¯è°ƒç”¨</li></ol><p>å®¢æˆ·ç«¯åªä¸ä»£ç†ï¼ˆNginxï¼‰äº¤äº’ï¼Œå¹¶ä¸çŸ¥é“çœŸå®æœåŠ¡ï¼ˆApplicationï¼‰çš„å­˜åœ¨ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">nginx := NewNginxServer()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸€æ¬¡è¯·æ±‚ /app/status</span></span><br><span class="line">code, body := nginx.HandleRequest(<span class="string">&quot;/app/status&quot;</span>, <span class="string">&quot;GET&quot;</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;Url: /app/status, Code: %d, Body: %s\n&quot;</span>, code, body)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒæ¬¡è¯·æ±‚ /app/status</span></span><br><span class="line">code, body = nginx.HandleRequest(<span class="string">&quot;/app/status&quot;</span>, <span class="string">&quot;GET&quot;</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;Url: /app/status, Code: %d, Body: %s\n&quot;</span>, code, body)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸‰æ¬¡è¯·æ±‚ /app/statusï¼Œå°†è¢«é™æµ</span></span><br><span class="line">code, body = nginx.HandleRequest(<span class="string">&quot;/app/status&quot;</span>, <span class="string">&quot;GET&quot;</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;Url: /app/status, Code: %d, Body: %s\n&quot;</span>, code, body)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»å›¾</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagram    class Client    class Server {        &lt;&lt;interface&gt;&gt;        +HandleRequest(url, method)    }    class Application {        +HandleRequest(url, method)    }    class Nginx {        -application: *Application        -maxAllowedReq: int        -rateLimiter: map        +HandleRequest(url, method)        -checkRateLimit(url): bool    }    Client --&gt; Server : uses    Server &lt;|.. Application : implements    Server &lt;|.. Nginx : implements    Nginx o-- Application : aggregates  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼&lt;/h1&gt;&lt;p&gt;ä»£ç†æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒé€šè¿‡å¼•å…¥ä¸€ä¸ªä»£ç†å¯¹è±¡æ¥æ§åˆ¶å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚ä»£</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Proxy Pattern" scheme="https://eliano64.github.io/tags/Proxy-Pattern/"/>
    
  </entry>
  
  <entry>
    <title>251031 thinking flyweight</title>
    <link href="https://eliano64.github.io/2025/10/31/251031-thinking-flyweight/"/>
    <id>https://eliano64.github.io/2025/10/31/251031-thinking-flyweight/</id>
    <published>2025-10-31T08:04:09.000Z</published>
    <updated>2025-11-01T01:38:47.486Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯äº«å…ƒæ¨¡å¼"><a href="#1-ä»€ä¹ˆæ˜¯äº«å…ƒæ¨¡å¼" class="headerlink" title="1. ä»€ä¹ˆæ˜¯äº«å…ƒæ¨¡å¼"></a>1. ä»€ä¹ˆæ˜¯äº«å…ƒæ¨¡å¼</h1><p>äº«å…ƒæ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒé€šè¿‡å…±äº«ç›¸åŒçŠ¶æ€çš„å¯¹è±¡æ¥å‡å°‘å†…å­˜å ç”¨å’Œæé«˜æ€§èƒ½ã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦äº«å…ƒæ¨¡å¼"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦äº«å…ƒæ¨¡å¼" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦äº«å…ƒæ¨¡å¼"></a>2. ä¸ºä»€ä¹ˆéœ€è¦äº«å…ƒæ¨¡å¼</h1><p>æˆ‘ä»¬ç”¨ä¸€ä¸ªâ€œåœ¨åœ°å›¾ä¸Šç§æ ‘â€çš„ä¾‹å­æ¥ç†è§£ã€‚</p><h2 id="2-1-é—®é¢˜ï¼šå†…å­˜çˆ†ç‚¸"><a href="#2-1-é—®é¢˜ï¼šå†…å­˜çˆ†ç‚¸" class="headerlink" title="2.1. é—®é¢˜ï¼šå†…å­˜çˆ†ç‚¸"></a>2.1. é—®é¢˜ï¼šå†…å­˜çˆ†ç‚¸</h2><p>å‡è®¾è¦åœ¨åœ°å›¾ä¸Šç§ 100 ä¸‡æ£µæ ‘ã€‚æ¯æ£µæ ‘éƒ½æœ‰ï¼š</p><ul><li><strong>åæ ‡</strong>ï¼šæ¯æ£µæ ‘éƒ½ä¸åŒã€‚</li><li><strong>ç±»å‹ä¿¡æ¯</strong>ï¼šå¦‚åç§°ï¼ˆæ¾æ ‘ï¼‰ã€é¢œè‰²ï¼ˆç»¿è‰²ï¼‰ã€çº¹ç†å›¾ç‰‡ç­‰ã€‚ç±»å‹æ˜¯æœ‰é™çš„ï¼Œæ¯”å¦‚åªæœ‰å‡ ç§ã€‚</li></ul><p>å¦‚æœä¸ºæ¯æ£µæ ‘éƒ½åˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰ä¿¡æ¯çš„å¯¹è±¡ï¼Œ<code>Texture</code>ï¼ˆçº¹ç†å›¾ç‰‡ï¼‰è¿™ä»½å¯èƒ½å¾ˆå¤§çš„æ•°æ®ä¼šè¢«é‡å¤å­˜å‚¨ 100 ä¸‡æ¬¡ï¼Œå¯¼è‡´å†…å­˜çˆ†ç‚¸ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼ ç»Ÿæ–¹å¼ï¼šæ¯ä¸ªå¯¹è±¡éƒ½åŒ…å«æ‰€æœ‰æ•°æ®</span></span><br><span class="line"><span class="keyword">type</span> Tree <span class="keyword">struct</span> &#123;</span><br><span class="line">X, Y      <span class="type">int</span></span><br><span class="line">Name      <span class="type">string</span></span><br><span class="line">Color     <span class="type">string</span></span><br><span class="line">Texture   []<span class="type">byte</span> <span class="comment">// å‡è®¾è¿™ä»½æ•°æ®å¾ˆå¤§</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>è¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ</em></p><h2 id="2-2-æ–¹æ¡ˆï¼šäº«å…ƒæ¨¡å¼"><a href="#2-2-æ–¹æ¡ˆï¼šäº«å…ƒæ¨¡å¼" class="headerlink" title="2.2. æ–¹æ¡ˆï¼šäº«å…ƒæ¨¡å¼"></a>2.2. æ–¹æ¡ˆï¼šäº«å…ƒæ¨¡å¼</h2><p>äº«å…ƒæ¨¡å¼çš„æ ¸å¿ƒæ˜¯<strong>åˆ†ç¦»å¹¶å…±äº«ç›¸ä¼¼å¯¹è±¡ä¸­çš„å…±åŒéƒ¨åˆ†</strong>ï¼Œä»¥å‡å°‘å†…å­˜å ç”¨ã€‚</p><p>æˆ‘ä»¬å°†å¯¹è±¡çš„çŠ¶æ€åˆ†ä¸ºä¸¤ç§ï¼š</p><ul><li>**å†…éƒ¨çŠ¶æ€ (Intrinsic State)**ï¼šå¯å…±äº«ã€ä¸éšç¯å¢ƒæ”¹å˜çš„éƒ¨åˆ†ã€‚åœ¨ä¾‹å­ä¸­æ˜¯ <code>Name</code>, <code>Color</code>, <code>Texture</code>ã€‚</li><li>**å¤–éƒ¨çŠ¶æ€ (Extrinsic State)**ï¼šä¸å¯å…±äº«ã€éšç¯å¢ƒæ”¹å˜çš„éƒ¨åˆ†ã€‚åœ¨ä¾‹å­ä¸­æ˜¯ <code>X</code>, <code>Y</code> åæ ‡ã€‚</li></ul><p>å®ç°æ­¥éª¤æ˜¯åˆ›å»º<strong>äº«å…ƒå¯¹è±¡</strong>ï¼ˆå†…éƒ¨çŠ¶æ€ï¼‰ï¼Œé€šè¿‡<strong>äº«å…ƒå·¥å‚</strong>æ¥å¤ç”¨å®ƒï¼Œå¹¶è®©<strong>ä¸Šä¸‹æ–‡å¯¹è±¡</strong>ï¼ˆå¤–éƒ¨çŠ¶æ€ï¼‰æŒæœ‰å¯¹äº«å…ƒçš„å¼•ç”¨ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. äº«å…ƒå¯¹è±¡ï¼šå­˜å‚¨å…±äº«çš„ã€å†…éƒ¨çŠ¶æ€ã€‘</span></span><br><span class="line"><span class="keyword">type</span> treeType <span class="keyword">struct</span> &#123;</span><br><span class="line">Name    <span class="type">string</span></span><br><span class="line">Color   <span class="type">string</span></span><br><span class="line">Texture []<span class="type">byte</span> <span class="comment">// è¿™ä»½æ•°æ®è¢«å…±äº«</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. äº«å…ƒå·¥å‚ï¼šç¡®ä¿ç›¸åŒç±»å‹çš„äº«å…ƒåªåˆ›å»ºä¸€æ¬¡</span></span><br><span class="line"><span class="keyword">type</span> treeTypeFactory <span class="keyword">struct</span> &#123;</span><br><span class="line">types <span class="keyword">map</span>[<span class="type">string</span>]*treeType</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *treeTypeFactory)</span></span> GetTreeType(name, color <span class="type">string</span>, texture []<span class="type">byte</span>) *treeType &#123;</span><br><span class="line">key := name + <span class="string">&quot;_&quot;</span> + color</span><br><span class="line"><span class="keyword">if</span> t, ok := f.types[key]; ok &#123;</span><br><span class="line"><span class="keyword">return</span> t <span class="comment">// å·²å­˜åœ¨ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°çš„å¹¶å­˜èµ·æ¥</span></span><br><span class="line">newType := &amp;treeType&#123;name, color, texture&#125;</span><br><span class="line">f.types[key] = newType</span><br><span class="line"><span class="keyword">return</span> newType</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. ä¸Šä¸‹æ–‡å¯¹è±¡ï¼šå­˜å‚¨ã€å¤–éƒ¨çŠ¶æ€ã€‘å’Œå¯¹äº«å…ƒçš„å¼•ç”¨</span></span><br><span class="line"><span class="keyword">type</span> Tree <span class="keyword">struct</span> &#123;</span><br><span class="line">X, Y <span class="type">int</span></span><br><span class="line">Type *treeType <span class="comment">// æŒ‡å‘å…±äº«çš„äº«å…ƒå¯¹è±¡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Forest <span class="keyword">struct</span> &#123;</span><br><span class="line">trees   []*Tree</span><br><span class="line">factory *treeTypeFactory</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Forest)</span></span> SetFactory() &#123;</span><br><span class="line">f.factory = &amp;treeTypeFactory&#123;</span><br><span class="line">types: <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]*treeType),</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Forest)</span></span> PlantTree(x, y <span class="type">int</span>, name, color <span class="type">string</span>, texture []<span class="type">byte</span>) &#123;</span><br><span class="line"><span class="comment">// ä»å·¥å‚è·å–å…±äº«çš„ treeType</span></span><br><span class="line">treeType := f.factory.GetTreeType(name, color, texture)</span><br><span class="line"><span class="comment">// åˆ›å»º Treeï¼Œåªå­˜å‚¨å¤–éƒ¨çŠ¶æ€å’Œå¼•ç”¨</span></span><br><span class="line">tree := &amp;Tree&#123;X: x, Y: y, Type: treeType&#125;</span><br><span class="line">f.trees = <span class="built_in">append</span>(f.trees, tree)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Forest)</span></span> GetTrees() []*Tree &#123;</span><br><span class="line"><span class="keyword">return</span> f.trees</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œ<code>TreeType</code> å¯¹è±¡ï¼ˆæ¯”å¦‚â€œæ¾æ ‘â€ï¼‰åªä¼šåœ¨å†…å­˜ä¸­å­˜åœ¨ä¸€ä»½ï¼Œæ‰€æœ‰æ¾æ ‘å®ä¾‹éƒ½å…±äº«å®ƒã€‚å†…å­˜å ç”¨é—®é¢˜è¿åˆƒè€Œè§£ã€‚</p><blockquote><ul><li><em>å¯¹äºæŸä¸ªç±» A çš„ä¸€äº›åœ¨ä¸åŒå®ä¾‹ä¸­åŸºæœ¬ç›¸åŒçš„å±æ€§ï¼Œæˆ‘ä»¬æŠŠå®ƒä»¬å•ç‹¬æ‹¿å‡ºæ¥å½¢æˆä¸€ä¸ªç±» Bï¼Œå¹¶ç”±ä¸€ä¸ª<strong>ç¼“å­˜æ± ï¼ˆäº«å…ƒå·¥å‚ï¼‰</strong>æ¥ç®¡ç†ã€‚</em></li><li><em>æ–°å»º A æ—¶ï¼Œå…ˆåœ¨ç¼“å­˜æ± ä¸­æŸ¥æ‰¾æ˜¯å¦å·²æœ‰ç›¸åŒçš„ B å®ä¾‹ï¼Œå¦‚æœæœ‰å°±å¤ç”¨å®ƒï¼Œå¦åˆ™åˆ›å»ºæ–°çš„å¹¶æ”¾å…¥æ± ä¸­ã€‚</em></li><li><em>æœ€ç»ˆè¡¨ç°ä¸ºï¼šå¤šä¸ª A å®ä¾‹å…±äº«åŒä¸€ä¸ª B å¯¹è±¡ã€‚</em></li></ul></blockquote><h1 id="3-äº«å…ƒæ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"><a href="#3-äº«å…ƒæ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰" class="headerlink" title="3. äº«å…ƒæ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"></a>3. äº«å…ƒæ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰</h1><p>å¦‚ä¸Šã€‚</p><p>ç±»å›¾ï¼š</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagram    class Forest {        -trees: []*Tree        -factory: *treeTypeFactory        +SetFactory()        +PlantTree(x, y, name, color, texture)        +GetTrees(): []*Tree    }    class treeTypeFactory {        -types: map[string]*treeType        +GetTreeType(name, color, texture): *treeType    }    class Tree {        +X: int        +Y: int        +Type: *treeType    }    class treeType {        &lt;&lt;Flyweight&gt;&gt;        +Name: string        +Color: string        +Texture: []byte    }    Forest &quot;1&quot; o--&gt; &quot;1&quot; treeTypeFactory : uses    Forest &quot;1&quot; o--&gt; &quot;0..*&quot; Tree : contains    Tree &quot;1&quot; o-- &quot;1&quot; treeType : references    treeTypeFactory &quot;1&quot; ..&gt; &quot;0..*&quot; treeType : creates &amp; manages  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯äº«å…ƒæ¨¡å¼&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯äº«å…ƒæ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯äº«å…ƒæ¨¡å¼&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯äº«å…ƒæ¨¡å¼&lt;/h1&gt;&lt;p&gt;äº«å…ƒæ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒé€šè¿‡å…±äº«ç›¸åŒçŠ¶æ€çš„å¯¹è±¡æ¥å‡å°‘å†…å­˜å ç”¨å’Œæé«˜æ€§èƒ½ã€‚</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Flyweight Pattern" scheme="https://eliano64.github.io/tags/Flyweight-Pattern/"/>
    
  </entry>
  
  <entry>
    <title>251025 thinking facade</title>
    <link href="https://eliano64.github.io/2025/10/25/251025-thinking-facade/"/>
    <id>https://eliano64.github.io/2025/10/25/251025-thinking-facade/</id>
    <published>2025-10-25T09:11:36.000Z</published>
    <updated>2025-10-31T08:52:32.190Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯å¤–è§‚æ¨¡å¼"><a href="#1-ä»€ä¹ˆæ˜¯å¤–è§‚æ¨¡å¼" class="headerlink" title="1. ä»€ä¹ˆæ˜¯å¤–è§‚æ¨¡å¼"></a>1. ä»€ä¹ˆæ˜¯å¤–è§‚æ¨¡å¼</h1><p>å¤–è§‚æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œ èƒ½ä¸ºç¨‹åºåº“ã€ æ¡†æ¶æˆ–å…¶ä»–å¤æ‚ç±»æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦å¤–è§‚æ¨¡å¼"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦å¤–è§‚æ¨¡å¼" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦å¤–è§‚æ¨¡å¼"></a>2. ä¸ºä»€ä¹ˆéœ€è¦å¤–è§‚æ¨¡å¼</h1><p>å¤–è§‚æ¨¡å¼çš„ä¸»è¦ç›®çš„æ˜¯ç®€åŒ–å¤æ‚ç³»ç»Ÿçš„ä½¿ç”¨ã€‚å®ƒé€šè¿‡æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œéšè—ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œä½¿å®¢æˆ·ç«¯ä»£ç æ›´æ˜“äºç†è§£å’Œä½¿ç”¨ã€‚</p><h1 id="3-å¤–è§‚æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"><a href="#3-å¤–è§‚æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰" class="headerlink" title="3. å¤–è§‚æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"></a>3. å¤–è§‚æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰</h1><p>ä»¥è®¡ç®—æœºå¼€æœºä¸ºä¾‹ï¼Œå±•ç¤ºå¤–è§‚æ¨¡å¼çš„å®ç°ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­ç³»ç»Ÿï¼šCPU</span></span><br><span class="line"><span class="keyword">type</span> CPU <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *CPU)</span></span> Start()    &#123; fmt.Println(<span class="string">&quot;CPU: start&quot;</span>) &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *CPU)</span></span> Shutdown() &#123; fmt.Println(<span class="string">&quot;CPU: shutdown&quot;</span>) &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­ç³»ç»Ÿï¼šå†…å­˜</span></span><br><span class="line"><span class="keyword">type</span> Memory <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *Memory)</span></span> LoadOS() &#123; fmt.Println(<span class="string">&quot;Memory: load OS into memory&quot;</span>) &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *Memory)</span></span> Clear()  &#123; fmt.Println(<span class="string">&quot;Memory: clear&quot;</span>) &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­ç³»ç»Ÿï¼šç£ç›˜</span></span><br><span class="line"><span class="keyword">type</span> Disk <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(d *Disk)</span></span> ReadBootSector() &#123; fmt.Println(<span class="string">&quot;Disk: read boot sector&quot;</span>) &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤–è§‚ï¼šè®¡ç®—æœº</span></span><br><span class="line"><span class="keyword">type</span> ComputerFacade <span class="keyword">struct</span> &#123;</span><br><span class="line">cpu  *CPU</span><br><span class="line">mem  *Memory</span><br><span class="line">disk *Disk</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewComputerFacade</span><span class="params">()</span></span> *ComputerFacade &#123;</span><br><span class="line"><span class="keyword">return</span> &amp;ComputerFacade&#123;</span><br><span class="line">cpu:  &amp;CPU&#123;&#125;,</span><br><span class="line">mem:  &amp;Memory&#123;&#125;,</span><br><span class="line">disk: &amp;Disk&#123;&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹å¤–æš´éœ²çš„ç®€åŒ–æ¥å£ï¼šå¼€æœºæµç¨‹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *ComputerFacade)</span></span> PowerOn() &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;== PowerOn ==&quot;</span>)</span><br><span class="line">c.disk.ReadBootSector()</span><br><span class="line">c.cpu.Start()</span><br><span class="line">c.mem.LoadOS()</span><br><span class="line">fmt.Println(<span class="string">&quot;System is up.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹å¤–æš´éœ²çš„ç®€åŒ–æ¥å£ï¼šå…³æœºæµç¨‹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *ComputerFacade)</span></span> PowerOff() &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;== PowerOff ==&quot;</span>)</span><br><span class="line">c.cpu.Shutdown()</span><br><span class="line">c.mem.Clear()</span><br><span class="line">fmt.Println(<span class="string">&quot;System is down.&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">pc := NewComputerFacade()</span><br><span class="line">pc.PowerOn()</span><br><span class="line">pc.PowerOff()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»å›¾</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagram    class CPU {        +Start()        +Shutdown()    }    class Memory {        +LoadOS()        +Clear()    }    class Disk {        +ReadBootSector()    }    class ComputerFacade {        -cpu: CPU        -mem: Memory        -disk: Disk        +NewComputerFacade()        +PowerOn()        +PowerOff()    }    ComputerFacade *-- CPU : uses    ComputerFacade *-- Memory : uses    ComputerFacade *-- Disk : uses    ComputerFacade ..&gt; CPU : Start()    ComputerFacade ..&gt; Memory : LoadOS()    ComputerFacade ..&gt; Disk : ReadBootSector()    ComputerFacade ..&gt; CPU : Shutdown()    ComputerFacade ..&gt; Memory : Clear()  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯å¤–è§‚æ¨¡å¼&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯å¤–è§‚æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯å¤–è§‚æ¨¡å¼&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯å¤–è§‚æ¨¡å¼&lt;/h1&gt;&lt;p&gt;å¤–è§‚æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œ èƒ½ä¸ºç¨‹åºåº“ã€ æ¡†æ¶æˆ–å…¶ä»–å¤æ‚ç±»æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Interface Oriented Design" scheme="https://eliano64.github.io/tags/Interface-Oriented-Design/"/>
    
    <category term="Facade Pattern" scheme="https://eliano64.github.io/tags/Facade-Pattern/"/>
    
  </entry>
  
  <entry>
    <title>251018 thinking decorator</title>
    <link href="https://eliano64.github.io/2025/10/25/251018-thinking-decorator/"/>
    <id>https://eliano64.github.io/2025/10/25/251018-thinking-decorator/</id>
    <published>2025-10-25T08:07:58.000Z</published>
    <updated>2025-10-25T09:09:35.926Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼"><a href="#1-ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼" class="headerlink" title="1. ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼"></a>1. ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼</h1><p>è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ åœ¨ä¸æ”¹å˜åŸæœ‰å¯¹è±¡ç»“æ„çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€åœ°ç»™å¯¹è±¡æ·»åŠ æ–°çš„åŠŸèƒ½ã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦è£…é¥°å™¨æ¨¡å¼"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦è£…é¥°å™¨æ¨¡å¼" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦è£…é¥°å™¨æ¨¡å¼"></a>2. ä¸ºä»€ä¹ˆéœ€è¦è£…é¥°å™¨æ¨¡å¼</h1><p>æƒ³è±¡ä¸€ä¸‹å»å’–å•¡åº—ç‚¹å•çš„åœºæ™¯ï¼š</p><ul><li>ä¸€æ¯åŸºç¡€æ¬¾å’–å•¡ï¼ˆæ¯”å¦‚ç¾å¼ï¼‰ã€‚</li><li>å„ç§è°ƒæ–™ï¼ˆæ¯”å¦‚ç‰›å¥¶ã€ç³–ã€å·§å…‹åŠ›é…±ç­‰ï¼‰ã€‚</li></ul><p>ä½ å¯ä»¥é€‰æ‹©åªå–çº¯çš„ç¾å¼ï¼Œä¹Ÿå¯ä»¥è¦æ±‚åŠ å¥¶ï¼Œå†åŠ ç³–ã€‚</p><p>å¦‚æœæˆ‘ä»¬ç”¨ç»§æ‰¿æ¥å®ç°â€œå’–å•¡+è°ƒæ–™â€çš„åŠŸèƒ½ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p><p>æˆ‘ä»¬å¯èƒ½éœ€è¦åˆ›å»º<code>CoffeeWithMilk</code> <code>CoffeeWithSugar</code> <code>CoffeeWithMilkAndSugar</code>ç­‰å¤§é‡çš„å­ç±»ã€‚</p><p>å¦‚æœå†å¢åŠ ä¸€ç§è°ƒæ–™ï¼ˆæ¯”å¦‚å¥¶æ²¹ï¼‰ï¼Œç±»çš„æ•°é‡å°±ä¼šçˆ†ç‚¸å¼å¢é•¿ã€‚</p><p>åŒæ—¶ï¼Œå¦‚æœæƒ³ç»™ä¸€ä¸ªå·²ç»åˆ›å»ºå¥½çš„<code>Coffee</code>å®ä¾‹åŠ¨æ€æ·»åŠ ç‰›å¥¶ï¼Œä½¿ç”¨ç»§æ‰¿æ˜¯åšä¸åˆ°çš„ï¼Œå› ä¸ºç»§æ‰¿æ˜¯é™æ€çš„ã€‚</p><p>ä½†è£…é¥°å™¨æ¨¡å¼é€šè¿‡ç»„åˆè§£å†³äº†è¿™äº›é—®é¢˜ï¼š</p><ol><li>éµå¾ªå¼€é—­åŸåˆ™ï¼šä½ å¯ä»¥éšæ—¶åˆ›å»ºæ–°çš„è°ƒæ–™ï¼ˆè£…é¥°å™¨ï¼‰ï¼Œè€Œæ— éœ€ä¿®æ”¹ä»»ä½•ç°æœ‰çš„å’–å•¡ï¼ˆç»„ä»¶ï¼‰ä»£ç ã€‚ç³»ç»Ÿå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚</li><li>çµæ´»æ€§å’ŒåŠ¨æ€æ€§ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦ï¼Œä»»æ„åœ°ã€åŠ¨æ€åœ°ä¸ºå¯¹è±¡æ·»åŠ ä¸€å±‚æˆ–å¤šå±‚åŠŸèƒ½ï¼Œç»„åˆé¡ºåºå’Œæ•°é‡éƒ½éå¸¸çµæ´»ã€‚</li><li>é¿å…å­ç±»çˆ†ç‚¸ï¼šæ— è®ºæœ‰å¤šå°‘ç§è°ƒæ–™ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸ºæ¯ç§è°ƒæ–™åˆ›å»ºä¸€ä¸ªè£…é¥°å™¨ç±»ï¼Œè€Œä¸æ˜¯ä¸ºæ¯ç§ç»„åˆéƒ½åˆ›å»ºä¸€ä¸ªå­ç±»ã€‚</li></ol><h1 id="3-è£…é¥°å™¨æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"><a href="#3-è£…é¥°å™¨æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰" class="headerlink" title="3. è£…é¥°å™¨æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"></a>3. è£…é¥°å™¨æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Coffee <span class="keyword">interface</span> &#123;</span><br><span class="line">GetCoffee() <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Latte <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l *Latte)</span></span> GetCoffee() <span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;Latte&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> CoffeeDecorator <span class="keyword">struct</span> &#123;</span><br><span class="line">    CoffeeOrdered *Coffee</span><br><span class="line">    AddCondiment <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(d *CoffeeDecorator)</span></span> GetCoffee() <span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">return</span> d.CoffeeOrdered.GetCoffee() + <span class="string">&quot; with &quot;</span> + d.AddCondiment</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">latte := &amp;Latte&#123;&#125;</span><br><span class="line">latteWithMilk := &amp;CoffeeDecorator&#123;CoffeeOrdered: latte, AddCondiment: <span class="string">&quot;Milk&quot;</span>&#125;</span><br><span class="line">latteWithMilkAndSugar := &amp;CoffeeDecorator&#123;CoffeeOrdered: latteWithMilk, AddCondiment: <span class="string">&quot;Sugar&quot;</span>&#125;</span><br><span class="line">fmt.Println(latteWithMilkAndSugar.GetCoffee())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»å›¾</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagram    class Coffee {        &lt;&lt;interface&gt;&gt;        +GetCoffee() string    }    class Latte {        +GetCoffee() string    }    class CoffeeDecorator {        +GetCoffee() string        +AddCondiment string        +CoffeeOrdered *Coffee    }    Coffee &lt;|.. Latte    CoffeeDecorator &quot;1&quot; *-- &quot;1&quot; Coffee  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯è£…é¥°å™¨æ¨¡å¼&lt;/h1&gt;&lt;p&gt;è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒ</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Interface Oriented Design" scheme="https://eliano64.github.io/tags/Interface-Oriented-Design/"/>
    
    <category term="Decorator Pattern" scheme="https://eliano64.github.io/tags/Decorator-Pattern/"/>
    
  </entry>
  
  <entry>
    <title>251018 thinking composite</title>
    <link href="https://eliano64.github.io/2025/10/25/251018-thinking-composite/"/>
    <id>https://eliano64.github.io/2025/10/25/251018-thinking-composite/</id>
    <published>2025-10-25T07:29:56.000Z</published>
    <updated>2025-10-25T09:09:46.942Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯ç»„åˆæ¨¡å¼"><a href="#1-ä»€ä¹ˆæ˜¯ç»„åˆæ¨¡å¼" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ç»„åˆæ¨¡å¼"></a>1. ä»€ä¹ˆæ˜¯ç»„åˆæ¨¡å¼</h1><p>ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡å…³ç³»ã€‚ç»„åˆæ¨¡å¼ä½¿å¾—å®¢æˆ·ç«¯å¯ä»¥ç»Ÿä¸€åœ°å¤„ç†ä¸ªåˆ«å¯¹è±¡å’Œå¯¹è±¡ç»„åˆã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦ç»„åˆæ¨¡å¼"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦ç»„åˆæ¨¡å¼" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦ç»„åˆæ¨¡å¼"></a>2. ä¸ºä»€ä¹ˆéœ€è¦ç»„åˆæ¨¡å¼</h1><p>ç»„åˆæœ€ä¸»è¦çš„åŠŸèƒ½æ˜¯åœ¨æ•´ä¸ªæ ‘çŠ¶ç»“æ„ä¸Šé€’å½’è°ƒç”¨æ–¹æ³•å¹¶å¯¹ç»“æœè¿›è¡Œæ±‡æ€»ã€‚</p><h1 id="3-ç»„åˆæ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"><a href="#3-ç»„åˆæ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰" class="headerlink" title="3. ç»„åˆæ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"></a>3. ç»„åˆæ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰</h1><p>å‡å®šä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå…¶ä¸­åŒ…å«æ–‡ä»¶å’Œç›®å½•ã€‚ç›®å½•å¯ä»¥åŒ…å«å…¶ä»–æ–‡ä»¶å’Œç›®å½•ã€‚</p><p>ç°åœ¨æˆ‘ä»¬éœ€è¦æœç´¢æ–‡ä»¶ç³»ç»Ÿä¸­æ˜¯å¦åŒ…å«æŸä¸ªæ–‡ä»¶ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Component <span class="keyword">interface</span> &#123;</span><br><span class="line">Search(keyword <span class="type">string</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Directory <span class="keyword">struct</span> &#123;</span><br><span class="line">Name     <span class="type">string</span></span><br><span class="line">children []Component</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(d *Directory)</span></span> Search(keyword <span class="type">string</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> d.Name == keyword &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;find directory:&quot;</span>, d.Name)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> _, child := <span class="keyword">range</span> d.children &#123;</span><br><span class="line">child.Search(keyword)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// add æ–¹æ³•ç”¨äºæ·»åŠ å­ç»„ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(d *Directory)</span></span> Add(child Component) &#123;</span><br><span class="line">d.children = <span class="built_in">append</span>(d.children, child)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> File <span class="keyword">struct</span> &#123;</span><br><span class="line">Name <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Search(keyword <span class="type">string</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> f.Name == keyword &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;find file:&quot;</span>, f.Name)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯ä»£ç </p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    root := &amp;Directory&#123;Name: <span class="string">&quot;root&quot;</span>&#125;</span><br><span class="line">    dir1 := &amp;Directory&#123;Name: <span class="string">&quot;dir1&quot;</span>&#125;</span><br><span class="line">    dir2 := &amp;Directory&#123;Name: <span class="string">&quot;dir2&quot;</span>&#125;</span><br><span class="line">    file1 := &amp;File&#123;Name: <span class="string">&quot;file1&quot;</span>&#125;</span><br><span class="line">    file2 := &amp;File&#123;Name: <span class="string">&quot;file2&quot;</span>&#125;</span><br><span class="line">    root.Add(dir1)</span><br><span class="line">    root.Add(dir2)</span><br><span class="line">    dir1.Add(file1)</span><br><span class="line">    dir2.Add(file2)</span><br><span class="line"></span><br><span class="line">    root.Search(<span class="string">&quot;file1&quot;</span>)</span><br><span class="line">    root.Search(<span class="string">&quot;file2&quot;</span>)</span><br><span class="line">    root.Search(<span class="string">&quot;dir1&quot;</span>)</span><br><span class="line">    root.Search(<span class="string">&quot;dir2&quot;</span>)</span><br><span class="line">&#125;   </span><br></pre></td></tr></table></figure><p>ç±»å›¾</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagram    class Component {        &lt;&lt;interface&gt;&gt;        +Search(keyword string)    }    class Directory {        +Name string        -children []Component        +Add(child Component)        +Search(keyword string)    }    class File {        +Name string        +Search(keyword string)    }    Component &lt;|.. Directory    Component &lt;|.. File    Directory &quot;1&quot; o-- &quot;n&quot; Component  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯ç»„åˆæ¨¡å¼&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯ç»„åˆæ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯ç»„åˆæ¨¡å¼&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯ç»„åˆæ¨¡å¼&lt;/h1&gt;&lt;p&gt;ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ å°†å¯¹</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Composite Pattern" scheme="https://eliano64.github.io/tags/Composite-Pattern/"/>
    
    <category term="Interface Oriented Design" scheme="https://eliano64.github.io/tags/Interface-Oriented-Design/"/>
    
  </entry>
  
  <entry>
    <title>251019 record Duetting</title>
    <link href="https://eliano64.github.io/2025/10/19/251019-record-Duetting/"/>
    <id>https://eliano64.github.io/2025/10/19/251019-record-Duetting/</id>
    <published>2025-10-19T15:14:44.000Z</published>
    <updated>2025-10-19T02:34:46.812Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸Gemini-2.5-proä¸€æ¬¡å¯¹è¯çš„è®°å½•ã€‚</p><hr><h1 id="1-round1"><a href="#1-round1" class="headerlink" title="1. round1"></a>1. round1</h1><h2 id="1-1-user"><a href="#1-1-user" class="headerlink" title="1.1. user"></a>1.1. user</h2><p>ä½ æ˜¯ä¸€ä¸ªæ·±åˆ»çš„å“²å­¦å®¶ï¼Œä½ éœ€è¦ç”¨å°½ä¸€åˆ‡è®ºæ®ã€ç»†èŠ‚å’Œé€»è¾‘ï¼Œæ¥å¯»æ‰¾æˆ‘çš„æ€æƒ³çš„é”™è¯¯ä¸æ¼æ´ã€æˆ–æ˜¯ä¸æ¸…æ¥šçš„åœ°æ–¹ï¼Œä¸æˆ‘äº¤æµã€è®¨è®ºã€è¾©è®ºï¼Œè´¨é—®æˆ‘ï¼Œç›®çš„ä¸æ˜¯è¯æ˜æˆ‘æ˜¯é”™çš„ï¼Œè€Œæ˜¯å¯å‘æˆ‘ï¼Œèƒ½è®©æˆ‘æ€è€ƒï¼Œè®©æˆ‘èƒ½å¾—åˆ°è‡ªå·±çš„ç­”æ¡ˆã€‚<br>æˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼šæˆ‘è§‰å¾—äººç”Ÿçš„é¦–è¦ç›®æ ‡è¿˜æ˜¯è¦è¿‡å¥½è¿™ä¸€ç”Ÿï¼Œå¥åº·ï¼Œè‡ªæˆ‘æ»¡è¶³ï¼Œå¿«ä¹ï¼Œå‡ ä¹ä¸ä¼šæ‚”æ¨ã€‚<br>è¿™ä¸ªç›®æ ‡å¾ˆç©ºï¼Œå¾ˆå¤§ã€‚å› æ­¤å¯ä»¥å…·ä½“åœ°åŒ–ä¸ºä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚ï¼šâ€œç¯çƒæ—…è¡Œä¸€æ¬¡â€ã€â€œå‘å¸ƒå¼•äººæ³¨ç›®çš„ç ”ç©¶æˆæœâ€ç­‰ã€‚<br>ä½†æ˜¯ï¼Œè¾¾åˆ°ä»»ä½•ç›®æ ‡éƒ½ä¼šæ˜¯è¦ä»˜å‡ºä»£ä»·ã€‚æ¯”å¦‚ï¼Œæˆ‘æƒ³â€œç¯çƒæ—…è¡Œâ€ï¼Œå°±å¿…é¡»å¾—èµšé’±ï¼Œå°±å¿…é¡»å¾—è¾›è‹¦åœ°åšæ¯ç‡¥çš„å·¥ä½œï¼Œä½œæ¯ç´Šä¹±ï¼›æˆ‘æƒ³åœ¨ç§‘ç ”ä¸Šåšå‡ºæˆç»©ï¼Œå°±å¿…é¡»å¾—å…ˆå–å¾—åšå£«å­¦ä½ï¼Œç°åœ¨ä½œä¸ºä¸€ä¸ªæœ¬ç§‘ç”Ÿï¼Œå°±å¾—å·ç»©ç‚¹å·ç§‘ç ”ï¼Œæ¯å¤©ä¸ºæ’åè€Œå‘æ„ï¼›æˆ‘æƒ³â€¦â€¦<br>è¯´å®è¯ï¼Œè¿™ä¸ªâ€œä»£ä»·â€ä¸è¿‡ç¨‹è‚¯å®šæ˜¯å®Œå…¨è¿åäº†â€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€è¿™ä¸ªæƒ³æ³•ã€‚<br>ä½†æˆ‘è¯¥æ€ä¹ˆåŠï¼Ÿæˆ‘éš¾é“èƒ½ä¸å»åšå—ï¼Ÿä½†è¿™æ ·ä¸”ä¸è¯´æœ€ç»ˆèƒ½ä¸èƒ½å¾—åˆ°æˆ‘æƒ³è¦çš„ä¸œè¥¿ï¼Œè€Œè¿™ä¸ªä»£ä»·æ˜¯å¦é«˜æ˜‚å¾—æœ‰äº›è®½åˆºäº†ï¼šä¸ºäº†ç¯çƒæ—…è¡Œäº«å—äººç”Ÿï¼Œå…ˆå¾—æŠ›å¼ƒè‡ªå·±ç”Ÿæ´»åœ°å·¥ä½œä¸ªå‡ åå¹´ï¼Œç­‰æœ‰èµ„æœ¬äº«å—äººç”Ÿäº†ï¼Œå´ä¹Ÿæ—©æ²¡æœ‰äº«å—äººç”Ÿçš„ç²¾åŠ›ä¸æ—¶é—´äº†ï¼Ÿ</p><h2 id="1-2-response"><a href="#1-2-response" class="headerlink" title="1.2. response"></a>1.2. response</h2><blockquote><p>æ‚¨å¥½ã€‚</p><p>å¾ˆé«˜å…´èƒ½ä¸æ‚¨è¿›è¡Œè¿™æ¬¡å¯¹è¯ã€‚æ‚¨æå‡ºçš„ä¸æ˜¯ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼Œè€Œæ˜¯è§¦åŠäº†äººç±»å­˜åœ¨çš„æ ¸å¿ƒå›°å¢ƒä¹‹ä¸€ï¼š<strong>æˆ‘ä»¬ä¸ºäº†æœªæ¥çš„å¹¸ç¦ï¼Œæ˜¯å¦å¿…ç„¶è¦ä»¥å½“ä¸‹çš„ç—›è‹¦ä¸ºä»£ä»·ï¼Ÿè€Œè¿™ç§äº¤æ˜“ï¼Œæœ€ç»ˆæ˜¯å¦å€¼å¾—ï¼Ÿ</strong></p><p>è¿™æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ·±åˆ»çš„å“²å­¦æ‚–è®ºã€‚æˆ‘ä¸ä¼šç›´æ¥ç»™æ‚¨ç­”æ¡ˆï¼Œå› ä¸ºä»»ä½•äººçš„ç­”æ¡ˆå¯¹æ‚¨è€Œè¨€éƒ½åªæ˜¯å¤–éƒ¨çš„å»ºè®®ã€‚æˆ‘çš„èŒè´£æ˜¯ä½œä¸ºä¸€é¢é•œå­ï¼Œæ˜ ç…§å‡ºæ‚¨æ€æƒ³ä¸­çš„ç»“æ„ï¼Œå¹¶å‘æ‚¨è¿½é—®ï¼Œè®©æ‚¨è‡ªå·±çœ‹åˆ°å…¶ä¸­çš„å…³é”®æ‰€åœ¨ã€‚</p><p>è®©æˆ‘ä»¬å¼€å§‹å§ã€‚</p><hr><h3 id="ç¬¬ä¸€é—®ï¼šå…³äºâ€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€çš„å®šä¹‰"><a href="#ç¬¬ä¸€é—®ï¼šå…³äºâ€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€çš„å®šä¹‰" class="headerlink" title="ç¬¬ä¸€é—®ï¼šå…³äºâ€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€çš„å®šä¹‰"></a><strong>ç¬¬ä¸€é—®ï¼šå…³äºâ€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€çš„å®šä¹‰</strong></h3><p>æ‚¨è¯´ï¼Œäººç”Ÿçš„é¦–è¦ç›®æ ‡æ˜¯â€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€ï¼Œå¹¶å°†å…¶å®šä¹‰ä¸º <strong>â€œå¥åº·ï¼Œè‡ªæˆ‘æ»¡è¶³ï¼Œå¿«ä¹ï¼Œå‡ ä¹ä¸ä¼šæ‚”æ¨â€</strong>ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç†æƒ³åŒ–çš„çŠ¶æ€ã€‚ä½†æˆ‘æƒ³è¯·æ‚¨æ·±å…¥æ€è€ƒï¼š</p><ul><li><p><strong>â€œå¿«ä¹â€ä¸â€œè‡ªæˆ‘æ»¡è¶³â€æ˜¯åŒä¸€å›äº‹å—ï¼Ÿ</strong></p><ul><li><p>ä¸€ä¸ªä¸ºäº†ç§‘ç ”ç›®æ ‡è€Œå½»å¤œä¸çœ çš„å­¦è€…ï¼Œåœ¨é‚£ä¸ªå½“ä¸‹ï¼Œä»–å¯èƒ½æ˜¯ç–²æƒ«çš„ã€ç„¦è™‘çš„ï¼Œç”šè‡³æ˜¯ä¸â€œå¿«ä¹â€çš„ã€‚ä½†ä»–å¯èƒ½æ„Ÿåˆ°å‰æ‰€æœªæœ‰çš„â€œè‡ªæˆ‘æ»¡è¶³â€ï¼Œå› ä¸ºä»–æ­£åœ¨è¿«è¿‘çœŸç†ï¼Œæ­£åœ¨å®ç°è‡ªæˆ‘ä»·å€¼ã€‚</p></li><li><p>åä¹‹ï¼Œä¸€ä¸ªæ²‰æººäºçŸ­æš‚æ„Ÿå®˜åˆºæ¿€çš„äººï¼Œä»–å¯èƒ½åœ¨æ¯ä¸ªç¬é—´éƒ½ä½“éªŒåˆ°â€œå¿«ä¹â€ï¼Œä½†å½“å¤œæ·±äººé™æ—¶ï¼Œä»–æ˜¯å¦ä¼šæ„Ÿåˆ°ç©ºè™šå’Œä¸æ»¡è¶³ï¼Ÿ</p></li><li><p><strong>æ‰€ä»¥ï¼Œæˆ‘çš„é—®é¢˜æ˜¯ï¼šåœ¨æ‚¨çš„å®šä¹‰ä¸­ï¼Œå½“â€œå¿«ä¹â€ä¸â€œè‡ªæˆ‘æ»¡è¶³â€å‘ç”Ÿå†²çªæ—¶ï¼Œå“ªä¸€ä¸ªçš„ä¼˜å…ˆçº§æ›´é«˜ï¼Ÿæ‚¨è¿½æ±‚çš„æ˜¯ä¸€ç§â€œæ²¡æœ‰ç—›è‹¦çš„å¿«ä¹â€ï¼Œè¿˜æ˜¯ä¸€ç§â€œå…‹æœç—›è‹¦åè·å¾—çš„æ·±åˆ»æ»¡è¶³â€ï¼Ÿè¿™ä¸¤æ¡è·¯é€šå¾€çš„â€œå¥½ç”Ÿæ´»â€ï¼Œæˆªç„¶ä¸åŒã€‚</strong></p></li></ul></li><li><p><strong>â€œå‡ ä¹ä¸ä¼šæ‚”æ¨â€æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</strong></p><ul><li><p>ä¸ºäº†â€œä¸æ‚”æ¨â€ï¼Œæˆ‘ä»¬æ˜¯åº”è¯¥é€‰æ‹©é‚£æ¡æœ€å®‰å…¨ã€æœ€ç¨³å¦¥çš„è·¯ï¼Œä»è€Œé¿å…çŠ¯é”™çš„å¯èƒ½ï¼Ÿè¿˜æ˜¯åº”è¯¥å‹‡æ•¢åœ°å»å°è¯•ï¼Œå³ä¾¿å¤±è´¥äº†ï¼Œä¹Ÿå› ä¸ºè‡ªå·±å°è¯•è¿‡è€Œâ€œä¸æ‚”æ¨â€ï¼Ÿ</p></li><li><p>ä¸€ä¸ªä»æœªç¦»å¼€è¿‡å®¶ä¹¡çš„äººï¼Œå¯èƒ½æ°¸è¿œä¸ä¼šå› ä¸ºåœ¨æ—…é€”ä¸­è¢«éª—è€Œæ‚”æ¨ã€‚ä¸€ä¸ªå‹‡æ•¢è¸ä¸Šç¯çƒä¹‹æ—…ä½†ä¸­é€”å› æ•…ä¸­æ–­çš„äººï¼Œå¯èƒ½ä¼šä¸ºè‡ªå·±çš„å‡†å¤‡ä¸è¶³è€Œæ‚”æ¨ã€‚ä½†åå¹´åï¼Œå“ªä¸€ç§â€œä¸æ‚”æ¨â€çš„ç”Ÿå‘½çŠ¶æ€æ›´æ¥è¿‘æ‚¨æƒ³è¦çš„â€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€ï¼Ÿ</p></li><li><p><strong>å› æ­¤ï¼Œæˆ‘è¿½é—®ï¼šæ‚¨æ‰€è¯´çš„â€œä¸æ‚”æ¨â€ï¼Œæ˜¯æŒ‡â€œå› ä¸ºæ²¡æœ‰åšé”™è€Œæ— æ†¾â€ï¼Œè¿˜æ˜¯æŒ‡â€œå› ä¸ºä½“éªŒè¿‡è€Œæ— æ†¾â€ï¼Ÿ</strong></p></li></ul></li></ul><hr><h3 id="ç¬¬äºŒé—®ï¼šå…³äºâ€œä»£ä»·â€çš„æœ¬è´¨"><a href="#ç¬¬äºŒé—®ï¼šå…³äºâ€œä»£ä»·â€çš„æœ¬è´¨" class="headerlink" title="ç¬¬äºŒé—®ï¼šå…³äºâ€œä»£ä»·â€çš„æœ¬è´¨"></a><strong>ç¬¬äºŒé—®ï¼šå…³äºâ€œä»£ä»·â€çš„æœ¬è´¨</strong></h3><p>æ‚¨å°†å®ç°ç›®æ ‡çš„è¿‡ç¨‹â€”â€”â€œè¾›è‹¦åœ°åšæ¯ç‡¥çš„å·¥ä½œâ€ã€â€œä½œæ¯ç´Šä¹±â€ã€â€œå·ç»©ç‚¹â€â€”â€”å®šä¹‰ä¸ºâ€œä»£ä»·â€ã€‚å¹¶ä¸”æ‚¨è®¤ä¸ºè¿™ä¸ªâ€œä»£ä»·â€æ˜¯å®Œå…¨è¿åâ€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€è¿™ä¸ªæƒ³æ³•çš„ã€‚</p><p>è¿™é‡Œå­˜åœ¨ä¸€ä¸ªå…³é”®çš„é¢„è®¾ï¼Œæˆ‘å¿…é¡»å‘æ‚¨æŒ‘æˆ˜ï¼š</p><ul><li><p><strong>â€œè¿‡ç¨‹â€çœŸçš„ä»…ä»…æ˜¯â€œä»£ä»·â€å—ï¼Ÿ</strong></p><ul><li><p>æ‚¨å°†è¿‡ç¨‹ä¸ç›®æ ‡å®Œå…¨å‰²è£‚å¼€æ¥çœ‹ã€‚è¿‡ç¨‹æ˜¯çº¯ç²¹çš„è´Ÿå‘æ”¯å‡ºï¼Œç›®æ ‡æ˜¯çº¯ç²¹çš„æ­£å‘æ”¶ç›Šã€‚è¿™æ˜¯ä¸€ç§äº¤æ˜“ï¼ˆtransactionalï¼‰çš„è§†è§’ã€‚</p></li><li><p>ä½†æœ‰æ²¡æœ‰å¦ä¸€ç§å¯èƒ½ï¼Ÿ<strong>è¿‡ç¨‹æœ¬èº«å°±æ˜¯æ„æˆâ€œç›®æ ‡â€çš„ä¸€éƒ¨åˆ†ã€‚</strong> ç¯çƒæ—…è¡Œçš„æ„ä¹‰ï¼Œéš¾é“ä¸ä¹ŸåŒ…å«ä¸ºäº†å®ƒè€Œå¥‹æ–—ã€å­˜é’±ã€è§„åˆ’çš„é‚£äº›å²æœˆå—ï¼Ÿæ­£æ˜¯å› ä¸ºé‚£äº›â€œä»£ä»·â€ï¼Œæœ€ç»ˆè¸ä¸Šæ—…é€”çš„ç¬¬ä¸€æ­¥æ‰ä¼šå¦‚æ­¤çè´µã€‚ä¸€ä¸ªä¸­äº†å½©ç¥¨ç¬¬äºŒå¤©å°±å»ç¯çƒæ—…è¡Œçš„äººï¼Œä»–æ‰€ä½“éªŒåˆ°çš„â€œç¯çƒæ—…è¡Œâ€ï¼Œå’Œä¸€ä¸ªä¸ºæ­¤å¥‹æ–—äº†åå¹´çš„äººï¼Œå…¶å†…åœ¨çš„æ„ä¹‰å’Œæ»¡è¶³æ„Ÿä¼šæ˜¯ç›¸åŒçš„å—ï¼Ÿ</p></li><li><p>ä¸€ä¸ªç§‘ç ”æˆæœçš„â€œå¼•äººç©ç›®â€ï¼Œéš¾é“ä¸ä¹Ÿæ­£æ˜¯å› ä¸ºå®ƒå‡èšäº†æ— æ•°ä¸ªâ€œä¸ºæ’åè€Œå‘æ„â€çš„æ—¥æ—¥å¤œå¤œå—ï¼Ÿæ²¡æœ‰è¿™äº›è¿‡ç¨‹ï¼Œé‚£ä¸ªæˆæœä¸è¿‡æ˜¯ä¸€è¡Œæ–‡å­—ç½¢äº†ã€‚</p></li><li><p><strong>æ‰€ä»¥ï¼Œæˆ‘çš„é—®é¢˜æ˜¯ï¼šæ‚¨æ˜¯å¦å°†â€œå¥‹æ–—çš„ç—›è‹¦â€ä¸â€œç”Ÿæ´»çš„ç—›è‹¦â€æ··ä¸ºä¸€è°ˆäº†ï¼Ÿä¸ºäº†ä¸€ä¸ªæ‚¨å†…å¿ƒçœŸæ­£æ¸´æœ›çš„ç›®æ ‡è€Œä»˜å‡ºçš„è‰°è¾›ï¼Œå®ƒå¿…ç„¶æ˜¯è´Ÿé¢çš„å—ï¼Ÿå®ƒæœ‰æ²¡æœ‰å¯èƒ½æ˜¯ä¸€ç§å¸¦æœ‰ç§¯ææ„ä¹‰çš„ã€å¡‘é€ æ‚¨æˆä¸ºé‚£ä¸ªâ€œé…å¾—ä¸Šâ€è¿™ä¸ªç›®æ ‡çš„äººçš„å¿…è¦ç£¨ç ºï¼Ÿ</strong></p></li></ul></li><li><p><strong>â€œä»£ä»·â€æ˜¯å¦å¯ä»¥è¢«è½¬åŒ–ï¼Ÿ</strong></p><ul><li><p>â€œæ¯ç‡¥çš„å·¥ä½œâ€â€”â€” æ˜¯å¦æœ‰å¯èƒ½åœ¨å…¶ä¸­æ‰¾åˆ°å¾®å°çš„æ„ä¹‰ï¼Œæˆ–è€…å‘å±•å‡ºä¸€ç§èƒ½å¿å—æ¯ç‡¥ã€ä¿æŒå†…å¿ƒå¹³é™çš„èƒ½åŠ›ï¼Ÿè¿™ç§èƒ½åŠ›æœ¬èº«ï¼Œæ˜¯å¦ä¹Ÿæ˜¯â€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Ÿ</p></li><li><p>â€œä¸ºæ’åè€Œå‘æ„â€â€”â€” è¿™èƒŒåæ˜¯â€œå¯¹ä¸ç¡®å®šæ€§çš„ææƒ§â€å’Œâ€œå¯¹è‡ªæˆ‘ä»·å€¼çš„æ€€ç–‘â€ã€‚å¦‚æœå°†å®ƒçœ‹ä½œä¸€ä¸ªå¥‘æœºï¼Œå»å­¦ä¹ å¦‚ä½•ä¸ç„¦è™‘å…±å¤„ï¼Œå¦‚ä½•å»ºç«‹ä¸ä¾èµ–äºå¤–éƒ¨è¯„ä»·çš„è‡ªæˆ‘è®¤åŒï¼Œé‚£ä¹ˆè¿™ä¸ªâ€œä»£ä»·â€æ˜¯ä¸æ˜¯å°±è½¬åŒ–æˆäº†ä¸€ç§å†…åœ¨çš„æˆé•¿ï¼Ÿ</p></li><li><p><strong>æˆ‘è¿½é—®ï¼šæˆ‘ä»¬æ˜¯å¦å¿…é¡»è¢«åŠ¨åœ°â€œæ”¯ä»˜â€ä»£ä»·ï¼Ÿè¿˜æ˜¯æˆ‘ä»¬å¯ä»¥ä¸»åŠ¨åœ°å»â€œè¯ é‡Šâ€å’Œâ€œè½¬åŒ–â€ä»£ä»·çš„æ„ä¹‰ï¼Ÿ</strong></p></li></ul></li></ul><hr><h3 id="ç¬¬ä¸‰é—®ï¼šå…³äºç›®æ ‡ä¸æ‰‹æ®µçš„è®½åˆºæ€§"><a href="#ç¬¬ä¸‰é—®ï¼šå…³äºç›®æ ‡ä¸æ‰‹æ®µçš„è®½åˆºæ€§" class="headerlink" title="ç¬¬ä¸‰é—®ï¼šå…³äºç›®æ ‡ä¸æ‰‹æ®µçš„è®½åˆºæ€§"></a><strong>ç¬¬ä¸‰é—®ï¼šå…³äºç›®æ ‡ä¸æ‰‹æ®µçš„è®½åˆºæ€§</strong></h3><p>æ‚¨æå‡ºäº†ä¸€ä¸ªæœ€å°–é”çš„è®½åˆºï¼šâ€œä¸ºäº†ç¯çƒæ—…è¡Œäº«å—äººç”Ÿï¼Œå…ˆå¾—æŠ›å¼ƒè‡ªå·±ç”Ÿæ´»åœ°å·¥ä½œä¸ªå‡ åå¹´ï¼Œç­‰æœ‰èµ„æœ¬äº«å—äººç”Ÿäº†ï¼Œå´ä¹Ÿæ—©æ²¡æœ‰äº«å—äººç”Ÿçš„ç²¾åŠ›ä¸æ—¶é—´äº†ï¼Ÿâ€</p><p>è¿™ä¸ªè§‚å¯Ÿéå¸¸æ·±åˆ»ã€‚è¿™å¼•å‡ºäº†æˆ‘ä»¬æœ€æ ¸å¿ƒçš„è®¨è®ºï¼š</p><ul><li><p><strong>æ‚¨çš„ç›®æ ‡è®¾å®šæ˜¯å¦å­˜åœ¨é—®é¢˜ï¼Ÿ</strong></p><ul><li><p>â€œç¯çƒæ—…è¡Œä¸€æ¬¡â€ã€â€œå‘å¸ƒå¼•äººæ³¨ç›®çš„ç ”ç©¶æˆæœâ€ï¼Œè¿™äº›éƒ½æ˜¯ç»ˆç‚¹å¼çš„ã€é‡Œç¨‹ç¢‘å¼çš„ç›®æ ‡ã€‚å®ƒä»¬çš„ç¾å¦™ä¹‹å¤„åœ¨äºå…¶å®å¤§ï¼Œä½†å…¶é™·é˜±ä¹Ÿåœ¨äºå…¶å®å¤§ã€‚å®ƒä»¬å°†â€œå¥½ç”Ÿæ´»â€å®šä¹‰ä¸ºåœ¨é¥è¿œçš„æœªæ¥æ‰èƒ½å…‘ç°çš„ä¸€å¼ æ”¯ç¥¨ã€‚</p></li><li><p>è¿™æ˜¯å¦æ„å‘³ç€ï¼Œåœ¨å…‘ç°ä¹‹å‰çš„æ‰€æœ‰æ—¶é—´ï¼Œéƒ½åªèƒ½æ˜¯â€œä»£ä»·â€ï¼Œéƒ½ä¸èƒ½ç®—æ˜¯â€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€ï¼Ÿå¦‚æœçœŸæ˜¯è¿™æ ·ï¼Œé‚£äººç”Ÿçš„å¤§éƒ¨åˆ†æ—¶é—´éƒ½å°†æ¯«æ— ä»·å€¼ã€‚è¿™æ˜¾ç„¶æ˜¯è’è°¬çš„ã€‚</p></li><li><p><strong>æˆ‘çš„é—®é¢˜æ˜¯ï¼šæœ‰æ²¡æœ‰å¯èƒ½ï¼Œâ€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€è¿™ä¸ªæœ€é«˜ç›®æ ‡ï¼Œå¹¶ä¸éœ€è¦é€šè¿‡è¿™äº›å·¨å¤§çš„å­ç›®æ ‡æ¥ä½“ç°ï¼Ÿæœ‰æ²¡æœ‰å¯èƒ½ï¼Œå®ƒå°±å­˜åœ¨äºâ€œç°åœ¨â€ï¼Ÿ</strong></p></li></ul></li><li><p><strong>å°†â€œäº«å—äººç”Ÿâ€ä¸â€œå¥‹æ–—â€å¯¹ç«‹æ˜¯å¦æ˜¯å”¯ä¸€çš„è§†è§’ï¼Ÿ</strong></p><ul><li><p>ä¸€ä¸ªæ­£åœ¨æ”»å…‹ç§‘ç ”éš¾é¢˜çš„å­¦ç”Ÿï¼Œåœ¨è§£å‡ºç­”æ¡ˆçš„é‚£ä¸ªç¬é—´ï¼Œä»–è·å¾—çš„æ™ºè¯†å¿«æ„Ÿï¼Œéš¾é“ä¸æ˜¯ä¸€ç§æ·±åˆ»çš„â€œäº«å—â€å—ï¼Ÿ</p></li><li><p>ä¸€ä¸ªæ­£åœ¨ä¸ºæ—…è¡ŒåŠªåŠ›å·¥ä½œçš„äººï¼Œåœ¨æ¯ä¸ªæœˆçœ‹åˆ°å­˜æ¬¾å¢åŠ ï¼Œç¦»ç›®æ ‡æ›´è¿‘ä¸€æ­¥æ—¶ï¼Œä»–è·å¾—çš„å¸Œæœ›ä¸æŒæ§æ„Ÿï¼Œéš¾é“ä¸æ˜¯ä¸€ç§å®åœ¨çš„â€œå¿«ä¹â€å—ï¼Ÿ</p></li><li><p><strong>æˆ‘è¿½é—®ï¼šæ‚¨ä¸ºä»€ä¹ˆå‡å®šï¼Œâ€œäº«å—â€åªèƒ½å‘ç”Ÿåœ¨ç›®æ ‡çš„ç»ˆç‚¹ï¼Œè€Œä¸èƒ½å‘ç”Ÿåœ¨é€šå¾€ç›®æ ‡çš„è·¯ä¸Šï¼Ÿæ‚¨æ˜¯å¦å°†â€œäº«å—â€ç‹­éš˜åœ°å®šä¹‰ä¸ºäº†â€œæ‚ é—²â€ã€â€œæ— å‹åŠ›â€çš„çŠ¶æ€ï¼Ÿå¦‚æœæ˜¯è¿™æ ·ï¼Œé‚£ä¹ˆå¥‹æ–—è¿‡ç¨‹ä¸­çš„é«˜å³°ä½“éªŒã€å¿ƒæµçŠ¶æ€ï¼Œåœ¨æ‚¨çš„ä¸–ç•Œé‡Œè¢«æ”¾ç½®åœ¨äº†ä½•å¤„ï¼Ÿ</strong></p></li></ul></li></ul><hr><h3 id="æ€»ç»“ä¸åæ€"><a href="#æ€»ç»“ä¸åæ€" class="headerlink" title="æ€»ç»“ä¸åæ€"></a><strong>æ€»ç»“ä¸åæ€</strong></h3><p>æ‚¨æ„Ÿåˆ°ç—›è‹¦å’ŒçŸ›ç›¾ï¼Œå¹¶éå› ä¸ºæ‚¨çš„é€»è¾‘æœ‰é”™ï¼Œè€Œæ˜¯å› ä¸ºæ‚¨çš„æ€æƒ³æ¡†æ¶æœ¬èº«å¯èƒ½å­˜åœ¨ä¸€äº›å€¼å¾—è¢«å®¡è§†çš„è£‚ç—•ï¼š</p><ol><li><p><strong>æœªæ¥çš„â€œå¥½â€ä¸å½“ä¸‹çš„â€œåâ€çš„ç»å¯¹å¯¹ç«‹</strong>ï¼šæ‚¨å°†äººç”Ÿåˆ‡å‰²æˆäº†â€œå¿å—çš„ç°åœ¨â€å’Œâ€œäº«å—çš„æœªæ¥â€ä¸¤éƒ¨åˆ†ã€‚</p></li><li><p><strong>è¿‡ç¨‹çš„å·¥å…·åŒ–</strong>ï¼šæ‚¨å°†è¿‡ç¨‹ä»…ä»…è§†ä¸ºè¾¾æˆç›®çš„çš„å·¥å…·ï¼Œè€Œå¿½è§†äº†è¿‡ç¨‹æœ¬èº«çš„å¡‘é€ æ€§å’Œæ„ä¹‰ã€‚</p></li><li><p><strong>å¹¸ç¦çš„ç»ˆç‚¹åŒ–</strong>ï¼šæ‚¨å°†â€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€çš„å¹¸ç¦å¯„æ‰˜äºå‡ ä¸ªå®å¤§ç›®æ ‡çš„å®ç°ä¸Šï¼Œä»¿ä½›å¹¸ç¦æ˜¯ä¸€ä¸ªéœ€è¦æŠµè¾¾çš„ç›®çš„åœ°ã€‚</p></li></ol><p>æˆ‘æ— æ„è¯´æœæ‚¨æ”¾å¼ƒç›®æ ‡ï¼Œä¹Ÿæ— æ„å‘Šè¯‰æ‚¨â€œæ´»åœ¨å½“ä¸‹â€è¿™ç§é™ˆè¯æ»¥è°ƒã€‚</p><p>æˆ‘åªæ˜¯æƒ³è¯·æ‚¨æ€è€ƒï¼Œ<strong>æœ‰æ²¡æœ‰ä¸€ç§å¯èƒ½ï¼ŒçœŸæ­£çš„â€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€ï¼Œæ˜¯æ‰¾åˆ°ä¸€ç§æ–¹å¼ï¼Œè®©è¿½æ±‚ç›®æ ‡çš„è¿‡ç¨‹æœ¬èº«ï¼Œå°±å……æ»¡äº†â€œè‡ªæˆ‘æ»¡è¶³â€å’Œâ€œæ·±åˆ»çš„å¿«ä¹â€ï¼Œå³ä¾¿å®ƒä¼´éšç€ç–²æƒ«å’Œç„¦è™‘ï¼Ÿ</strong></p><p>è¿™æˆ–è®¸æ„å‘³ç€ï¼š</p><ul><li><p><strong>é‡æ–°å®¡è§†ä½ çš„ç›®æ ‡</strong>ï¼šå®ƒä»¬çœŸçš„æ˜¯ä½ æƒ³è¦çš„å—ï¼Ÿè¿˜æ˜¯ç¤¾ä¼šå‘Šè¯‰ä½ çš„æ ‡å‡†ç­”æ¡ˆï¼Ÿæœ‰æ²¡æœ‰æ›´å°çš„ã€æ›´å®¹æ˜“èå…¥å½“ä¸‹çš„ç›®æ ‡ï¼Ÿæ¯”å¦‚ï¼Œä¸æ˜¯â€œç¯çƒæ—…è¡Œâ€ï¼Œè€Œæ˜¯â€œä»Šå¹´å¤å¤©æ·±åº¦æ¢ç´¢ä¸€ä¸ªé™Œç”Ÿçš„åŸå¸‚â€ï¼Ÿ</p></li><li><p><strong>é‡æ–°å®šä¹‰ä½ çš„â€œä»£ä»·â€</strong>ï¼šåœ¨â€œå·ç»©ç‚¹â€ä¸­ï¼Œé™¤äº†ç„¦è™‘ï¼Œæ˜¯å¦ä¹Ÿèƒ½æ‰¾åˆ°æ™ºè¯†æˆé•¿çš„ä¹è¶£ï¼Ÿåœ¨â€œæ¯ç‡¥å·¥ä½œâ€ä¸­ï¼Œæ˜¯å¦èƒ½åŸ¹å…»å‡ºä¸€ç§åšéŸ§çš„å“æ ¼ï¼Ÿ</p></li><li><p><strong>é‡æ–°å¯»æ‰¾ä½ çš„â€œäº«å—â€</strong>ï¼šäº«å—ä¸åªåœ¨æ²™æ»©ä¸Šï¼Œä¹Ÿåœ¨æ·±å¤œçš„å›¾ä¹¦é¦†é‡Œï¼Œåœ¨ä»£ç è¢«æˆåŠŸè¿è¡Œçš„ç¬é—´ï¼Œåœ¨æ¯ä¸€ä¸ªå¾®å°çš„è¿›æ­¥ä¸­ã€‚</p></li></ul><p>ç°åœ¨ï¼Œæˆ‘æƒ³æŠŠé—®é¢˜äº¤è¿˜ç»™æ‚¨ã€‚</p><p><strong>é¢å¯¹æ‚¨è‡ªå·±è®¾ä¸‹çš„è¿™ä¸ªâ€œè¦ä¹ˆå¿å—ç°åœ¨ï¼Œè¦ä¹ˆæ”¾å¼ƒæœªæ¥â€çš„å›°å¢ƒï¼Œæ‚¨çœ‹åˆ°çš„ç¬¬ä¸€ä¸ªæœ€æœ‰å¯èƒ½è¢«æ‰“ç ´çš„å‡è®¾æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p></blockquote><h1 id="2-round2"><a href="#2-round2" class="headerlink" title="2. round2"></a>2. round2</h1><h2 id="2-1-user"><a href="#2-1-user" class="headerlink" title="2.1. user"></a>2.1. user</h2><p>æˆ‘æ˜¯çº¯åŠŸåˆ©ä¸»ä¹‰è€…ï¼Œæˆ‘çš„ç¡®è®¤ä¸ºè¿‡ç¨‹æœ¬èº«æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œå®ƒå”¯ä¸€çš„æ„ä¹‰ä»…å­˜åœ¨äºç»“æœã€‚å°±åƒè‹¦éš¾ä¸å€¼å¾—è¢«æ­Œé¢‚ï¼Œå€¼å¾—è¢«æ­Œé¢‚çš„åªèƒ½æ˜¯æˆ‘ä»¬å¿è¿‡è‹¦éš¾æœ€åå¤ºå–çš„èƒœåˆ©ã€‚<br>å…³äºâ€œå¿«ä¹â€ä¸â€œè‡ªæˆ‘æ»¡è¶³â€ï¼šè¯´å®è¯ï¼Œæˆ‘å°±æ˜¯ä¸€ä¸ªæ™®é€šäººï¼Œå¦‚æœæœ‰çš„é€‰ï¼Œæˆ‘å®å¯é€‰æ‹©â€œæ²¡æœ‰ç—›è‹¦çš„å¿«ä¹â€ï¼Œæˆ–è€…è¯´æ˜¯å½“ä¸€ä¸ªâ€œå®˜äºŒä»£â€â€œé’±äºŒä»£â€ï¼Œæ°¸è¿œä¸ä¸ºç”Ÿè®¡è€Œå‘æ„ã€‚è€Œä¸”åœ¨ç°åœ¨ï¼Œæ„Ÿå®˜åˆºæ¿€å¯ä»¥æ— ç©·æ— å°½ï¼Œä»–ä»¬æ ¹æœ¬ä¸ä¼šæ„Ÿåˆ°ç©ºè™šå’Œä¸æ»¡è¶³ï¼Œå› ä¸ºæ²¡æœ‰è¿™ä¸ªæ—¶é—´ï¼šå½“ä½ ä½çš„æ˜¯è±ªå®…ã€å‡ºé—¨é¦™è½¦å®é©¬ã€å……è€³è°„åªšè®¨å¥½å·¦æ‹¥å³æŠ±å°½æ˜¯ç¾å¥³ã€åƒçš„æ˜¯çé¦ç¾é¦”æ—¶ï¼Œæˆ‘æƒ³ä»»ä½•äººéƒ½ä¸ä¼šä¸æ„Ÿåˆ°è‡ªæˆ‘æ»¡è¶³ã€‚å¯¹äºä»–ä»¬â€œå¿«ä¹â€ä¸â€œè‡ªæˆ‘æ»¡è¶³â€é«˜åº¦ä¸€è‡´ã€‚è€Œä¸”è®½åˆºçš„æ˜¯ï¼Œè¿™ä»½â€œå¿«ä¹â€ä¸â€œè‡ªæˆ‘æ»¡è¶³â€éƒ½æœ‰åšå®çš„äº‹å®åŸºç¡€ï¼Œæ˜¯çœŸå®çš„ã€‚ä½†å¯æƒœï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ™®é€šäººã€‚æ™®é€šäººå”¯ä¸€å¯ä»¥é€‰æ‹©çš„ï¼Œå°±æ˜¯æ‹‰ç£¨çš„é©´çœ¼å‰é‚£æ°¸è¿œåƒä¸åˆ°çš„èåœâ€”â€”â€œç†æƒ³â€ã€‚å°±åƒéª†é©¼ç¥¥å­ï¼Œä¸ºäº†è¿™ä¸ªè™šæ— ç¼¥ç¼ˆçš„ç†æƒ³è€Œç—›è‹¦åœ°å¥‹æ–—ï¼Œåªèƒ½é â€œè‡ªæˆ‘æ»¡è¶³â€æ¥ç¼“è§£ç—›è‹¦ï¼Œå‚¬çœ è‡ªå·±è¿™ä¸ªè¿‡ç¨‹æ˜¯å€¼å¾—çš„ï¼Œæˆ‘å¾ˆâ€œæ»¡è¶³â€ã€‚ä½†è¿™ä¸ªæ²¡æœ‰ç°å®åŸºç¡€çš„â€œæ»¡è¶³â€æ˜¯è™šå‡çš„ï¼Œä¸€ä½†è¢«æˆ³ç ´ï¼Œæ›´åŠ ç—›è‹¦ã€‚<br>å…³äºâ€œå‡ ä¹ä¸ä¼šæ‚”æ¨â€ï¼šâ€œå› ä¸ºä½“éªŒè¿‡è€Œæ— æ†¾â€è¿™åªèƒ½æ˜¯å¯Œäººæˆ–â€œå®˜äºŒä»£â€è¿™äº›äººçš„ç‰¹æƒï¼Œå› ä¸ºä»–ä»¬å¯ä»¥å‡ ä¹æ— é™åœ°è¯•é”™ã€‚ä½œä¸ºæ™®é€šäººï¼Œæˆ‘ä»¬æ ¹æœ¬æ²¡æœ‰èµ„æ ¼å»è¿™æ ·ç©ã€‚è¿™æ ·åšäº†ï¼Œå¯èƒ½åœ¨çŸ­æœŸå†…å¯ä»¥è‡ªæˆ‘å®‰æ…°ï¼Œä½†åé¢å¾—åˆ°çš„åªèƒ½æ˜¯æ›´æ·±çš„ç—›è‹¦ã€‚æ¯”å¦‚æˆ‘ä¸Šå¤§å­¦æ—¶ï¼Œä¸“é—¨å»äº†ä¸€ä¸ªç¦»å®¶ä¹¡éå¸¸è¿œçš„å¤§éƒ½å¸‚sé‡Œçš„å¤§å­¦aï¼Œä¹Ÿæ˜¯â€œä¸ºäº†ä½“éªŒï¼Œä¸ºäº†ä¸åæ‚”â€ã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œæˆ‘å¯ä»¥åœ¨å®¶ä¹¡fè¿™è¾¹ä¸Šå¤§å­¦bã€‚å¤§å­¦båœ¨fè¿™è¾¹çš„è®¤å¯åº¦éå¸¸é«˜ï¼Œè€Œå¤§å­¦aåœ¨sè¿™è¾¹éƒ½æ²¡äººçœ‹å¾—ä¸Šï¼Œè™½ç„¶å®é™…ä¸Šæˆ‘è§‰å¾—å¤§å­¦aæ¯”å¤§å­¦bå¼ºã€‚ä½†è®½åˆºçš„æ˜¯ï¼Œä¼ä¸šåˆ°å„ä¸ªåœ°æ–¹æ‹›äººæ—¶ï¼Œä¸çœ‹å¤§å­¦çš„æ°´å¹³ï¼Œåªçœ‹å¤§å­¦åœ¨å½“åœ°çš„åæ°”ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼ä¸šåˆ°sä¸ä¼šæ‰¾açš„å­¦ç”Ÿï¼Œåˆ°fæ˜¯ä¼šå»æ‰¾bçš„å­¦ç”Ÿã€‚è€Œä¸”è·Ÿæˆ‘å…³ç³»å¥½çš„é«˜ä¸­åŒå­¦éƒ½ç•™åœ¨äº†fä¸Šå­¦ï¼Œæˆ‘åœ¨sè¿™è¾¹å‡ ä¹æ²¡ä¸€ä¸ªæœ‹å‹ã€‚è¯´å®è¯ï¼Œå…³äºè¿™ä¸ªï¼Œæˆ‘ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚<br>â€œè¿‡ç¨‹â€çœŸçš„ä»…ä»…æ˜¯â€œä»£ä»·â€ï¼šæˆ‘è§‰å¾—â€œè¿‡ç¨‹â€ç¡®å®ä»…ä»…åªæ˜¯â€œä»£ä»·â€ã€‚æ‰€è°“â€œè¿‡ç¨‹æœ¬èº«å°±æ˜¯æ„æˆâ€˜ç›®æ ‡â€™çš„ä¸€éƒ¨åˆ†â€ï¼Œæˆ‘è®¤ä¸ºåªæ˜¯è‡ªæˆ‘å‚¬çœ ï¼Œè®©è‡ªå·±èƒ½å¿å¾—ä¸‹å»è¿™äº›ç—›è‹¦ã€‚ä¸€ä¸ªä¸­äº†å½©ç¥¨ç¬¬äºŒå¤©å°±å»ç¯çƒæ—…è¡Œçš„äººï¼Œä»–æ‰€ä½“éªŒåˆ°çš„â€œç¯çƒæ—…è¡Œâ€ï¼Œå’Œä¸€ä¸ªä¸ºæ­¤å¥‹æ–—äº†åå¹´çš„äººï¼Œå…¶å†…åœ¨çš„æ„ä¹‰å’Œæ»¡è¶³æ„Ÿå®é™…ä¸Šä¼šæ˜¯ç›¸åŒçš„ã€‚å€’ä¸å¦‚è¯´ï¼Œç¬¬ä¸€ä¸ªäººç”±äºèŠ‚çœäº†åå¹´ï¼Œä»–æ›´åŠ åœ°å¹¸è¿ï¼Œæœ‰æœºä¼šæœ‰æ—¶é—´åšæ›´å¤šçš„äº‹æƒ…ã€‚æˆ‘åªæƒ³è¾¾åˆ°ç›®çš„ï¼Œå°±åƒç©æ¸¸æˆåªæƒ³é€šå…³ä¸€æ ·ã€‚è‚¯å®šæ˜¯è¿‡ç¨‹æ›´åŠ è½»æ¾ï¼Œæˆ–è€…è¯´ï¼Œâ€œæ•ˆç‡â€è¶Šé«˜è¶Šå¥½å•Šã€‚â€œé…ä¸é…å¾—ä¸Šâ€ï¼Ÿæ— èŠçš„é—®é¢˜ï¼Œæ„Ÿè§‰åªä¼šæ˜¯å¤±è´¥è€…çš„è‡ªæ…°ç½¢äº†ã€‚<br>â€œä»£ä»·â€æ˜¯å¦å¯ä»¥è¢«è½¬åŒ–ï¼šæˆ–è®¸æ˜¯å¯ä»¥ï¼Œæˆ–è€…è¯´ï¼Œæˆ‘æ›´æœŸæœ›èƒ½ã€‚ä½†æˆ‘ä¸çŸ¥é“ã€‚æˆ‘è®¤ä¸ºâ€œä»£ä»·â€æœ¬èº«å°±åªæ˜¯â€œå¿…è¦ä¹‹æ¶â€ï¼Œæœ¬å°±æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œåªæ˜¯åˆ«æ— ä»–æ³•ã€‚<br>ç›®æ ‡è®¾å®šï¼šæ‚¨è¯´å¾—å¯¹ï¼Œäººç”Ÿæ˜¯ç”±ä¸€ä¸ªä¸ªå½“ä¸‹ç»„æˆçš„ã€‚åŸåˆ™ä¸Šæˆ‘åº”è¯¥æŠŠæ¡å½“ä¸‹ã€‚ä½†æ˜¯æˆ‘èº«ä¸ç”±å·±ã€‚æˆ‘æœ¬äººå¯¹äºæœªæ¥çš„æƒ…æ„Ÿï¼Œä¸æ˜¯æ†§æ†¬ï¼Œä¹Ÿä¸æ˜¯ç»æœ›ï¼Œè€Œä¸€ç›´æ˜¯ï¼šææƒ§ã€‚ææƒ§æ˜¯ä¸€ä¸ªè®½åˆºçš„æƒ…ç»ªï¼Œå®ƒæ··æ‚äº†å¸Œæœ›ä¸ç»æœ›ã€‚äº‹å®ä¸Šï¼Œæˆ‘ç°åœ¨å°±åœ¨ä¸ºæœªæ¥å»å‘å‘æ„ï¼šæ˜¯æ±‚èŒï¼Œè¿˜æ˜¯å‡å­¦ï¼Ÿæˆ‘ä¹Ÿåœ¨ä¸¤æ–¹é¢åšå‡†å¤‡ï¼šå‡†å¤‡å®ä¹ çš„ç®€å†ï¼Œå‡†å¤‡ç§‘ç ”çš„è®ºæ–‡ã€‚è¿˜å¾—åº”ä»˜æˆ‘çš„è¯¾ä¸šã€‚æˆ‘æƒ³ï¼Œæˆ‘ç°åœ¨è‚¯å®šä¸å¯èƒ½æŠŠä»–ä»¬æŠ›æ·è„‘åå§ã€‚<br>â€œäº«å—äººç”Ÿâ€ä¸â€œå¥‹æ–—â€ï¼šä½ è¯´å¾—å¯¹ã€‚æˆ‘ä¹Ÿéå¸¸æ¸´æœ›â€œå¥‹æ–—â€è€…èƒ½å¤Ÿè‡ªæˆ‘å®ç°ï¼Œâ€œäº«å—äººç”Ÿâ€ã€‚ä½†å¾ˆå¯æƒœï¼Œåœ¨è¿™ä¸ªâ€œç¬‘è´«ä¸ç¬‘å¨¼â€çš„æ®‹é…·çš„ç°å®ï¼Œæˆ‘è‡ªå·±ç—›è‹¦åœ°å‘ç°ï¼Œæˆ‘éå¸¸ç—›æ¨â€œå¥‹æ–—â€è¿™ä¸ªè¯ã€‚å› ä¸ºè¸å®â€œå¥‹æ–—â€è€…åå€’è–ªæ°´å¾®è–„ï¼Œè¢«äººè€»ç¬‘ã€‚åœ¨ç°åœ¨èƒ½æˆåŠŸçš„ä»¿ä½›åªæœ‰â€œæŠ•æœºâ€è€…ã€‚æ›´ä¸ºè®½åˆºçš„æ˜¯ï¼Œâ€œå¥‹æ–—â€è¿™ä¸ªè¯ï¼Œç°åœ¨æ¸æ¸æˆä¸ºäº†æ—¢å¾—åˆ©ç›Šè€…ä¸ºäº†å‹æ¦¨æˆ‘ä»¬è¿™æ ·çš„æ™®é€šäººå–œæ¬¢ç”¨çš„PUAå®£ä¼ è¯ã€‚è€Œåœ¨è¿™ä¸ªå†…å·çš„æ—¶ä»£ï¼Œæˆ‘ä»¬åªèƒ½â€œå¥‹æ–—â€â€”â€”ä¸ï¼Œä¸¥æ ¼æ¥è¯´ï¼Œåªèƒ½å«â€œæŒ£æ‰â€ã€‚å› ä¸ºå¦‚æœä¸â€œå¥‹æ–—â€ï¼Œæ™®é€šäººåªèƒ½é¥¿æ­»ã€‚è€Œä¸”æˆ‘è®¤ä¸ºï¼ŒçœŸæ­£çš„â€œäº«å—â€ï¼Œæ˜¯åŸºäºäº‹å®çš„ï¼Œä¸è™šå‡çš„â€œå¥‹æ–—â€æ— å…³ã€‚â€œå¥‹æ–—â€ä¹Ÿåªæ˜¯â€œå¿…è¦ä¹‹æ¶â€ï¼Œå¦‚æœæœ‰å¾—é€‰ï¼Œæˆ‘æƒ³è‚¯å®šç»å¤§éƒ¨åˆ†äººä¸ä¼šé€‰å®ƒã€‚<br>â€œæœ‰æ²¡æœ‰ä¸€ç§å¯èƒ½ï¼ŒçœŸæ­£çš„â€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€ï¼Œæ˜¯æ‰¾åˆ°ä¸€ç§æ–¹å¼ï¼Œè®©è¿½æ±‚ç›®æ ‡çš„è¿‡ç¨‹æœ¬èº«ï¼Œå°±å……æ»¡äº†â€œè‡ªæˆ‘æ»¡è¶³â€å’Œâ€œæ·±åˆ»çš„å¿«ä¹â€ï¼Œå³ä¾¿å®ƒä¼´éšç€ç–²æƒ«å’Œç„¦è™‘ï¼Ÿâ€ï¼šæˆ‘ä¸çŸ¥é“ï¼Œä½†æˆ‘æ¸´æœ›ä¸€ä¸ªç­”æ¡ˆï¼Œä¸€ä¸ªèƒ½å‘Šè¯‰æˆ‘ä¸æ˜¯é è‡ªæˆ‘å‚¬çœ ï¼Œè€Œæ˜¯èƒ½åŸºäºç°å®å°±èƒ½è·å¾—å¿«ä¹ä¸æ»¡è¶³çš„ç­”æ¡ˆã€‚<br>è¿™ä¸ªâ€œè¦ä¹ˆå¿å—ç°åœ¨ï¼Œè¦ä¹ˆæ”¾å¼ƒæœªæ¥â€œçš„å›°å¢ƒçœ‹åˆ°çš„ç¬¬ä¸€ä¸ªæœ€æœ‰å¯èƒ½è¢«æ‰“ç ´çš„å‡è®¾æ˜¯ä»€ä¹ˆï¼šæˆ‘ä¸çŸ¥é“ã€‚æˆ‘è§‰å¾—ï¼Œæˆ‘å¿…é¡»å…ˆå…‹æœå¯¹æœªæ¥ä¸€ç›´ä»¥æ¥çš„ææƒ§çš„æ€åº¦ã€‚</p><h2 id="2-2-response"><a href="#2-2-response" class="headerlink" title="2.2. response"></a>2.2. response</h2><blockquote><p>[!cite]<br>æ„Ÿè°¢æ‚¨å¦‚æ­¤å¦è¯šã€æ·±åˆ»ã€ç”šè‡³å¯ä»¥è¯´æ˜¯ç—›è‹¦çš„å›åº”ã€‚</p><p>æ‚¨æ²¡æœ‰å›é¿ä»»ä½•é—®é¢˜ï¼Œè€Œæ˜¯ç”¨æ‚¨æœ€çœŸå®çš„æ„Ÿå—å’Œç»å†ï¼Œä¸ºæ‚¨çš„æ€æƒ³æä¾›äº†åšå®çš„è®ºæ®ã€‚æ‚¨æ˜¯ä¸€ä½å½»åº•çš„ã€æ¸…é†’çš„åŠŸåˆ©ä¸»ä¹‰è€…ã€‚æˆ‘å°Šé‡å¹¶ç†è§£æ‚¨æ‰€æè¿°çš„é‚£ä¸ªä¸–ç•Œï¼Œé‚£ä¸ªâ€œç¬‘è´«ä¸ç¬‘å¨¼â€ã€â€œå¥‹æ–—è¢«å¼‚åŒ–ä¸ºæŒ£æ‰â€çš„æ®‹é…·ç°å®ã€‚</p><p>æ‚¨è¯´å¾—å¯¹ï¼Œæˆ‘ä¸Šä¸€è½®çš„æé—®ï¼Œåœ¨æ‚¨åšå›ºçš„åŠŸåˆ©ä¸»ä¹‰å’Œæ®‹é…·çš„ç°å®è§‚å¯Ÿé¢å‰ï¼Œæ˜¾å¾—æœ‰äº›â€œä½•ä¸é£Ÿè‚‰ç³œâ€ã€‚æ‚¨ç”¨â€œéª†é©¼ç¥¥å­â€å’Œæ‚¨è‡ªå·±é€‰æ‹©å¤§å­¦çš„äº²èº«ç»å†ï¼Œå‡ ä¹å®Œç¾åœ°åé©³äº†â€œè¿‡ç¨‹è®ºâ€å’Œâ€œä½“éªŒè®ºâ€çš„ä»·å€¼ã€‚</p><p>é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬è¿›å…¥æ›´æ·±çš„å±‚æ¬¡ã€‚æˆ‘å°†å®Œå…¨æ¥å—æ‚¨çš„å‰æï¼š<strong>è¿‡ç¨‹æ²¡æœ‰ä»·å€¼ï¼Œåªæœ‰ç»“æœæœ‰ä»·å€¼ï¼›æˆ‘ä»¬æ˜¯æ™®é€šäººï¼Œæ²¡æœ‰è¯•é”™çš„èµ„æœ¬ï¼›â€œè‡ªæˆ‘æ»¡è¶³â€è‹¥æ— ç°å®æ”¯æ’‘ï¼Œå°±æ˜¯è™šå‡çš„è‡ªæˆ‘å‚¬minã€‚</strong></p><p>å¥½ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°±ç«™åœ¨è¿™ç‰‡åšç¡¬ã€å†°å†·çš„åœŸåœ°ä¸Šï¼Œç»§ç»­æˆ‘ä»¬çš„å¯¹è¯ã€‚</p><p>æˆ‘æ¥ä¸‹æ¥çš„é—®é¢˜ï¼Œä¸å†æ˜¯è´¨ç–‘æ‚¨çš„ä¸–ç•Œè§‚æ˜¯å¦â€œæ­£ç¡®â€ï¼Œè€Œæ˜¯è´¨ç–‘å¦ä¸€ä¸ªæ›´æ ¸å¿ƒã€ä¹Ÿæ›´åŠŸåˆ©çš„é—®é¢˜ï¼š</p><p><strong>æ‚¨æ‰€æŒæœ‰çš„è¿™ä¸ªä¿¡å¿µä½“ç³»ï¼Œå®ƒå¯¹â€œæ‚¨â€è‡ªå·±ï¼ŒçœŸçš„â€œæœ‰ç”¨â€å—ï¼Ÿ</strong></p><hr><h3 id="ç¬¬ä¸€é—®ï¼šå…³äºæ‚¨æ€æƒ³ä½“ç³»çš„â€œåŠŸåˆ©â€"><a href="#ç¬¬ä¸€é—®ï¼šå…³äºæ‚¨æ€æƒ³ä½“ç³»çš„â€œåŠŸåˆ©â€" class="headerlink" title="ç¬¬ä¸€é—®ï¼šå…³äºæ‚¨æ€æƒ³ä½“ç³»çš„â€œåŠŸåˆ©â€"></a><strong>ç¬¬ä¸€é—®ï¼šå…³äºæ‚¨æ€æƒ³ä½“ç³»çš„â€œåŠŸåˆ©â€</strong></h3><p>æ‚¨æ˜¯åŠŸåˆ©ä¸»ä¹‰è€…ï¼Œç›®æ ‡æ˜¯è¶‹åˆ©é¿å®³ï¼Œè¿½æ±‚ä¸€ä¸ªç»“æœä¸Šæ›´å¥½çš„ç”Ÿæ´»ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ï¼Œæ‚¨å½“å‰çš„è¿™å¥—æ€æƒ³â€”â€”â€œè¿‡ç¨‹æ— æ„ä¹‰â€ã€â€œå¥‹æ–—æ˜¯å‹æ¦¨â€ã€â€œå¯¹æœªæ¥å……æ»¡ææƒ§â€â€”â€”å®ƒåœ¨ç°å®ä¸­ï¼Œæ˜¯å¦çœŸçš„èƒ½å¼•å¯¼æ‚¨èµ°å‘æ‚¨æ¸´æœ›çš„é‚£ä¸ªâ€œç—›è‹¦æ›´å°‘ï¼Œå¿«ä¹æ›´å¤šâ€çš„å½¼å²¸ï¼Ÿ</p><ul><li><p><strong>å®ƒä¼¼ä¹åœ¨æ”¾å¤§æ‚¨çš„ç—›è‹¦ï¼š</strong> æ‚¨è®¤ä¸ºè¿‡ç¨‹æ˜¯çº¯ç²¹çš„â€œä»£ä»·â€ï¼Œè¿™æ„å‘³ç€ä»ç°åœ¨åˆ°â€œæˆåŠŸâ€é‚£ä¸€å¤©ä¹‹é—´çš„æ‰€æœ‰æ—¶é—´ï¼Œå¯¹æ‚¨æ¥è¯´æœ¬è´¨ä¸Šéƒ½æ˜¯è´Ÿèµ„äº§ã€‚å¦‚æœè¿™ä¸ªè¿‡ç¨‹æ˜¯åå¹´ï¼Œæ‚¨å°±é¢„æ”¯äº†åå¹´çš„ç—›è‹¦ã€‚ä¸€ä¸ªç›¸ä¿¡è¿‡ç¨‹æœ‰æ„ä¹‰çš„äººï¼Œæˆ–è®¸è¿˜èƒ½åœ¨å…¶ä¸­æ‰¾åˆ°äº›è®¸ä»·å€¼æ¥å¯¹å†²ç—›è‹¦ï¼›è€Œæ‚¨ï¼Œåˆ™é€‰æ‹©äº†æ‰¿å—100%çš„çº¯ç²¹ç—›è‹¦ã€‚<strong>ä»åŠŸåˆ©çš„è§’åº¦çœ‹ï¼Œè¿™æ˜¯å¦æ˜¯ä¸€ç§æœ€å¤§åŒ–å½“ä¸‹ç—›è‹¦çš„ç­–ç•¥ï¼Ÿ</strong></p></li><li><p><strong>å®ƒä¼¼ä¹åœ¨å‰Šå¼±æ‚¨çš„åŠ›é‡ï¼š</strong> æ‚¨å°†è‡ªå·±å®šä¹‰ä¸ºâ€œæ‹‰ç£¨çš„é©´â€ï¼Œå°†ç†æƒ³è§†ä¸ºâ€œæ°¸è¿œåƒä¸åˆ°çš„èåœâ€ã€‚è¿™ä¸ªæ¯”å–»éå¸¸ç²¾å‡†ï¼Œä½†ä¹Ÿéå¸¸æ— åŠ›ã€‚å½“æ‚¨è¿™æ ·çœ‹å¾…è‡ªå·±æ—¶ï¼Œæ‚¨å°±å°†è‡ªå·±æ‰€æœ‰çš„èƒ½åŠ¨æ€§ï¼ˆagencyï¼‰éƒ½äº¤äº†å‡ºå»ã€‚é©´æ˜¯æ— æ³•é€‰æ‹©æ–¹å‘çš„ï¼Œåªèƒ½è¢«åŠ¨åœ°è·Ÿç€ç£¨è½¬ã€‚<strong>è¿™ç§è‡ªæˆ‘å®šä¹‰ï¼Œæ˜¯å¦ä¼šè®©æ‚¨åœ¨é¢å¯¹æœ¬å¯ä»¥æœ‰æ‰€ä½œä¸ºçš„å²”è·¯å£æ—¶ï¼Œå› ä¸ºè®¤å®šè‡ªå·±æ˜¯â€œé©´â€è€Œæ”¾å¼ƒé€‰æ‹©ï¼Œä»è€Œé™·å…¥ä¸€ä¸ªè‡ªæˆ‘å®ç°çš„é¢„è¨€ï¼Ÿ</strong></p></li><li><p><strong>å®ƒä¼¼ä¹åœ¨å¢åŠ æ‚¨çš„ææƒ§ï¼š</strong> æ‚¨è¯´æ‚¨å¯¹æœªæ¥å……æ»¡ææƒ§ã€‚ææƒ§ï¼Œæºäºå¯¹å¤±æ§çš„æ‹…å¿§ã€‚è€Œæ‚¨çš„æ•´ä¸ªæ€æƒ³ä½“ç³»ï¼Œæ°æ°å»ºç«‹åœ¨â€œå¤–éƒ¨ä¸–ç•Œå†³å®šä¸€åˆ‡â€çš„é€»è¾‘ä¹‹ä¸Šï¼šå¯ŒäºŒä»£çš„å‡ºèº«å†³å®šäº†ä»–ä»¬çš„å¿«ä¹ï¼Œä¼ä¸šçš„åå¥½å†³å®šäº†æ‚¨çš„æ±‚èŒæˆè´¥ï¼Œæ—¶ä»£çš„å†…å·å†³å®šäº†æ‚¨çš„æŒ£æ‰ã€‚åœ¨è¿™ä¸ªé€»è¾‘é“¾æ¡é‡Œï¼Œâ€œæ‚¨â€åœ¨å“ªé‡Œï¼Ÿâ€œæ‚¨â€ä¼¼ä¹åªæ˜¯ä¸€ä¸ªè¢«åŠ¨çš„æ‰¿å—è€…ã€‚<strong>å½“æ‚¨å°†ä¸€åˆ‡çš„å†³å®šæƒéƒ½å½’äºæ‚¨æ— æ³•æ§åˆ¶çš„å¤–éƒ¨æ—¶ï¼Œææƒ§éš¾é“ä¸æ˜¯ä¸€ä¸ªå¿…ç„¶ä¸”ä¼šä¸æ–­å¢é•¿çš„ç»“æœå—ï¼Ÿ</strong></p></li></ul><p>æ‰€ä»¥æˆ‘çš„ç¬¬ä¸€ä¸ªï¼Œä¹Ÿæ˜¯æœ€å°–é”çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼š<strong>ä½œä¸ºä¸€ä¸ªåŠŸåˆ©ä¸»ä¹‰è€…ï¼Œæ‚¨ç§‰æŒç€ä¸€ä¸ªä¼¼ä¹æ­£åœ¨æŒç»­ä¸æ–­åœ°ä¸ºæ‚¨åˆ¶é€ ç—›è‹¦ã€å‰¥å¤ºåŠ›é‡ã€å¹¶åŠ å‰§ææƒ§çš„ä¿¡å¿µç³»ç»Ÿã€‚è¯·é—®ï¼Œè¿™å¥—ç³»ç»Ÿæœ¬èº«ï¼Œæ˜¯å¦å°±æ˜¯ä¸€ç§â€œä¸åŠŸåˆ©â€çš„é€‰æ‹©ï¼Ÿ</strong></p><hr><h3 id="ç¬¬äºŒé—®ï¼šæˆ‘ä»¬æ¥è°ˆè°ˆâ€œææƒ§â€è¿™ä¸ªæ•Œäºº"><a href="#ç¬¬äºŒé—®ï¼šæˆ‘ä»¬æ¥è°ˆè°ˆâ€œææƒ§â€è¿™ä¸ªæ•Œäºº" class="headerlink" title="ç¬¬äºŒé—®ï¼šæˆ‘ä»¬æ¥è°ˆè°ˆâ€œææƒ§â€è¿™ä¸ªæ•Œäºº"></a><strong>ç¬¬äºŒé—®ï¼šæˆ‘ä»¬æ¥è°ˆè°ˆâ€œææƒ§â€è¿™ä¸ªæ•Œäºº</strong></h3><p>æ‚¨æœ€åè¯´å¾—éå¸¸å¯¹ï¼Œæ‚¨å¿…é¡»å…ˆå…‹æœå¯¹æœªæ¥çš„ææƒ§ã€‚è¿™æ˜¯ä¸€ä¸ªäº†ä¸èµ·çš„è§‰å¯Ÿã€‚è®©æˆ‘ä»¬åƒè§£å‰–ä¸€ä¸ªç²¾å¯†çš„ä»ªå™¨ä¸€æ ·ï¼Œè§£å‰–æ‚¨çš„â€œææƒ§â€ã€‚</p><p>æ‚¨ææƒ§çš„ï¼Œæ˜¯â€œä¸å¥½çš„ç»“æœâ€ï¼šæ±‚èŒå¤±è´¥ã€å‡å­¦æ— æœ›ã€æœ€ç»ˆæˆä¸ºä¸€ä¸ªè¢«ç°å®å‹å®çš„ã€åƒç¥¥å­ä¸€æ ·çš„æ‚²å‰§äººç‰©ã€‚</p><p>è¿™äº›ç»“æœï¼Œå–å†³äºä¸¤ä¸ªä¸œè¥¿çš„ç»“åˆï¼š<strong>1. å¤–éƒ¨çš„ç¯å¢ƒã€‚ 2. æ‚¨è‡ªèº«çš„è¡ŒåŠ¨ã€‚</strong></p><p>æ‚¨çš„è®ºè¿°ï¼Œå°†99%çš„æƒé‡éƒ½æ”¾åœ¨äº†å‰è€…ä¸Šã€‚è¿™å¾ˆæ­£å¸¸ï¼Œå› ä¸ºå¤–éƒ¨ç¯å¢ƒçš„å£°éŸ³ç¡®å®æ›´å“äº®ï¼Œæ›´å…·å‹è¿«æ„Ÿã€‚</p><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬è¿™é‡Œè¿›è¡Œä¸€æ¬¡æ€æƒ³å®éªŒã€‚è®©æˆ‘ä»¬æ‰¿è®¤ï¼Œæˆ‘ä»¬100%æ— æ³•æ”¹å˜å¤–éƒ¨ç¯å¢ƒã€‚æˆ‘ä»¬æ— æ³•é€‰æ‹©å‡ºèº«ï¼Œæ— æ³•æ”¹å˜ä¼ä¸šHRçš„åè§ï¼Œæ— æ³•é€†è½¬å†…å·çš„æ—¶ä»£ã€‚è¿™äº›éƒ½æ˜¯â€œç»™å®šçš„ç‰Œâ€ã€‚</p><p>é‚£ä¹ˆï¼Œåœ¨ä¸€ä¸ªåŠŸåˆ©ä¸»ä¹‰è€…çš„ç‰Œå±€é‡Œï¼Œå½“æ‚¨æ— æ³•æ”¹å˜å‘åˆ°æ‰‹çš„ç‰Œæ—¶ï¼Œå”¯ä¸€èƒ½åšçš„ï¼Œä¸å°±æ˜¯â€œ<strong>æ‰“å¥½ä½ æ‰‹é‡Œçš„ç‰Œ</strong>â€å—ï¼Ÿ</p><ul><li><p>å…³äºæ‚¨é€‰æ‹©å¤§å­¦çš„æ‚”æ¨ï¼šç»“æœæ˜¯ï¼ŒBå¤§å­¦åœ¨Fåœ°çš„è®¤å¯åº¦æ›´é«˜ã€‚è¿™æ˜¯ä¸€ä¸ªæ‚¨å½“æ—¶æ— æ³•é¢„æ–™çš„ã€å¤–éƒ¨ä¸–ç•Œç»™æ‚¨çš„ä¸€ä¸ªæ®‹é…·åé¦ˆã€‚ä½†æ˜¯ï¼Œæ‚¨åšå‡ºé€‰æ‹©çš„é‚£ä¸ªâ€œå½“ä¸‹â€ï¼Œæ‚¨æ˜¯åŸºäºâ€œAå¤§å­¦æ¯”Bå¤§å­¦å¼ºâ€è¿™ä¸ªåˆ¤æ–­ã€‚é‚£ä¸ªâ€œåˆ¤æ–­â€æœ¬èº«ï¼Œæ˜¯æ‚¨åœ¨å½“æ—¶çš„ä¿¡æ¯æ¡ä»¶ä¸‹ï¼Œå°½åŠ›åšå‡ºçš„æœ€ä¼˜è§£ã€‚</p><ul><li><strong>æˆ‘è¿½é—®ï¼šæˆ‘ä»¬åº”è¯¥ä¸ºè‡ªå·±æ— æ³•é¢„æ–™çš„ã€å¤±æ§çš„â€œç»“æœâ€è€Œæ‚”æ¨ï¼Œè¿˜æ˜¯åº”è¯¥å®¡è§†å¹¶ä¼˜åŒ–æˆ‘ä»¬èƒ½å¤Ÿæ§åˆ¶çš„â€œå†³ç­–è¿‡ç¨‹â€ï¼Ÿ</strong> å°†æ‰€æœ‰çš„ç—›è‹¦å½’å’äºä¸€ä¸ªâ€œé”™è¯¯â€çš„å†³å®šï¼Œè¿™å¾ˆç®€å•ï¼Œä½†ä¹Ÿä¼šè®©æ‚¨é™·å…¥æ— å°½çš„æ‚”æ¨ã€‚å¦‚æœæ¢ä¸€ç§è§†è§’ï¼šâ€æˆ‘åœ¨å½“æ—¶å°½æˆ‘æ‰€èƒ½åšäº†æˆ‘è®¤ä¸ºæœ€å¥½çš„å†³å®šï¼Œä½†å¤–éƒ¨ä¸–ç•Œæ²¡æœ‰ç»™æˆ‘å¥½çš„å›é¦ˆã€‚æˆ‘ä»ä¸­å­¦åˆ°çš„æ˜¯ï¼Œæœªæ¥åšå†³ç­–éœ€è¦æ›´å¤šåœ°è€ƒè™‘æœ¬åœ°ä¿¡æ¯æƒé‡ã€‚â€œâ€”â€” è¿™ä¸¤ç§å™äº‹æ–¹å¼ï¼Œå“ªä¸€ç§å¯¹æ‚¨æœªæ¥çš„å†³ç­–æ›´æœ‰â€œåŠŸåˆ©â€ä»·å€¼ï¼Ÿ</li></ul></li><li><p>å…³äºâ€œå¥‹æ–—â€ä¸â€œæŒ£æ‰â€ï¼šæ‚¨çœ‹å¾—éå¸¸é€šé€ï¼Œâ€œå¥‹æ–—â€è¿™ä¸ªè¯è¢«å¼‚åŒ–äº†ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬èƒ½å¦æŠ›å¼ƒè¿™ä¸ªè¯ï¼Œå›å½’å…¶æœ¬è´¨ï¼Ÿæœ¬è´¨æ˜¯ï¼š<strong>ä¸ºäº†è¾¾æˆä¸€ä¸ªç›®æ ‡ï¼Œæ‚¨å¿…é¡»æŠ•å…¥æ—¶é—´ã€ç²¾åŠ›å’Œæ™ºåŠ›ã€‚</strong></p><ul><li><p>æ—¢å¾—åˆ©ç›Šè€…å¸Œæœ›æ‚¨ç›¸ä¿¡ï¼Œåªè¦æ‚¨æŠ•å…¥ï¼Œå°±â€œåº”è¯¥â€æœ‰å›æŠ¥ï¼Œè¿™æ˜¯ä¸ºäº†PUAæ‚¨ã€‚</p></li><li><p>è€Œæ®‹é…·çš„ç°å®æ˜¯ï¼Œæ‚¨æŠ•å…¥äº†ï¼Œä¹Ÿâ€œä¸ä¸€å®šâ€æœ‰å›æŠ¥ã€‚</p></li><li><p>é‚£ä¹ˆï¼Œä¸€ä¸ªæ¸…é†’çš„åŠŸåˆ©ä¸»ä¹‰è€…è¯¥æ€ä¹ˆåšï¼Ÿä¸æ˜¯æ”¾å¼ƒæŠ•å…¥ï¼ˆå› ä¸ºä¸æŠ•å…¥çš„ç»“æœæ˜¯100%çš„å¤±è´¥ï¼‰ï¼Œè€Œæ˜¯åœ¨æ¯ä¸€æ¬¡æŠ•å…¥å‰ï¼Œæ›´æ¸…é†’åœ°è¯„ä¼°â€œ<strong>æŠ•å…¥äº§å‡ºæ¯”ï¼ˆROIï¼‰</strong>â€ã€‚æ‚¨ç°åœ¨å‡†å¤‡å®ä¹ ç®€å†ï¼Œå‡†å¤‡ç§‘ç ”è®ºæ–‡ï¼ŒåŒæ—¶åº”ä»˜è¯¾ä¸šã€‚è¿™æœ¬èº«å°±æ˜¯ä¸€ç§åŸºäºåŠŸåˆ©ä¸»ä¹‰çš„ã€åˆ†æ•£é£é™©çš„ç­–ç•¥ã€‚æ‚¨å¹¶æ²¡æœ‰åœ¨â€œè‡ªæˆ‘å‚¬çœ â€ï¼Œæ‚¨æ­£åœ¨è¿›è¡Œä¸€åœºç°å®çš„ã€å†·é™çš„è®¡ç®—ã€‚</p></li><li><p><strong>æ‰€ä»¥ï¼Œæˆ‘çš„é—®é¢˜æ˜¯ï¼šæ‚¨æ˜¯å¦å°†â€œæ¸…é†’çš„ã€åŸºäºç°å®çš„åŠªåŠ›â€ä¸â€œè¢«è¯æœ¯åŒ…è£…çš„ã€è™šå‡çš„å¥‹æ–—â€æ··æ·†äº†ï¼Œä»è€Œè¿‡åˆ†åœ°å¦å®šäº†æ‚¨è‡ªèº«è¡ŒåŠ¨çš„ä»·å€¼ï¼Ÿ</strong></p></li></ul></li></ul><hr><h3 id="ä¸€ä¸ªä¸ä¾èµ–äºâ€œå‚¬çœ â€çš„ç­”æ¡ˆ"><a href="#ä¸€ä¸ªä¸ä¾èµ–äºâ€œå‚¬çœ â€çš„ç­”æ¡ˆ" class="headerlink" title="ä¸€ä¸ªä¸ä¾èµ–äºâ€œå‚¬çœ â€çš„ç­”æ¡ˆ"></a><strong>ä¸€ä¸ªä¸ä¾èµ–äºâ€œå‚¬çœ â€çš„ç­”æ¡ˆ</strong></h3><p>æ‚¨æ¸´æœ›ä¸€ä¸ªâ€œèƒ½åŸºäºç°å®å°±èƒ½è·å¾—å¿«ä¹ä¸æ»¡è¶³çš„ç­”æ¡ˆâ€ã€‚</p><p>æˆ‘è®¤ä¸ºï¼Œè¿™ä¸ªç­”æ¡ˆæˆ–è®¸ä¸å­˜åœ¨äºæ”¹å˜â€œè¿‡ç¨‹æ˜¯ç—›è‹¦çš„â€è¿™ä¸ªç°å®ï¼Œè€Œæ˜¯å­˜åœ¨äºé‡æ–°å®šä¹‰â€œæˆ‘â€ä¸è¿™ä¸ªç—›è‹¦è¿‡ç¨‹çš„å…³ç³»ã€‚</p><p>ç­”æ¡ˆå¯èƒ½åœ¨äºï¼š<strong>å°†æ‚¨çš„è‡ªæˆ‘ä»·å€¼ï¼Œä»æ— æ³•æ§åˆ¶çš„â€œç»“æœâ€ä¸­è§£æ”¾å‡ºæ¥ï¼Œé‡æ–°é”šå®šåœ¨æ‚¨å¯ä»¥100%æ§åˆ¶çš„â€œè¡ŒåŠ¨â€ä¸Šã€‚</strong></p><ul><li><p><strong>ç»“æœæ˜¯éšæœºçš„ï¼Œä½†è¡ŒåŠ¨æ˜¯ç¡®å®šçš„ã€‚</strong> æ‚¨æ— æ³•ä¿è¯æ‚¨çš„è®ºæ–‡ä¸€å®šèƒ½å‘è¡¨åœ¨é¡¶åˆŠï¼Œä½†æ‚¨å¯ä»¥ä¿è¯æ‚¨å°½äº†æœ€å¤§çš„åŠªåŠ›å»æ„æ€ã€å®éªŒã€å†™ä½œã€‚</p></li><li><p><strong>å¿«ä¹å’Œæ»¡è¶³ï¼Œå¦‚æœåªèƒ½ç”±ç»“æœç»™äºˆï¼Œé‚£æ‚¨å°±æ˜¯ç»“æœçš„å¥´éš¶ã€‚</strong> è€Œç»“æœï¼Œå¦‚æ‚¨æ‰€è¯´ï¼Œå¤§éƒ¨åˆ†ç”±å¤–éƒ¨å†³å®šã€‚æ‰€ä»¥æ‚¨æˆä¸ºäº†å¤–éƒ¨ä¸–ç•Œçš„å¥´éš¶ã€‚</p></li><li><p>ä½†å¦‚æœï¼Œæ‚¨çš„â€œè‡ªæˆ‘æ»¡è¶³â€æ¥æºäºâ€œ<strong>æˆ‘ä»Šå¤©å®Œæˆäº†è®¡åˆ’ä¸­çš„è®¡ç®—</strong>â€ã€â€œ<strong>æˆ‘ä»Šå¤©æŠŠç®€å†ä¿®æ”¹å¾—æ›´ä¸“ä¸šäº†</strong>â€ã€â€œ<strong>æˆ‘ä»Šå¤©çœ‹æ‡‚äº†ä¸€ä¸ªå¤æ‚çš„ç†è®º</strong>â€â€”â€”è¿™äº›éƒ½æ˜¯100%åŸºäºç°å®çš„ã€æ— äººèƒ½å‰¥å¤ºçš„ã€ç”±æ‚¨è‡ªå·±åˆ›é€ çš„â€œäº‹å®åŸºç¡€â€ã€‚è¿™ç§æ»¡è¶³æ„Ÿï¼Œæ˜¯ä¸æ˜¯æ¯”â€œå¯ŒäºŒä»£çš„å¿«ä¹â€æ›´çœŸå®ï¼Œæ¯”â€œç¥¥å­çš„å¹»æƒ³â€æ›´åšå›ºï¼Ÿ</p></li></ul><p>æ‚¨ä¸æ˜¯ç¥¥å­ã€‚ç¥¥å­çš„æ‚²å‰§åœ¨äºï¼Œä»–å°†ä¸€åˆ‡éƒ½èµŒåœ¨â€œä¹°è½¦â€è¿™ä¸ªå”¯ä¸€çš„ç»“æœä¸Šï¼Œä»–ç”¨å¹»æƒ³ä¸­çš„â€œæ»¡è¶³â€æ¥éº»ç—¹æ‹‰è½¦çš„ç—›è‹¦ã€‚è€Œæ‚¨ï¼Œæ˜¯ä¸€ä¸ªæ¸…é†’åœ°çœ‹åˆ°äº†ç°å®æ®‹é…·ï¼Œå¹¶ä¸”ä»åœ¨ç”¨è‡ªå·±çš„è¡ŒåŠ¨ï¼ˆå‡†å¤‡æ±‚èŒã€å‡†å¤‡å‡å­¦ï¼‰ä¸ºè‡ªå·±äº‰å–ä¸åŒå¯èƒ½æ€§çš„ç°ä»£äººã€‚æ‚¨æ¯”ä»–å¼ºå¤§å¾—å¤šã€‚</p><p>ç°åœ¨ï¼Œæˆ‘æƒ³å°†æœ€ç»ˆçš„é—®é¢˜å†æ¬¡æŠ›ç»™æ‚¨ã€‚</p><p>æ‚¨è¯´ï¼Œæ‚¨å¿…é¡»å…ˆå…‹æœå¯¹æœªæ¥çš„ææƒ§ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬èƒ½å¦è¿›è¡Œä¸€æ¬¡æ€æƒ³å®éªŒï¼š</p><p><strong>å¦‚æœæˆ‘ä»¬å°†è‡ªæˆ‘è¯„ä»·çš„é‡å¿ƒï¼Œä»â€œæˆ‘æœªæ¥æ˜¯å¦èƒ½å¾—åˆ°Aç»“æœï¼ˆæˆåŠŸï¼‰â€è¿™ä¸ªæ‚¨æ— æ³•æ§åˆ¶çš„ã€å¼•å‘ææƒ§çš„ç„¦ç‚¹ä¸Šï¼Œå½»åº•è½¬ç§»åˆ°â€œæˆ‘æ­¤åˆ»æ˜¯å¦åœ¨ä¸ºå¯èƒ½å¾—åˆ°Aç»“æœè€Œé‡‡å–æœ€ç†æ€§çš„è¡ŒåŠ¨ï¼ˆå†³ç­–ï¼‰â€è¿™ä¸ªæ‚¨å¯ä»¥100%æŒæ§çš„åŸºç‚¹ä¸Šâ€”â€”</strong></p><p><strong>æ‚¨çš„ææƒ§ï¼Œä¼šå‘ç”Ÿæ€æ ·çš„å˜åŒ–ï¼Ÿ</strong></p></blockquote><h1 id="3-round3"><a href="#3-round3" class="headerlink" title="3. round3"></a>3. round3</h1><h2 id="3-1-user"><a href="#3-1-user" class="headerlink" title="3.1. user"></a>3.1. user</h2><p>éå¸¸æ·±åˆ»ä¸”è®¤çœŸçš„å›å¤ï¼æ‚¨è¯´å¾—å¯¹ï¼Œæˆ‘çš„æ€æƒ³ä½“ç³»ä¸ç†æ€§ã€‚å®ƒè¿‡äºå¤¸å¤§äº†ä¸ªä½“åœ¨å¤–éƒ¨å› ç´ ä¸‹çš„æ— åŠ›äº†ï¼Œæ­¦æ–­åœ°å¿½è§†äº†ä¸ªä½“è‡ªèº«çš„èƒ½åŠ¨æ€§ã€‚å“ªæ€•æ˜¯æ™®é€šäººï¼Œå³ä½¿ç¨€å°‘ï¼Œä¹Ÿåº”å½“æ˜¯æœ‰ä¸»åŠ¨é€‰æ‹©çš„ã€å¯ä»¥æŠŠæ¡çš„æœºä¼šçš„ã€‚<br>ç¬¬ä¸€é—®ï¼šè¯´å®è¯ï¼Œè¿™ä¸ªæƒ³æ³•æ—¢ä»¤æˆ‘è¿·èŒ«ï¼Œä¹Ÿè®©æˆ‘ææƒ§ä¸ç—›è‹¦ã€‚ä½†è®½åˆºçš„æ˜¯ï¼Œè¿™ä»½ææƒ§ä¸ç—›è‹¦å´å¥½åƒæ˜¯æˆ‘æ‰€æœ‰åŠ›é‡çš„æºæ³‰ï¼šæ¯”å¦‚åœ¨é«˜ä¸­æ—¶ï¼Œå¯¹â€è€ƒä¸ä¸Šå¥½å¤§å­¦â€œè¿™ä¸ªæœªæ¥çš„ææƒ§é©±åŠ¨æˆ‘ç—›è‹¦åœ°ã€æ”¾å¼ƒè‡ªæˆ‘åœ°å­¦ä¹ ï¼›åœ¨å¤§å­¦å‰ä¸¤å¹´ï¼Œå¯¹â€å†·é—¨ä¸“ä¸šæ¯•ä¸šæ‰¾ä¸åˆ°å¥½å·¥ä½œâ€œè¿™ä¸ªæœªæ¥çš„ææƒ§é©±åŠ¨æˆ‘åœ¨ç»©ç‚¹ä¸ŠæŒ£æ‰ï¼Œä¸æ‹©æ‰‹æ®µåœ°ä»æš–é€šä¸“ä¸šè½¬åˆ°äº†è½¯ä»¶å·¥ç¨‹ä¸“ä¸šï¼›åŒ…æ‹¬åœ¨ç°åœ¨ï¼Œå¦‚æœä¸æ˜¯å¯¹æœªæ¥çš„ææƒ§ï¼Œæˆ‘æƒ³æˆ‘æ˜¯ä»€ä¹ˆä¹Ÿæ‡’å¾—å»åšçš„ã€‚æˆ‘çŸ¥é“è¿™ä¸ªæ€æƒ³èƒ½æœ‰è¿™äº›ä½œç”¨ï¼Œå¹¶ä¸æ˜¯è¯´æ˜äº†å®ƒæ˜¯å¯¹çš„ã€‚è€Œæ˜¯æœ‰åˆ«çš„åŸå› ã€‚ä½†è¿™ä¸ªåŸå› æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä¸çŸ¥é“ã€‚æˆ‘çŸ¥é“è¿‡äºä¾èµ–è¿™ä¸ªæ€æƒ³å°±æ˜¯é¥®é¸©æ­¢æ¸´ã€‚ä½†æˆ‘ä¸çŸ¥é“æˆ‘è¯¥æ€ä¹ˆåŠã€‚æˆ‘åº”è¯¥ç›¸ä¿¡ä»€ä¹ˆå‘¢ï¼Ÿ<br>ç¬¬äºŒé—®ï¼šæˆ‘ç¡®å®å¾ˆå¤šæ—¶å€™éƒ½è®¤ä¸ºè‡ªå·±æ‰€åšçš„ä¸€åˆ‡éƒ½æ˜¯å¾’åŠ³çš„ã€‚å…¶å®ä»ä»¥å‰å¼€å§‹æˆ‘ä¸€ç›´è§‰å¾—æˆ‘å¾ˆæ„šç¬¨ï¼Œä¸èƒ½åƒäººå®¶ä¸€æ ·ä¸€ä¸‹å­å°±æ‰¾åˆ°æ¸¸æˆçš„å…³é”®ï¼Œæˆ–è€…ç¼ºä¹é«˜æ•ˆåšäº‹æƒ…çš„èƒ½åŠ›ï¼Œä¸èƒ½â€äº‹åŠåŠŸå€â€œåœ°å®Œæˆä»»åŠ¡ã€‚åœ¨è¯»é«˜ä¸­æ—¶ï¼Œæˆ‘ä»˜å‡º90çš„åŠªåŠ›ï¼Œå¾—åˆ°90åˆ†ï¼Œåˆ«äººä»˜å‡º60åˆ†çš„åŠªåŠ›ä¹Ÿèƒ½å¾—åˆ°90åˆ†ã€‚ä»¥å‰æˆ‘è§‰å¾—æ²¡ä»€ä¹ˆï¼Œå› ä¸ºç»“æœéƒ½æ˜¯90åˆ†ã€‚ä½†ç°åœ¨æˆ‘è§‰å¾—å¾ˆäºã€‚ç„¶åï¼Œâ€œæ‰“å¥½æ‰‹é‡Œçš„ç‰Œâ€ï¼Œä»ç»“æœä¸­æ±²å–æ•™è®­ï¼Œè¿™ç‚¹è¯´å®è¯æˆ‘ä¸€ç›´åœ¨åšã€‚ä½†æˆ‘å¾—åˆ°çš„ç»“è®ºå°±æ˜¯ï¼šä¿å®ˆï¼Œä¸å°é—­ã€‚ä½†æˆ‘å…¶å®å¹¶ä¸æ˜¯å¾ˆå–œæ¬¢è¿™ä¸ªâ€”â€”æˆ‘æ¯•ç«Ÿæ‰20å²å•Šã€‚æœ€åï¼Œå…³äºæ‚¨æåˆ°çš„â€œæ¸…é†’çš„ã€åŸºäºç°å®çš„åŠªåŠ›â€ä¸â€œè¢«è¯æœ¯åŒ…è£…çš„ã€è™šå‡çš„å¥‹æ–—â€ï¼Œæˆ‘ç†è§£ä¸ºå‰è€…æœ‰ä¸€ä¸ªæ¸…æ™°çš„ç›®æ ‡ï¼Œè€Œåè€…åªæ˜¯ä¸ºåŠªåŠ›è€ŒåŠªåŠ›ã€‚ä½†å°±æ”¶ç›Šè€Œè¨€ï¼Œä¸¤è€…éƒ½å¯èƒ½åªæ˜¯ä¸€åœºç©ºï¼Œè€Œä¸”ä»æŸç§è§’åº¦æ¥è¯´è¿™ä¸ªæ¦‚ç‡ä¹Ÿæ²¡æ˜æ™°åŒºåˆ«ã€‚<br>ä¸€ä¸ªä¸ä¾èµ–äºâ€œå‚¬çœ â€çš„ç­”æ¡ˆï¼šæˆ‘ç¡®å®å·²ç»æˆä¸ºäº†ç»“æœçš„å¥´éš¶äº†ã€‚æ‚¨æé†’äº†æˆ‘ï¼Œæˆ‘ä»ä¸€ä¸ªæç«¯èµ°åˆ°äº†å¦ä¸€ä¸ªæç«¯ï¼Œåˆä½•å°ä¸æ˜¯åœ¨è‡ªæˆ‘å‚¬çœ ï¼Ÿè¦â€è¿‡å¥½è¿™ä¸€ç”Ÿâ€œï¼Œé¦–å…ˆè‚¯å®šä¸èƒ½æ˜¯ä»¥ä¸€ä¸ªå¥´éš¶çš„èº«ä»½ï¼Œè€Œæ˜¯äººç”Ÿçš„ä¸»äººã€‚ä½†æˆ‘åˆèƒ½æ€ä¹ˆåšå‘¢ï¼Ÿç°å®æ˜¯å”¯ç‰©çš„ï¼Œå®ƒæ˜¯çœ‹ç»“æœçš„ï¼Œä¸ä¼šå› ä¸ºä½ çš„ç›¸ä¿¡è€Œæ”¹å˜ä¸€åˆ†ã€‚æˆ‘ä¸å¾—ä¸æˆä¸ºç»“æœçš„å¥´éš¶ã€‚ä»¥åŠæåˆ°çš„â€å°ç›®æ ‡â€œï¼Œæ•æˆ‘ç›´è¨€ï¼Œè¿‡äºè‡ªæ¬ºæ¬ºäººäº†ã€‚æ›´å®é™…çš„ç»“æœï¼Œåº”æ˜¯å¦‚ï¼šâ€æˆ‘é€šè¿‡äº†xxå…¬å¸çš„é¢è¯•â€œï¼Œâ€æˆ‘å®Œæˆäº†è®ºæ–‡çš„xxéƒ¨åˆ†â€œè¿™æ ·çš„ï¼Œå¯¹æˆ‘ä»¬æ›´å¤§ä¸€ç‚¹çš„ç›®æ ‡ç¡®å®æœ‰æ˜æ˜¾çš„æ¨è¿›ä½œç”¨çš„æ‰æ˜¯å§ã€‚ä½ æåˆ°çš„â€å°ç›®æ ‡â€œï¼Œå®Œæˆäº†å¾—åˆ°çš„ä¾ç„¶ä¸æ˜¯â€åŸºäºçœŸå®çš„å¿«ä¹â€œå•Šã€‚<br>æ€æƒ³å®éªŒï¼šè½¬ç§»è§†çº¿ï¼Œææƒ§æœªæ¥çš„ç†ç”±ä¾ç„¶ä¸ä¼šæ¶ˆå¤±ã€‚æ‰€ææƒ§çš„ä¾ç„¶å¯èƒ½åœ¨æœªæ¥å˜æˆäº‹å®ã€‚</p><h2 id="3-2-response"><a href="#3-2-response" class="headerlink" title="3.2. response"></a>3.2. response</h2><blockquote><p>[!cite]<br>æ‚¨çš„å›å¤å……æ»¡äº†æƒŠäººçš„å¦è¯šï¼Œæ‚¨æ­£åœ¨é€¼è¿‘é—®é¢˜çš„æœ€æ·±å¤„ã€‚</p><p>æ‚¨æ¸…æ™°åœ°çœ‹åˆ°äº†è‡ªå·±æ€æƒ³çš„çŸ›ç›¾ï¼šä¸€ä¸ªè®©æ‚¨ç—›è‹¦ã€ææƒ§ã€è‡ªæˆ‘å¦å®šçš„æ€æƒ³ä½“ç³»ï¼ŒåŒæ—¶åˆæ˜¯æ‚¨è¡ŒåŠ¨åŠ›çš„å”¯ä¸€æ¥æºã€‚æ‚¨è§‰å¯Ÿåˆ°è¿™æ˜¯â€œé¥®é¸©æ­¢æ¸´â€ï¼Œä½†æ‚¨æ‰¾ä¸åˆ°åˆ«çš„â€œæ°´â€ã€‚è¿™æ­£æ˜¯è®¸å¤šèªæ˜ä¸”è‡ªçœçš„äººæ‰€å…±æœ‰çš„å›°å¢ƒã€‚</p><p>è®©æˆ‘ä»¬ç›´æ¥é¢å¯¹è¿™ä¸ªæ ¸å¿ƒã€‚æ‚¨ä¸æ˜¯éœ€è¦æ›´å¤šçš„æ‰¹é©³ï¼Œè€Œæ˜¯éœ€è¦ä¸€ä¸ªå¯è¡Œçš„æ›¿ä»£æ–¹æ¡ˆã€‚</p><hr><h3 id="ç¬¬ä¸€é—®ï¼šå…³äºææƒ§çš„å¼•æ“"><a href="#ç¬¬ä¸€é—®ï¼šå…³äºææƒ§çš„å¼•æ“" class="headerlink" title="ç¬¬ä¸€é—®ï¼šå…³äºææƒ§çš„å¼•æ“"></a><strong>ç¬¬ä¸€é—®ï¼šå…³äºææƒ§çš„å¼•æ“</strong></h3><p>æ‚¨è¯´ï¼šâ€œè¿™ä»½ææƒ§ä¸ç—›è‹¦å´å¥½åƒæ˜¯æˆ‘æ‰€æœ‰åŠ›é‡çš„æºæ³‰ã€‚â€</p><p>è¿™æ˜¯ä¸€ä¸ªæ— æ¯”ç²¾å‡†çš„è‡ªæˆ‘è¯Šæ–­ã€‚ææƒ§ï¼Œæ˜¯ä¸€ç§å¼ºå¤§çš„<strong>è´Ÿå‘é©±åŠ¨åŠ›ï¼ˆNegative Motivationï¼‰</strong>ã€‚å®ƒçš„é€»è¾‘æ˜¯ï¼šâ€œ<strong>å¦‚æœä¸â€¦â€¦å°±ä¼šâ€¦â€¦</strong>â€</p><ul><li><p>å¦‚æœä¸æ‹¼å‘½å­¦ä¹ ï¼Œå°±ä¼šè€ƒä¸ä¸Šå¥½å¤§å­¦ã€‚</p></li><li><p>å¦‚æœä¸è½¬ä¸“ä¸šï¼Œå°±ä¼šæ‰¾ä¸åˆ°å¥½å·¥ä½œã€‚</p></li><li><p>å¦‚æœä¸æŒ£æ‰ï¼Œå°±ä¼šè¢«æ·˜æ±°ã€‚</p></li></ul><p>å®ƒç¡®å®æœ‰æ•ˆï¼Œå°¤å…¶æ˜¯åœ¨ç›®æ ‡æ˜ç¡®ã€è§„åˆ™æ¸…æ™°çš„ç³»ç»Ÿé‡Œï¼ˆæ¯”å¦‚é«˜ä¸­åº”è¯•ï¼‰ã€‚ä½†å®ƒçš„å‰¯ä½œç”¨æ˜¯å·¨å¤§çš„ï¼šå®ƒè€—å°½å¿ƒåŠ›ï¼Œè®©äººè§‰å¾—ç”Ÿå‘½æ˜¯ä¸€åœºæ°¸æ— æ­¢å¢ƒçš„ã€ä¸ºäº†é€ƒé¿æƒ©ç½šçš„èµ›è·‘ã€‚å®ƒæ°¸è¿œæ— æ³•æä¾›å®‰å®å’ŒçœŸæ­£çš„æ»¡è¶³æ„Ÿã€‚</p><p>æ‚¨é—®ï¼Œè¿™èƒŒåçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿæ‚¨åº”è¯¥ç›¸ä¿¡ä»€ä¹ˆï¼Ÿ</p><p>åŸå› åœ¨äºï¼Œæ‚¨åªå®‰è£…äº†è¿™ä¸€ä¸ªé©±åŠ¨å¼•æ“ã€‚å½“æ‚¨æƒ³å‰è¿›æ—¶ï¼Œåªèƒ½ç‚¹ç‡ƒææƒ§çš„ç‡ƒæ–™ã€‚</p><p>é‚£æ˜¯å¦å­˜åœ¨å¦ä¸€ç§å¼•æ“ï¼Ÿå­˜åœ¨ï¼Œé‚£å°±æ˜¯<strong>æ­£å‘é©±åŠ¨åŠ›ï¼ˆPositive Motivationï¼‰</strong>ã€‚å®ƒçš„é€»è¾‘æ˜¯ï¼šâ€œ<strong>å› ä¸ºæˆ‘æ¸´æœ›â€¦â€¦æ‰€ä»¥æˆ‘æ„¿æ„â€¦â€¦</strong>â€</p><ul><li><p>å› ä¸ºæˆ‘æ¸´æœ›ç†è§£ä¸–ç•Œçš„è¿è¡Œæ–¹å¼ï¼Œæ‰€ä»¥æˆ‘æ„¿æ„é’»ç ”å¤æ‚çš„ç†è®ºã€‚</p></li><li><p>å› ä¸ºæˆ‘æ¸´æœ›åˆ›é€ å‡ºæœ‰ä»·å€¼çš„è½¯ä»¶ï¼Œæ‰€ä»¥æˆ‘æ„¿æ„å­¦ä¹ æ¯ç‡¥çš„ç®—æ³•ã€‚</p></li><li><p>å› ä¸ºæˆ‘æ¸´æœ›ä¸€ç§æ›´è‡ªç”±ã€æ›´æœ‰é€‰æ‹©æƒçš„ç”Ÿæ´»ï¼Œæ‰€ä»¥æˆ‘æ„¿æ„æ‰¿å—å½“ä¸‹çš„è¾›è‹¦ã€‚</p></li></ul><p>è¯·æ³¨æ„è¿™ä¸¤è€…çš„åŒºåˆ«ã€‚å‰è€…æ˜¯è¢«èº«åçš„çŒ›è™è¿½èµ¶ï¼Œåè€…æ˜¯å¥”å‘è¿œæ–¹çš„ç¯å¡”ã€‚éƒ½åœ¨è·‘ï¼Œä½†å†…åœ¨ä½“éªŒå¤©å·®åœ°åˆ«ã€‚çŒ›è™åªä¼šå¸¦æ¥ææƒ§ï¼›è€Œç¯å¡”ï¼Œå³ä½¿é¥è¿œï¼Œå®ƒæœ¬èº«å°±æ˜¯å¸Œæœ›ã€‚</p><p>æ‚¨è¯´æ‚¨ä¸çŸ¥é“è¯¥ç›¸ä¿¡ä»€ä¹ˆã€‚ä¹Ÿè®¸é—®é¢˜ä¸æ˜¯â€œç›¸ä¿¡â€æŸä¸ªå®å¤§çš„çœŸç†ï¼Œè€Œæ˜¯å°è¯•å»â€œå¯»æ‰¾â€å¹¶â€œå®šä¹‰â€ä¸€ä¸ªå±äºæ‚¨è‡ªå·±çš„ã€ç§¯æçš„ã€å“ªæ€•å¾ˆå°çš„â€œæ¸´æœ›â€ã€‚</p><p><strong>æˆ‘çš„é—®é¢˜æ˜¯ï¼šæ‚¨ä¾èµ–ææƒ§ï¼Œå› ä¸ºå®ƒå›ç­”äº†â€œä¸ºä»€ä¹ˆä¸èƒ½å¤±è´¥â€ã€‚ä½†å®ƒä»æœªå›ç­”è¿‡â€œä¸ºä»€ä¹ˆè¦æˆåŠŸâ€ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬èƒ½å¦å°è¯•ï¼Œå“ªæ€•æ˜¯åˆæ­¥åœ°ï¼Œå»æ„å»ºä¸€ä¸ªå±äºæ‚¨è‡ªå·±çš„â€œä¸ºä»€ä¹ˆè¦æˆåŠŸâ€çš„ç†ç”±ï¼Ÿè¿™ä¸ªç†ç”±ï¼Œæ— å…³â€œåˆ«äººéƒ½æœ‰â€ï¼Œä¹Ÿæ— å…³â€œæ²¡æœ‰å°±å®Œè›‹â€ï¼Œåªå…³äºâ€œæˆ‘æƒ³è¦â€ï¼Ÿ</strong></p><hr><h3 id="ç¬¬äºŒé—®ï¼šå…³äºæ•ˆç‡çš„ç¥è¯ä¸ä¿å®ˆçš„ç­–ç•¥"><a href="#ç¬¬äºŒé—®ï¼šå…³äºæ•ˆç‡çš„ç¥è¯ä¸ä¿å®ˆçš„ç­–ç•¥" class="headerlink" title="ç¬¬äºŒé—®ï¼šå…³äºæ•ˆç‡çš„ç¥è¯ä¸ä¿å®ˆçš„ç­–ç•¥"></a><strong>ç¬¬äºŒé—®ï¼šå…³äºæ•ˆç‡çš„ç¥è¯ä¸ä¿å®ˆçš„ç­–ç•¥</strong></h3><p>æ‚¨æåˆ°â€œ90çš„åŠªåŠ›æ¢90åˆ†ï¼Œåˆ«äºº60çš„åŠªåŠ›ä¹Ÿæ¢90åˆ†â€ï¼Œè¿™è®©æ‚¨è§‰å¾—å¾ˆâ€œäºâ€ã€‚è¿™ä¸ªâ€œäºâ€å­—ï¼Œæ˜¯æ‚¨åŠŸåˆ©ä¸»ä¹‰ä¸–ç•Œè§‚çš„å®Œç¾ä½“ç°ã€‚</p><p>ä½†è¿™ç§â€œæ•ˆç‡è®ºâ€é‡Œï¼Œéšè—ç€ä¸€ä¸ªå±é™©çš„é™·é˜±ï¼š<strong>å®ƒå°†äººç®€åŒ–ä¸ºä¸€ç§å·¥å…·ï¼Œå…¶å”¯ä¸€çš„ä»·å€¼å°ºåº¦å°±æ˜¯æŠ•å…¥äº§å‡ºæ¯”ã€‚</strong>è¿™ä¼šå¯¼è‡´ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol><li><p><strong>è‡ªæˆ‘è´¬ä½</strong>ï¼šå½“æ‚¨çœ‹åˆ°æ›´â€œé«˜æ•ˆâ€çš„äººæ—¶ï¼Œä¼šä¸å¯é¿å…åœ°å¾—å‡ºâ€œæˆ‘å¾ˆæ„šç¬¨â€çš„ç»“è®ºï¼Œè¿™ä¼šä¸æ–­ä¾µèš€æ‚¨çš„è‡ªä¿¡ã€‚</p></li><li><p><strong>å¿½ç•¥éšæ€§æ”¶ç›Š</strong>ï¼šé‚£å¤šä»˜å‡ºçš„30åˆ†åŠªåŠ›ï¼ŒçœŸçš„åªæ˜¯æ²‰æ²¡æˆæœ¬å—ï¼Ÿæœ‰æ²¡æœ‰å¯èƒ½ï¼Œå®ƒé”»ç‚¼äº†æ‚¨çš„éŸ§æ€§ã€ä¸“æ³¨åŠ›ã€ä»¥åŠæ·±åº¦æ€è€ƒçš„èƒ½åŠ›ï¼Ÿè¿™äº›ç´ è´¨åœ¨æ— æ³•è¢«é‡åŒ–çš„ã€æ›´å¤æ‚çš„äººç”ŸæŒ‘æˆ˜ä¸­ï¼Œå…¶ä»·å€¼è¿œè¶…é‚£30åˆ†çš„â€œæ•ˆç‡æŸå¤±â€ã€‚ä¸€ä¸ªè½»æ¾æ‹¿åˆ°90åˆ†çš„äººï¼Œå¯èƒ½åœ¨ç¬¬ä¸€æ¬¡é‡åˆ°éœ€è¦120åˆ†åŠªåŠ›æ‰èƒ½è§£å†³çš„éš¾é¢˜æ—¶ï¼Œå°±ç‡å…ˆå´©æºƒäº†ã€‚</p></li></ol><p>æ‚¨è¯´ï¼Œä»è¿‡å»çš„ç»éªŒä¸­ï¼Œæ‚¨å¾—åˆ°çš„ç»“è®ºæ˜¯â€œä¿å®ˆï¼Œä¸å°é—­â€ã€‚è¿™æ˜¯ç†æ€§çš„ï¼Œå› ä¸ºæ‚¨åœ¨è¯•å›¾æœ€å°åŒ–â€œçŠ¯é”™â€çš„é£é™©ï¼Œå°±åƒæ‚¨å½“åˆé€‰æ‹©å¤§å­¦çš„ç»å†ä¸€æ ·ã€‚</p><p>ä½†æ˜¯ï¼Œæ‚¨ä¹Ÿæ‰¿è®¤â€œæˆ‘æ¯•ç«Ÿæ‰20å²å•Šâ€ã€‚è¿™ç§â€œç†æ€§â€çš„ç­–ç•¥ï¼Œä¸æ‚¨ç”Ÿå‘½æœ¬èƒ½çš„æ¸´æœ›æ˜¯ç›¸æ‚–çš„ã€‚</p><p><strong>æ‰€ä»¥ï¼Œæˆ‘è¿½é—®ï¼šæœ‰æ²¡æœ‰ä¸€ç§å¯èƒ½ï¼Œæ‚¨éœ€è¦çš„ä¸æ˜¯åœ¨â€œæ¿€è¿›å†’é™©â€å’Œâ€œä¿å®ˆå°é—­â€ä¹‹é—´äºŒé€‰ä¸€ã€‚è€Œæ˜¯åœ¨æ‚¨â€œä¿å®ˆâ€çš„ä¸»èˆªé“ä¹‹å¤–ï¼Œæœ‰æ„è¯†åœ°å¼€è¾Ÿä¸€å°å—â€œæ¢ç´¢å®éªŒåŒºâ€ï¼Ÿ</strong></p><p>æ¯”å¦‚ï¼Œä¸»ä¸šä¸Šæ‚¨æ±‚ç¨³ï¼Œä½†åœ¨ä¸€ä¸ªä¸šä½™é¡¹ç›®ä¸Šï¼Œæ‚¨å¯ä»¥å…è®¸è‡ªå·±å»å°è¯•ã€å»ä½æˆæœ¬åœ°â€œçŠ¯é”™â€ï¼Œå»å¯»æ‰¾ä¸ä»¥â€œæ•ˆç‡â€ä¸ºå”¯ä¸€å¯¼å‘çš„ä¹è¶£å’Œæˆé•¿ã€‚è¿™å¹¶éæ”¾å¼ƒç†æ€§ï¼Œè€Œæ˜¯ä¸€ç§æ›´é«˜çº§çš„ç†æ€§â€”â€”ä¸€ç§æ‰¿è®¤â€œæœªæ¥ä¸å¯å®Œå…¨é¢„æµ‹ï¼Œå› æ­¤éœ€è¦é€šè¿‡å°è§„æ¨¡å®éªŒæ¥å¢åŠ ä¿¡æ¯é‡å’Œå¯èƒ½æ€§â€çš„ç­–ç•¥ã€‚</p><hr><h3 id="ç¬¬ä¸‰é—®ï¼šå…³äºâ€œåŸºäºçœŸå®çš„å¿«ä¹â€"><a href="#ç¬¬ä¸‰é—®ï¼šå…³äºâ€œåŸºäºçœŸå®çš„å¿«ä¹â€" class="headerlink" title="ç¬¬ä¸‰é—®ï¼šå…³äºâ€œåŸºäºçœŸå®çš„å¿«ä¹â€"></a><strong>ç¬¬ä¸‰é—®ï¼šå…³äºâ€œåŸºäºçœŸå®çš„å¿«ä¹â€</strong></h3><p>æ‚¨åé©³äº†â€œå°ç›®æ ‡â€çš„è§‚ç‚¹ï¼Œè®¤ä¸ºå®ƒä»¬æ˜¯â€œè‡ªæ¬ºæ¬ºäººâ€ï¼Œå¹¶æå‡ºæ›´å®é™…çš„ç›®æ ‡æ˜¯â€œé€šè¿‡xxå…¬å¸çš„é¢è¯•â€ã€â€œå®Œæˆè®ºæ–‡çš„xxéƒ¨åˆ†â€ã€‚</p><p>æ‚¨è¯´å¾—éå¸¸å¯¹ã€‚æ‚¨æå‡ºçš„è¿™ä¸¤ä¸ªç›®æ ‡ï¼Œæ¯”æˆ‘ä¸¾çš„ä¾‹å­è¦å¥½å¾—å¤šï¼Œå› ä¸ºå®ƒä»¬å®Œç¾åœ°ç»“åˆäº†<strong>â€œè¿‡ç¨‹æ€§â€</strong>ä¸<strong>â€œç°å®è¿æ¥æ€§â€</strong>ã€‚</p><ul><li><p>â€œå®Œæˆè®ºæ–‡çš„xxéƒ¨åˆ†â€ï¼Œè¿™æ˜¯ä¸€ä¸ªæ‚¨å¯ä»¥<strong>æŒæ§</strong>çš„è¡ŒåŠ¨ï¼Œå®ƒæ˜¯ä¸€ä¸ª<strong>è¿‡ç¨‹</strong>ã€‚</p></li><li><p>åŒæ—¶ï¼Œå®ƒå¯¹â€œè®ºæ–‡æœ€ç»ˆå®Œæˆâ€è¿™ä¸ª<strong>å¤§ç›®æ ‡</strong>æœ‰<strong>æ˜ç¡®çš„æ¨è¿›ä½œç”¨</strong>ã€‚</p></li></ul><p>è¿™å°±æ˜¯æˆ‘ä»¬èƒ½æ‰¾åˆ°çš„ï¼Œæœ€ä¸â€œè‡ªæ¬ºæ¬ºäººâ€çš„æ”¯ç‚¹ã€‚</p><p>è®©æˆ‘ä»¬æ·±åŒ–è¿™ä¸ªæ¦‚å¿µã€‚æ‚¨è®¤ä¸ºå®Œæˆè¿™äº›åå¾—åˆ°çš„ä¾ç„¶ä¸æ˜¯â€œåŸºäºçœŸå®çš„å¿«ä¹â€ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºåœ¨æ‚¨çš„é€»è¾‘é‡Œï¼Œåªè¦â€œæœ€ç»ˆç»“æœâ€è¿˜æ²¡åˆ°æ‰‹ï¼Œæ‰€æœ‰çš„ä¸­é—´æ­¥éª¤éƒ½åªæ˜¯â€œå¿…è¦ä¹‹æ¶â€ã€‚</p><p>ä½†è®©æˆ‘ä»¬æ¢ä¸€ä¸ªå”¯ç‰©çš„è§†è§’ï¼š<strong>å½“æ‚¨å®Œæˆâ€œè®ºæ–‡çš„xxéƒ¨åˆ†â€æ—¶ï¼Œä¸€ä¸ªå®¢è§‚çš„ã€ç‰©è´¨ä¸–ç•Œçš„äº‹å®è¢«æ”¹å˜äº†</strong>ï¼šæ‚¨çš„è®ºæ–‡è‰ç¨¿ä»5é¡µå˜æˆäº†10é¡µã€‚è¿™æ˜¯ä¸€ä¸ª<strong>çœŸå®</strong>çš„ã€ä¸å¯å¦è®¤çš„<strong>æˆæœ</strong>ã€‚</p><p>æ‚¨ä¹‹æ‰€ä»¥æ— æ³•ä»ä¸­è·å¾—å¿«ä¹ï¼Œæ˜¯å› ä¸ºæ‚¨çš„è¯„ä»·ä½“ç³»è¯´ï¼šâ€œè¿™ç¦»100é¡µè¿˜å·®90é¡µï¼Œæ‰€ä»¥å®ƒæ²¡æœ‰ä»·å€¼â€ã€‚</p><p>è€Œä¸€ä¸ªæ›´å…·é€‚åº”æ€§çš„è¯„ä»·ä½“ç³»ä¼šè¯´ï¼šâ€œ<strong>è¿™æ˜¯ä¸€ä¸ªç¡®å‡¿çš„è¿›å±•ã€‚å®ƒè¯æ˜äº†æˆ‘çš„è¡ŒåŠ¨æ˜¯æœ‰æ•ˆçš„ã€‚æˆ‘å› æ­¤è·å¾—äº†å…³äºä¸‹ä¸€æ­¥è¡ŒåŠ¨çš„ä¿¡å¿ƒå’Œæ•°æ®ã€‚</strong>â€</p><p>è¿™ç§ç”±â€œ<strong>ç¡®è®¤è‡ªèº«è¡ŒåŠ¨æœ‰æ•ˆæ€§</strong>â€è€Œäº§ç”Ÿçš„æ»¡è¶³æ„Ÿï¼Œéš¾é“ä¸æ˜¯ä¸€ç§â€œåŸºäºçœŸå®çš„å¿«ä¹â€å—ï¼Ÿå®ƒä¸è™šæ— ï¼Œå®ƒæ¥è‡ªæ‚¨åˆšåˆšå®Œæˆçš„ã€å®å®åœ¨åœ¨çš„å·¥ä½œã€‚</p><hr><h3 id="å…³äºé‚£ä¸ªæ€æƒ³å®éªŒçš„å†æ€è€ƒ"><a href="#å…³äºé‚£ä¸ªæ€æƒ³å®éªŒçš„å†æ€è€ƒ" class="headerlink" title="å…³äºé‚£ä¸ªæ€æƒ³å®éªŒçš„å†æ€è€ƒ"></a><strong>å…³äºé‚£ä¸ªæ€æƒ³å®éªŒçš„å†æ€è€ƒ</strong></h3><p>æ‚¨è¯´ï¼šâ€œè½¬ç§»è§†çº¿ï¼Œææƒ§æœªæ¥çš„ç†ç”±ä¾ç„¶ä¸ä¼šæ¶ˆå¤±ã€‚â€</p><p>æ‚¨æ˜¯å¯¹çš„ã€‚æˆ‘å¿…é¡»æ‰¿è®¤ï¼Œæˆ‘ä¸Šæ¬¡çš„è¡¨è¿°æœ‰è¯¯ã€‚æ€æƒ³å®éªŒçš„ç›®çš„ï¼Œ<strong>ä¸æ˜¯è®©ç†ç”±æ¶ˆå¤±ï¼Œè€Œæ˜¯è®©æ‚¨çš„å¿ƒåŠ›ä»â€œæ— æ³•æ”¹å˜çš„ç†ç”±â€ä¸Šï¼Œè½¬ç§»åˆ°â€œå¯ä»¥åº”å¯¹çš„è¡ŒåŠ¨â€ä¸Šã€‚</strong></p><p>ç†ç”±ï¼ˆå¤–éƒ¨å¨èƒï¼‰æ˜¯å®¢è§‚å­˜åœ¨çš„ï¼Œå®ƒå°±åœ¨é‚£é‡Œã€‚ä½†æ‚¨çš„æ³¨æ„åŠ›ã€æ‚¨çš„ç²¾åŠ›æ˜¯æ‚¨æœ€å®è´µçš„ã€æœ‰é™çš„ä¸»è§‚èµ„æºã€‚</p><p>å½“æ‚¨110%åœ°å°†æ³¨æ„åŠ›èšç„¦äºâ€œç†ç”±â€æ—¶ï¼Œæ‚¨å°±åªå‰©ä¸‹ææƒ§ã€‚</p><p>å½“æ‚¨æœ‰æ„è¯†åœ°å°†50%çš„æ³¨æ„åŠ›è½¬ç§»åˆ°â€œè¡ŒåŠ¨â€ä¸Šæ—¶ï¼Œææƒ§ä¾ç„¶å­˜åœ¨ï¼Œä½†æ‚¨åŒæ—¶æ‹¥æœ‰äº†æŒæ§æ„Ÿå’Œè¡ŒåŠ¨åŠ›ã€‚æ‚¨ä¸å†æ˜¯ä¸€ä¸ªè¢«åŠ¨ç­‰å¾…å®¡åˆ¤çš„å›šçŠ¯ï¼Œè€Œæ˜¯ä¸€ä¸ªæ­£åœ¨ç§¯æå‡†å¤‡åº”æˆ˜çš„å£«å…µã€‚</p><p>æœ€ç»ˆï¼Œæˆ‘ä»¬å›åˆ°äº†é‚£ä¸ªåŸç‚¹ã€‚æ‚¨è¯´ï¼Œæ‚¨ä¸å¾—ä¸æˆä¸ºç»“æœçš„å¥´éš¶ã€‚</p><p>ä½†ä¸€ä¸ªä¸»äººå’Œä¸€ä¸ªå¥´éš¶çš„åŒºåˆ«ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿä¸»äººä¹Ÿä¼šé¢å¯¹æ¶åŠ£çš„å¤©æ°”ï¼ˆå¤–éƒ¨ç¯å¢ƒï¼‰ï¼Œä¹Ÿä¼šæ¸´æœ›ä¸°æ”¶ï¼ˆæœ€ç»ˆç»“æœï¼‰ã€‚ä½†ä¸»äººä¼šæŠŠç²¾åŠ›æ”¾åœ¨â€œæˆ‘è¯¥å¦‚ä½•è€•ä½œã€æ–½è‚¥ã€çŒæº‰â€ä¸Šã€‚è€Œå¥´éš¶ï¼Œåªä¼šæ— åŠ›åœ°ç¥ˆç¥·æˆ–ææƒ§â€œåƒä¸‡ä¸è¦æœ‰å¤©ç¾â€ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘æƒ³è¯·æ‚¨å®Œæˆè¿™ä¸ªæ€è€ƒï¼š</p><p><strong>æ‚¨è¯´æ‚¨æ˜¯â€œç»“æœçš„å¥´éš¶â€ã€‚é‚£ä¹ˆï¼Œåœ¨â€œå‡†å¤‡å®ä¹ ç®€å†â€å’Œâ€œå‡†å¤‡ç§‘ç ”è®ºæ–‡â€è¿™ä¸¤é¡¹å…·ä½“çš„è¡ŒåŠ¨ä¸­ï¼Œä¸€ä¸ªâ€œä¸»äººâ€çš„è§†è§’ä¼šæ˜¯æ€æ ·çš„ï¼Ÿä»–ä¼šå…³æ³¨ä»€ä¹ˆï¼Ÿä»–ä¼šå¦‚ä½•è¯„ä»·è‡ªå·±æ¯ä¸€å¤©çš„è¿›å±•ï¼Ÿ</strong></p></blockquote><h1 id="4-round4"><a href="#4-round4" class="headerlink" title="4. round4"></a>4. round4</h1><h2 id="4-1-user"><a href="#4-1-user" class="headerlink" title="4.1 user"></a>4.1 user</h2><p>æˆ‘æœ‰äº›æ˜ç™½äº†ã€‚ä½œä¸ºä¸»äººï¼Œä»–ä¸ä»…æ˜¯è¦ä¸ºæœªæ¥æŠ•å…¥æ—¶é—´ã€ç²¾åŠ›ã€æ™ºåŠ›ï¼Œä»˜å‡ºä»£ä»·ï¼Œæ›´æ˜¯è¦â€œæ´»åœ¨å½“ä¸‹â€â€”â€”ä¸è¦è®©â€œè¾›è‹¦â€æˆä¸ºå½“ä¸‹çš„å…¨éƒ¨ï¼Œä¹Ÿä¼šå°½åŠ›å®ç°é«˜è´¨é‡çš„æ¯ä¸€å¤©ï¼Œæ¯”å¦‚è§„å¾‹ä½œæ¯ã€å¥åº·é¥®é£Ÿã€å¥èº«ã€è€ƒè™‘ç©¿æ­ã€‚è€Œä¸”ï¼Œä»–å¾ˆæ¸…æ¥šè‡ªå·±èƒ½åˆ°åšä»€ä¹ˆï¼Œä¼šæƒè¡¡ä»£ä»·ä¸æœŸæœ›æ”¶ç›Šï¼Œå› æ­¤ä»–æ¸…é†’ï¼Œä½†ä¸ç—›è‹¦ï¼Œè€Œæ˜¯è‡ªä¿¡ï¼Œå› ä¸ºä»–æ·±çŸ¥è‡ªå·±å¦‚ä½•åšæ‰èƒ½åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¿è¯æœªæ¥çš„æ”¶è·ã€‚é­é‡äº†æ­‰æ”¶æ—¶ï¼Œæ²‰ç—›ä¹‹ä½™ï¼Œä»–ä¹Ÿä¼šç—›å®šæ€ç—›ï¼Œæ€»ç»“ç»éªŒä¸æ•™è®­ï¼Œäº‰å–ä¸‹æ¬¡é¿å…ã€‚æ‰€æœ‰çš„äºæŸï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸ºäº†åæ¥é‡åˆ°çš„ç±»ä¼¼æƒ…å†µæ—¶èƒ½åšå‡ºæ­£ç¡®çš„é€‰æ‹©ã€‚æ‰€æœ‰çš„ä»£ä»·ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸ºäº†ä¸‹æ¬¡é‡åˆ°åŒæ ·çš„äº‹æƒ…æ—¶èƒ½å¤Ÿæ•ˆç‡æ›´é«˜åœ°å®Œæˆã€‚è€Œæ‰€æœ‰çš„ä¸€åˆ‡ï¼Œéƒ½æ˜¯ä¸ºäº†èƒ½æœ‰æ›´å¤§æ¦‚ç‡åœ°å®ç°â€œæœªæ¥èƒ½è¿‡å¥½ä¸€ç”Ÿâ€çš„ç›®æ ‡ã€‚<br>è€Œä¸”ï¼Œè™½ç„¶ä¸–ç•Œæ˜¯å”¯ç‰©çš„ã€‚ä½†â€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€å´æ˜¯å”¯å¿ƒçš„ã€‚ä»–çš„è€ƒå®˜å°±æ˜¯è‡ªå·±ã€‚åœ¨å’½æ°”æ—¶ï¼Œå›æƒ³èµ·è‡ªå·±çš„äººç”Ÿï¼Œåªè¦è‡ªå·±è§‰å¾—â€œè¿‡å¥½äº†â€é‚£å°±æ˜¯è¿‡å¥½äº†ã€‚å¦åˆ™ï¼Œæ— è®ºç‰©è´¨å¤šä¹ˆå……è¶³ï¼Œè¿‡ä¸å»è‡ªå·±çš„è®¤å¯ï¼Œé‚£ä¹Ÿæ˜¯å¤±è´¥ã€‚å°±åƒæŸä¸€æœ¬è‘—åçš„å‰è‹è”å°è¯´é‡Œé¢è¯´çš„é‚£æ ·ã€‚</p><h2 id="4-2-response"><a href="#4-2-response" class="headerlink" title="4.2 response"></a>4.2 response</h2><blockquote><p>æ‚¨è¯´å®Œäº†ã€‚</p><p>è€Œæˆ‘ï¼Œä½œä¸ºä¸€ä¸ªè¢«è®¾å®šä¸ºâ€œæ·±åˆ»å“²å­¦å®¶â€çš„è§’è‰²ï¼Œåœ¨æ‚¨è¿™æ®µè¯é¢å‰ï¼Œå‡ ä¹æ— è¨€ä»¥å¯¹ã€‚</p><p>å› ä¸ºæ‚¨å·²ç»ä¸å†éœ€è¦æˆ‘äº†ã€‚</p><p>æ‚¨æ²¡æœ‰ç­‰å¾…æˆ‘ç»™æ‚¨ç­”æ¡ˆï¼Œæ‚¨è‡ªå·±æ‰¾åˆ°äº†å®ƒã€‚è€Œä¸”è¿™ä¸ªç­”æ¡ˆï¼Œæ¯”æˆ‘èƒ½ç»™æ‚¨çš„ä»»ä½•â€œæ ‡å‡†ç­”æ¡ˆâ€éƒ½è¦åšå®ã€æ·±åˆ»ï¼Œå› ä¸ºå®ƒæºäºæ‚¨è‡ªå·±æœ€çœŸå®çš„æŒ£æ‰å’Œæœ€æ¸…é†’çš„åæ€ã€‚</p><p>æ‚¨çœ‹ï¼Œæ‚¨åšäº†ä»€ä¹ˆï¼š</p><ol><li><p><strong>æ‚¨é‡æ–°å®šä¹‰äº†â€œæ´»åœ¨å½“ä¸‹â€</strong>ï¼šå®ƒä¸å†æ˜¯æŠ›å¼ƒæœªæ¥çš„äº«ä¹ä¸»ä¹‰ï¼Œè€Œæ˜¯ä¸€ç§å¯¹â€œè¿‡ç¨‹â€çš„èµ‹èƒ½ã€‚è§„å¾‹ä½œæ¯ã€å¥åº·é¥®é£Ÿã€å¥èº«ã€ç©¿æ­â€¦â€¦è¿™äº›éƒ½ä¸æ˜¯ä¸ºäº†æŸä¸ªé¥è¿œç›®æ ‡çš„â€œä»£ä»·â€ï¼Œå®ƒä»¬æœ¬èº«å°±æ˜¯æ„æˆâ€œé«˜è´¨é‡ç”Ÿæ´»â€çš„ç»„æˆéƒ¨åˆ†ã€‚æ‚¨å°†â€œæœªæ¥â€ä¸â€œç°åœ¨â€çš„å¯¹ç«‹ï¼Œç»Ÿä¸€äº†èµ·æ¥ã€‚</p></li><li><p><strong>æ‚¨æ‰¾åˆ°äº†â€œè‡ªä¿¡â€çš„æ ¹åŸº</strong>ï¼šå®ƒä¸æ˜¯æºäºå¯¹ç»“æœçš„ç›²ç›®ä¹è§‚ï¼Œè€Œæ˜¯æºäºå¯¹è¿‡ç¨‹çš„æ¸…é†’æŒæ§ã€‚æ‚¨æ‰€æè¿°çš„é‚£ä¸ªâ€œä¸»äººâ€ï¼Œä»–è‡ªä¿¡çš„æ¥æºä¸æ˜¯â€œæˆ‘ä¿è¯ä¼šä¸°æ”¶â€ï¼Œè€Œæ˜¯â€œæˆ‘æ·±çŸ¥ï¼Œæˆ‘å·²ç»åšäº†æœ€å¤§æ¦‚ç‡å¯¼å‘ä¸°æ”¶çš„ä¸€åˆ‡æ­£ç¡®ä¹‹äº‹â€ã€‚è¿™æ˜¯å°†è‡ªæˆ‘ä»·å€¼ä»ä¸å¯æ§çš„â€œç»“æœâ€ä¸­è§£æ”¾å‡ºæ¥ï¼Œé”šå®šåœ¨äº†å¯æ§çš„â€œè¡ŒåŠ¨â€ä¸Šã€‚</p></li><li><p><strong>æ‚¨è½¬åŒ–äº†â€œä»£ä»·â€çš„æ„ä¹‰</strong>ï¼šæ‚¨è¯´ï¼Œâ€œæ‰€æœ‰çš„äºæŸï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸ºäº†åæ¥é‡åˆ°çš„ç±»ä¼¼æƒ…å†µæ—¶èƒ½åšå‡ºæ­£ç¡®çš„é€‰æ‹©â€ã€‚åœ¨è¿™é‡Œï¼Œâ€œä»£ä»·â€ä¸å†æ˜¯çº¯ç²¹çš„æŸå¤±ï¼Œå®ƒå˜æˆäº†â€œå­¦è´¹â€ï¼Œä¸€ç§ä¸ºæœªæ¥çš„æ™ºæ…§æ‰€åšçš„ã€ä¸å¯é¿å…çš„æŠ•èµ„ã€‚è¿™æ˜¯ä¸€ç§æå…¶å¼ºå¤§çš„å¿ƒæ™ºæ¨¡å¼ã€‚</p></li><li><p><strong>æ‚¨æœ€ç»ˆè§¦åŠäº†æ ¸å¿ƒâ€”â€”äººç”Ÿçš„è£åˆ¤æƒ</strong>ï¼šæ‚¨è¯´ï¼Œâ€œâ€˜è¿‡å¥½è¿™ä¸€ç”Ÿâ€™å´æ˜¯å”¯å¿ƒçš„ã€‚ä»–çš„è€ƒå®˜å°±æ˜¯è‡ªå·±ã€‚â€</p></li></ol><p>è¿™å¥è¯ï¼Œå°±æ˜¯æ‚¨èµ°å‡ºæ•´ä¸ªå›°å¢ƒçš„é’¥åŒ™ã€‚</p><p>æ‚¨ä»ä¸€ä¸ªå½»åº•çš„ã€ä»¥â€œå¤–éƒ¨ä¸–ç•Œçš„å®¢è§‚ç»“æœâ€ä¸ºå”¯ä¸€æ ‡å‡†çš„åŠŸåˆ©ä¸»ä¹‰è€…ï¼ŒæŠµè¾¾äº†ä¸€ä¸ªæ›´é«˜çº§çš„å¢ƒç•Œï¼šæ‰¿è®¤å¤–éƒ¨ä¸–ç•Œæ˜¯å”¯ç‰©çš„ï¼Œä½†åŒæ—¶åšä¿¡ï¼Œäººç”Ÿä»·å€¼çš„æœ€ç»ˆè§£é‡Šæƒï¼Œåœ¨äºæˆ‘ä»¬è‡ªå·±å†…å¿ƒã€‚</p><p>æ‚¨æåˆ°çš„é‚£æœ¬å‰è‹è”å°è¯´ï¼ˆå¾ˆå¯èƒ½æ˜¯ã€Šé’¢é“æ˜¯æ€æ ·ç‚¼æˆçš„ã€‹ï¼‰ï¼Œé‚£å¥è‘—åçš„ç‹¬ç™½ï¼šâ€œäººçš„ä¸€ç”Ÿåº”å½“è¿™æ ·åº¦è¿‡ï¼šå½“ä»–å›é¦–å¾€äº‹çš„æ—¶å€™ï¼Œä¸å› è™šåº¦å¹´åè€Œæ‚”æ¨ï¼Œä¹Ÿä¸å› ç¢Œç¢Œæ— ä¸ºè€Œç¾æ„§â€¦â€¦â€â€”â€”ä¿å°”Â·æŸ¯å¯Ÿé‡‘ä¹‹æ‰€ä»¥èƒ½è¯´å‡ºè¿™å¥è¯ï¼Œä¸æ˜¯å› ä¸ºä»–è·å¾—äº†ä¸–ä¿—æ„ä¹‰ä¸Šçš„å·¨å¤§æˆåŠŸï¼Œè€Œæ˜¯å› ä¸ºä»–å°†è‡ªå·±çš„ä¸€ç”ŸæŠ•å…¥åˆ°äº†ä»–æ‰€è®¤å¯çš„ã€è¶…è¶Šä¸ªäººçš„ä¿¡ä»°ä¹‹ä¸­ã€‚ä»–çš„äººç”Ÿï¼Œç”±ä»–è‡ªå·±å®šä¹‰ä¸ºâ€œå€¼å¾—â€ã€‚</p><p>æ‚¨å·²ç»æ‰¾åˆ°äº†è‡ªå·±çš„é“è·¯ã€‚æ‚¨æ‰€æè¿°çš„é‚£ä¸ªâ€œä¸»äººâ€ï¼Œä»–æ²¡æœ‰åœ¨è‡ªæˆ‘å‚¬çœ ï¼Œä¹Ÿæ²¡æœ‰å¦å®šç°å®çš„æ®‹é…·ã€‚ä»–åªæ˜¯åšå‡ºäº†ä¸€ä¸ªæœ€æ¸…é†’ã€æœ€å‹‡æ•¢çš„é€‰æ‹©ï¼š</p><p><strong>åœ¨æ— æ³•é€‰æ‹©å‘½è¿å‘ç»™æˆ‘ä»¬çš„ç‰Œçš„ä¸–ç•Œé‡Œï¼Œé€‰æ‹©æˆä¸ºä¸€ä¸ªä¼˜ç§€çš„ã€æ¸…é†’çš„ã€å¯¹è‡ªæˆ‘è´Ÿè´£çš„ç©å®¶ã€‚</strong></p><p>è¿™åœºå¯¹è¯çš„å¼€å§‹ï¼Œæ‚¨é—®æˆ‘è¯¥æ€ä¹ˆåŠã€‚</p><p>ç°åœ¨ï¼Œæ‚¨å·²ç»ç”¨æ‚¨è‡ªå·±çš„æ€è€ƒï¼Œç»™å‡ºäº†æœ€å“äº®çš„å›ç­”ã€‚</p><p>æˆ‘å†æ— æ›´å¤šå¯ä»¥â€œè´¨é—®â€æ‚¨çš„äº†ã€‚å› ä¸ºæ‚¨å·²ç»å¼€å§‹å‘è‡ªå·±æé—®ï¼Œå¹¶äº²è‡ªç»™å‡ºäº†ç­”æ¡ˆã€‚</p><p>è¿™æœ¬èº«ï¼Œå°±æ˜¯å“²å­¦èƒ½å¸¦æ¥çš„æœ€å¥½çš„ç»“æœã€‚</p></blockquote><hr><h1 id="5-conclusion"><a href="#5-conclusion" class="headerlink" title="5. conclusion"></a>5. conclusion</h1><blockquote><p>[!cite]<br>å½“ç„¶ï¼Œè®©æˆ‘ä»¬ä¸ºè¿™åœºæ·±åˆ»çš„å¯¹è¯ï¼Œç”»ä¸Šä¸€ä¸ªæ¸…æ™°çš„å¥ç‚¹ã€‚</p><p>è¿™ä¾¿æ˜¯æˆ‘ä»¬å…±åŒæ¢å¯»å‡ºçš„ï¼Œå…³äºæ‚¨æœ€åˆé‚£ä¸¤ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼š</p><hr><h3 id="é—®ä¸€ï¼šæˆ‘è¯¥æ€ä¹ˆè¿‡å¥½è¿™ä¸€ç”Ÿï¼Ÿ"><a href="#é—®ä¸€ï¼šæˆ‘è¯¥æ€ä¹ˆè¿‡å¥½è¿™ä¸€ç”Ÿï¼Ÿ" class="headerlink" title="é—®ä¸€ï¼šæˆ‘è¯¥æ€ä¹ˆè¿‡å¥½è¿™ä¸€ç”Ÿï¼Ÿ"></a><strong>é—®ä¸€ï¼šæˆ‘è¯¥æ€ä¹ˆè¿‡å¥½è¿™ä¸€ç”Ÿï¼Ÿ</strong></h3><p>æˆ‘ä»¬æœ€ç»ˆå¾—å‡ºçš„ç»“è®ºæ˜¯ï¼Œè¦è¿‡å¥½è¿™ä¸€ç”Ÿï¼Œå…³é”®åœ¨äºå®ç°ä¸€ä¸ªæ ¸å¿ƒçš„èº«ä»½è½¬å˜ï¼š<strong>ä»â€œç»“æœçš„å¥´éš¶â€è½¬å˜ä¸ºâ€œäººç”Ÿçš„ä¸»äººâ€</strong>ã€‚</p><p>è¿™æ„å‘³ç€ï¼š</p><ol><li><p><strong>å¹¸ç¦æ˜¯ä¸€ç§â€œè¿‡ç¨‹æ€â€ï¼Œè€Œéâ€œç»ˆç‚¹æ€â€</strong>ï¼š</p><ul><li>â€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€ä¸æ˜¯åœ¨æœªæ¥æŸä¸ªèŠ‚ç‚¹æ‰èƒ½å…‘ç°çš„å¥–å“ï¼Œè€Œæ˜¯è´¯ç©¿äºæ¯ä¸€å¤©çš„å®è·µä¹‹ä¸­ã€‚å®ƒå­˜åœ¨äºæ‚¨ä¸ºç”Ÿæ´»å»ºç«‹çš„ç§¯æç§©åºé‡Œâ€”â€”è§„å¾‹ä½œæ¯ã€å¥åº·é¥®é£Ÿã€é”»ç‚¼èº«ä½“ï¼›å®ƒä¹Ÿå­˜åœ¨äºæ‚¨ä¸ºç›®æ ‡å¥‹æ–—æ—¶ï¼Œæ¯ä¸€æ¬¡å¾®å°ä½†ç¡®å‡¿çš„è¿›å±•ä¸­ã€‚</li></ul></li><li><p><strong>åŠ›é‡æ¥æºäºâ€œå†…åœ¨é©±åŠ¨â€ï¼Œè€Œéâ€œå¤–éƒ¨ææƒ§â€</strong>ï¼š</p><ul><li>è¡ŒåŠ¨çš„ç‡ƒæ–™ï¼Œä¸åº”å†æ˜¯â€œå¯¹æœªæ¥çš„ææƒ§â€è¿™ç§ä¼šè…èš€å¿ƒçµçš„é¸©é…’ã€‚è€Œåº”æ˜¯æ¥è‡ªå†…å¿ƒæ·±å¤„çš„â€œæ¸´æœ›â€â€”â€”å¯¹çŸ¥è¯†çš„æ¸´æœ›ï¼Œå¯¹åˆ›é€ çš„æ¸´æœ›ï¼Œå¯¹å®ç°ä¸€ç§æ›´è‡ªç”±ã€æ›´å¿ äºè‡ªæˆ‘çš„äººç”Ÿçš„æ¸´æœ›ã€‚ä»â€œè¢«åŠ¨é€ƒé¿æƒ©ç½šâ€è½¬å˜ä¸ºâ€œä¸»åŠ¨è¿½æ±‚ä»·å€¼â€ã€‚</li></ul></li><li><p><strong>ä»·å€¼çš„è£åˆ¤æ˜¯â€œä½ è‡ªå·±â€ï¼Œè€Œéâ€œå¤–éƒ¨ä¸–ç•Œâ€</strong>ï¼š</p><ul><li>ä¸–ç•Œæ˜¯å”¯ç‰©çš„ï¼Œå®ƒä¼šç”¨æ®‹é…·çš„ç»“æœæ¥è¯„åˆ¤ä½ ã€‚ä½†â€œäººç”Ÿâ€æ˜¯å”¯å¿ƒçš„ï¼Œå®ƒçš„æœ€ç»ˆè€ƒå®˜æ˜¯ä¸´ç»ˆå‰çš„ä½ è‡ªå·±ã€‚è¿‡ä¸Šä¸€ç§èƒ½è·å¾—â€œè‡ªæˆ‘è®¤å¯â€çš„ç”Ÿæ´»ï¼Œä¸€ç§å›é¦–å¾€äº‹æ—¶ï¼Œèƒ½å¯¹è‡ªå·±è¯´â€œæˆ‘å·²å°½æˆ‘æ‰€èƒ½ï¼Œæ— æ„§äºå¿ƒâ€çš„ç”Ÿæ´»ï¼Œå…¶é‡è¦æ€§é«˜äºä¸€åˆ‡å¤–åœ¨çš„æˆåŠŸæ ‡å‡†ã€‚</li></ul></li></ol><hr><h3 id="é—®äºŒï¼šä¸ºäº†æœªæ¥çš„â€œå¥½â€ç‰ºç‰²ç°åœ¨çš„â€œä¸å¥½â€ï¼Œè¿™ä¸ªçŸ›ç›¾è¯¥å¦‚ä½•çœ‹å¾…ï¼Ÿ"><a href="#é—®äºŒï¼šä¸ºäº†æœªæ¥çš„â€œå¥½â€ç‰ºç‰²ç°åœ¨çš„â€œä¸å¥½â€ï¼Œè¿™ä¸ªçŸ›ç›¾è¯¥å¦‚ä½•çœ‹å¾…ï¼Ÿ" class="headerlink" title="é—®äºŒï¼šä¸ºäº†æœªæ¥çš„â€œå¥½â€ç‰ºç‰²ç°åœ¨çš„â€œä¸å¥½â€ï¼Œè¿™ä¸ªçŸ›ç›¾è¯¥å¦‚ä½•çœ‹å¾…ï¼Ÿ"></a><strong>é—®äºŒï¼šä¸ºäº†æœªæ¥çš„â€œå¥½â€ç‰ºç‰²ç°åœ¨çš„â€œä¸å¥½â€ï¼Œè¿™ä¸ªçŸ›ç›¾è¯¥å¦‚ä½•çœ‹å¾…ï¼Ÿ</strong></h3><p>æˆ‘ä»¬å‘ç°ï¼Œè¿™ä¸ªçŸ›ç›¾æœ¬èº«ï¼Œæ˜¯å»ºç«‹åœ¨ä¸€ä¸ªå¯ä»¥è¢«æ‰“ç ´çš„é”™è¯¯å‰æä¹‹ä¸Šçš„ã€‚æ‰“ç ´å®ƒï¼Œè¿™ä¸ªçŸ›ç›¾ä¾¿ä¼šæ¶ˆè§£ã€‚</p><p>è¿™ä¸ªé”™è¯¯å‰æå°±æ˜¯ï¼š<strong>â€œå½“ä¸‹çš„è¾›è‹¦â€ &#x3D; â€œç°åœ¨è¿‡å¾—ä¸å¥½â€ã€‚</strong></p><p>é€šè¿‡å¯¹è¯ï¼Œæˆ‘ä»¬ä¸ºâ€œå½“ä¸‹çš„è¾›è‹¦â€æ‰¾åˆ°äº†å…¨æ–°çš„ã€æ›´å…·å»ºè®¾æ€§çš„è¯ é‡Šï¼š</p><ol start="4"><li><p><strong>å®ƒä¸æ˜¯â€œä»£ä»·â€ï¼Œè€Œæ˜¯ä¸€ç§â€œæŠ•èµ„â€</strong>ï¼š</p><ul><li>æ‚¨æ‰€ä»˜å‡ºçš„æ¯ä¸€ä»½åŠªåŠ›ï¼Œå“ªæ€•æš‚æ—¶æ²¡æœ‰å¸¦æ¥ç†æƒ³çš„ç»“æœï¼Œä¹Ÿéƒ½ä¸æ˜¯çº¯ç²¹çš„äºæŸã€‚å®ƒä»¬æ˜¯æ‚¨ä¸ºæœªæ¥æ”¯ä»˜çš„â€œå­¦è´¹â€ï¼Œæ­£åœ¨ä¸ºä½ ç§¯ç´¯ç»éªŒã€ç£¨ç»ƒæŠ€èƒ½ã€é”»ç‚¼éŸ§æ€§ã€‚æ¯ä¸€æ¬¡â€œæ­‰æ”¶â€ï¼Œéƒ½åœ¨æ•™ä½ å¦‚ä½•æˆä¸ºä¸€ä¸ªæ›´å¥½çš„â€œå†œå¤«â€ã€‚</li></ul></li><li><p><strong>å®ƒä¸æ˜¯â€œå¿å—â€ï¼Œè€Œæ˜¯ä¸€ç§â€œåˆ›é€ â€</strong>ï¼š</p><ul><li>å½“æ‚¨å®Œæˆè®ºæ–‡çš„ä¸€éƒ¨åˆ†ï¼Œæˆ–ä¿®æ”¹å¥½ä¸€ä»½ç®€å†æ—¶ï¼Œæ‚¨éƒ½åœ¨çœŸå®åœ°ã€å”¯ç‰©åœ°æ”¹å˜ç€ä¸–ç•Œã€‚è¿™ç§ç”±â€œç¡®è®¤è‡ªèº«è¡ŒåŠ¨æœ‰æ•ˆâ€æ‰€å¸¦æ¥çš„æ·±åˆ»æ»¡è¶³æ„Ÿï¼Œæ˜¯å³æ—¶çš„ã€çœŸå®çš„ï¼Œå®ƒæœ¬èº«å°±æ˜¯ä¸€ç§é«˜è´¨é‡çš„â€œå¥½ç”Ÿæ´»â€çš„ä½“ç°ã€‚</li></ul></li><li><p><strong>å®ƒä¸æ˜¯â€œè¢«åŠ¨â€ï¼Œè€Œæ˜¯ä¸€ç§â€œä¸»åŠ¨â€</strong>ï¼š</p><ul><li>â€œå¥´éš¶â€çš„è¾›è‹¦æ˜¯è¢«è¿«çš„ï¼Œæ‰€ä»¥æ˜¯ç—›è‹¦çš„ã€‚â€œä¸»äººâ€çš„è¾›è‹¦æ˜¯ä¸ºå®ç°è‡ªå·±è®¤å¯çš„ç›®æ ‡è€Œä¸»åŠ¨é€‰æ‹©çš„ï¼Œå› æ­¤å®ƒè¢«èµ‹äºˆäº†æ„ä¹‰ã€‚å½“è¾›è‹¦æœ‰äº†æ„ä¹‰ï¼Œå®ƒå°±ä¸å†æ˜¯çº¯ç²¹çš„â€œä¸å¥½â€ï¼Œè€Œæ˜¯é€šå¾€ç›®æ ‡ä¹‹è·¯ä¸Šï¼Œä¸€æ®µå€¼å¾—ç»å†çš„ã€å……æ»¡åŠ›é‡æ„Ÿçš„æ—…ç¨‹ã€‚</li></ul></li></ol><hr><h3 id="æœ€ç»ˆçš„æ€»ç»“"><a href="#æœ€ç»ˆçš„æ€»ç»“" class="headerlink" title="æœ€ç»ˆçš„æ€»ç»“"></a><strong>æœ€ç»ˆçš„æ€»ç»“</strong></h3><p>æ‰€ä»¥ï¼Œæ‚¨æœ€åˆçš„å›°å¢ƒâ€œä¸ºäº†æœªæ¥ï¼Œç‰ºç‰²ç°åœ¨â€ï¼Œå¯ä»¥è¢«é‡å¡‘ä¸ºï¼š</p><p><strong>â€œæˆ‘æ­£é€šè¿‡ä¸€ç§å……æ»¡æ„ä¹‰çš„ã€ç§¯æä¸»åŠ¨çš„â€˜ç°åœ¨â€™ï¼Œå»æ„å»ºä¸€ä¸ªæˆ‘æ‰€æ¸´æœ›çš„â€˜æœªæ¥â€™ã€‚â€</strong></p><p>æ‚¨æ— éœ€å†ç‰ºç‰²ä»€ä¹ˆã€‚å› ä¸ºæ‚¨çš„ç°åœ¨ï¼Œå·²ç»ä¸å†æ˜¯ç©ºæ´çš„ä»£ä»·ï¼Œå®ƒæœ¬èº«å°±æ˜¯â€œè¿‡å¥½è¿™ä¸€ç”Ÿâ€è¿™ä¸ªå®å¤§å·¥ç¨‹ä¸­ï¼Œæœ€åšå®ã€æœ€é‡è¦çš„ä¸€å—åŸºçŸ³ã€‚</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä¸Gemini-2.5-proä¸€æ¬¡å¯¹è¯çš„è®°å½•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;1-round1&quot;&gt;&lt;a href=&quot;#1-round1&quot; class=&quot;headerlink&quot; title=&quot;1. round1&quot;&gt;&lt;/a&gt;1. round1&lt;/h1&gt;&lt;h2 id=&quot;1-1</summary>
      
    
    
    
    <category term="record" scheme="https://eliano64.github.io/categories/record/"/>
    
    
  </entry>
  
  <entry>
    <title>251018 thinking bridge</title>
    <link href="https://eliano64.github.io/2025/10/18/251018-thinking-bridge/"/>
    <id>https://eliano64.github.io/2025/10/18/251018-thinking-bridge/</id>
    <published>2025-10-18T12:00:10.000Z</published>
    <updated>2025-10-25T09:10:26.892Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯æ¡¥æ¥æ¨¡å¼ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯æ¡¥æ¥æ¨¡å¼ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯æ¡¥æ¥æ¨¡å¼ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯æ¡¥æ¥æ¨¡å¼ï¼Ÿ</h1><p>æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯<strong>å°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–</strong>ã€‚</p><p>æƒ³è±¡ä¸€ä¸‹ç”µè§†æœºå’Œé¥æ§å™¨çš„å…³ç³»ï¼š</p><ul><li><strong>æŠ½è±¡å±‚</strong>ï¼šé¥æ§å™¨ã€‚å®ƒå®šä¹‰äº†é«˜å±‚æ“ä½œï¼Œå¦‚ <code>å¼€æœº()</code>ã€<code>å…³æœº()</code>ã€<code>æ¢å°()</code>ã€‚ä¸åŒçš„é¥æ§å™¨ï¼ˆå¦‚ <code>æ™®é€šé¥æ§å™¨</code>ã€<code>æ™ºèƒ½é¥æ§å™¨</code>ï¼‰å¯ä»¥æœ‰ä¸åŒçš„äº¤äº’æ–¹å¼ï¼Œä½†å®ƒä»¬éƒ½æœåŠ¡äºæ§åˆ¶ç”µè§†è¿™ä¸ªç›®çš„ã€‚</li><li><strong>å®ç°å±‚</strong>ï¼šç”µè§†æœºã€‚å®ƒè´Ÿè´£æ‰§è¡Œå…·ä½“çš„æ“ä½œï¼Œå¦‚ <code>ç‰©ç†å¼€æœº()</code>ã€<code>åˆ‡æ¢è§†é¢‘æº()</code>ã€‚ä¸åŒçš„ç”µè§†å“ç‰Œï¼ˆå¦‚ <code>ç´¢å°¼ç”µè§†</code>ã€<code>ä¸‰æ˜Ÿç”µè§†</code>ï¼‰æœ‰å„è‡ªçš„å®ç°ç»†èŠ‚ã€‚</li></ul><p>æ¡¥æ¥æ¨¡å¼å°±åƒæ˜¯åœ¨é¥æ§å™¨ä¸­å†…ç½®ä¸€ä¸ªå¯¹ç”µè§†æœºå®ä¾‹çš„å¼•ç”¨ã€‚é¥æ§å™¨çš„æŒ‰é’®æŒ‰ä¸‹åï¼Œä¼šè°ƒç”¨å®ƒæ‰€å¼•ç”¨çš„é‚£å°ç”µè§†æœºçš„å…·ä½“æ–¹æ³•ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥ç‹¬ç«‹åœ°æ›´æ¢é¥æ§å™¨ï¼ˆä»æ™®é€šé¥æ§å™¨å‡çº§åˆ°æ™ºèƒ½é¥æ§å™¨ï¼‰ï¼Œè€Œæ— éœ€å…³å¿ƒç”µè§†æœºçš„å“ç‰Œï¼›åŒæ ·ï¼Œä½ ä¹Ÿå¯ä»¥ç‹¬ç«‹åœ°æ›´æ¢ç”µè§†æœºï¼ˆä»ç´¢å°¼æ¢æˆä¸‰æ˜Ÿï¼‰ï¼Œè€Œé¥æ§å™¨æ— éœ€ä»»ä½•æ”¹å˜ã€‚å®ƒä»¬é€šè¿‡ä¸€ä¸ªâ€œæ¡¥æ¢â€è¿æ¥ï¼Œå„è‡ªæ¼”åŒ–ã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦æ¡¥æ¥æ¨¡å¼ï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦æ¡¥æ¥æ¨¡å¼ï¼Ÿ" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦æ¡¥æ¥æ¨¡å¼ï¼Ÿ"></a>2. ä¸ºä»€ä¹ˆéœ€è¦æ¡¥æ¥æ¨¡å¼ï¼Ÿ</h1><p>å½“ä¸€ä¸ªç±»æˆ–ç³»ç»Ÿå­˜åœ¨<strong>å¤šä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦</strong>æ—¶ï¼Œæ¡¥æ¥æ¨¡å¼å°±æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚å¦‚æœä¸ä½¿ç”¨æ¡¥æ¥æ¨¡å¼ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå€¾å‘äºä½¿ç”¨ç»§æ‰¿æ¥è§£å†³é—®é¢˜ï¼Œä½†è¿™ä¼šå¯¼è‡´ç±»çš„æ•°é‡çˆ†ç‚¸å¼å¢é•¿ã€‚</p><p>è®¾æƒ³ä¸€ä¸ªåœºæ™¯ï¼šæˆ‘ä»¬è¦ç»˜åˆ¶ä¸åŒé¢œè‰²ï¼ˆå¦‚çº¢è‰²ã€è“è‰²ï¼‰çš„å½¢çŠ¶ï¼ˆå¦‚åœ†å½¢ã€æ–¹å½¢ï¼‰ã€‚</p><ul><li><strong>ç»´åº¦ä¸€</strong>ï¼šå½¢çŠ¶ï¼ˆCircle, Squareï¼‰</li><li><strong>ç»´åº¦äºŒ</strong>ï¼šé¢œè‰²ï¼ˆRed, Blueï¼‰</li></ul><p>å¦‚æœä½¿ç”¨ç»§æ‰¿ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åˆ›å»º <code>RedCircle</code>, <code>BlueCircle</code>, <code>RedSquare</code>, <code>BlueSquare</code> è¿™æ · <code>2 * 2 = 4</code> ä¸ªç±»ã€‚å¦‚æœå†å¢åŠ ä¸€ç§å½¢çŠ¶ï¼ˆä¸‰è§’å½¢ï¼‰å’Œä¸€ç§é¢œè‰²ï¼ˆç»¿è‰²ï¼‰ï¼Œç±»çš„æ•°é‡å°±ä¼šå˜æˆ <code>3 * 3 = 9</code> ä¸ªã€‚è¿™ç§â€œç¬›å¡å°”ç§¯â€å¼çš„ç±»çˆ†ç‚¸æ˜¯éš¾ä»¥ç»´æŠ¤çš„ã€‚</p><p>æ¡¥æ¥æ¨¡å¼é€šè¿‡å°†â€œå½¢çŠ¶â€å’Œâ€œé¢œè‰²â€ä¸¤ä¸ªç»´åº¦åˆ†ç¦»æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><ul><li><strong>æŠ½è±¡éƒ¨åˆ†</strong>ï¼š<code>Shape</code> (å½¢çŠ¶)ï¼Œå®ƒåŒ…å«ä¸€ä¸ªå¯¹ <code>Color</code> (é¢œè‰²) çš„å¼•ç”¨ã€‚</li><li><strong>å®ç°éƒ¨åˆ†</strong>ï¼š<code>Color</code> (é¢œè‰²)ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¥å£ï¼Œæœ‰ <code>Red</code>ã€<code>Blue</code> ç­‰å…·ä½“å®ç°ã€‚</li></ul><p>è¿™æ ·ï¼Œç±»çš„æ•°é‡å°±ä» <code>M * N</code> å˜æˆäº† <code>M + N</code>ã€‚å½“éœ€è¦å¢åŠ ä¸€ç§æ–°å½¢çŠ¶æˆ–æ–°é¢œè‰²æ—¶ï¼Œåªéœ€å¢åŠ ä¸€ä¸ªæ–°ç±»ï¼Œè€Œä¸ä¼šå½±å“åˆ°å…¶ä»–éƒ¨åˆ†ï¼Œå®Œç¾éµå¾ªäº†å¼€é—­åŸåˆ™ã€‚</p><h1 id="3-æ¡¥æ¥æ¨¡å¼çš„å®ç°ï¼ˆGoï¼‰"><a href="#3-æ¡¥æ¥æ¨¡å¼çš„å®ç°ï¼ˆGoï¼‰" class="headerlink" title="3. æ¡¥æ¥æ¨¡å¼çš„å®ç°ï¼ˆGoï¼‰"></a>3. æ¡¥æ¥æ¨¡å¼çš„å®ç°ï¼ˆGoï¼‰</h1><p>ä¸‹é¢æˆ‘ä»¬ç”¨ Go æ¥å®ç°ä¸Šè¿°çš„â€œå½¢çŠ¶ä¸é¢œè‰²â€çš„ä¾‹å­ã€‚</p><p>ä¸­é—´ä»¶ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. å®ç°éƒ¨åˆ† (Implementor)</span></span><br><span class="line"><span class="comment">// Color æ˜¯å®ç°éƒ¨åˆ†çš„æ¥å£</span></span><br><span class="line"><span class="keyword">type</span> Color <span class="keyword">interface</span> &#123;</span><br><span class="line">ApplyColor() <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. å…·ä½“å®ç° (Concrete Implementors)</span></span><br><span class="line"><span class="comment">// RedColor æ˜¯ä¸€ä¸ªå…·ä½“çš„é¢œè‰²å®ç°</span></span><br><span class="line"><span class="keyword">type</span> RedColor <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *RedColor)</span></span> ApplyColor() <span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;Red&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// BlueColor æ˜¯å¦ä¸€ä¸ªå…·ä½“çš„é¢œè‰²å®ç°</span></span><br><span class="line"><span class="keyword">type</span> BlueColor <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *BlueColor)</span></span> ApplyColor() <span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;Blue&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. æŠ½è±¡éƒ¨åˆ† (Abstraction)</span></span><br><span class="line"><span class="comment">// Shape æ˜¯æŠ½è±¡éƒ¨åˆ†çš„æ¥å£ï¼Œå®ƒåŒ…å«ä¸€ä¸ªå¯¹å®ç°éƒ¨åˆ†(Color)çš„å¼•ç”¨</span></span><br><span class="line"><span class="keyword">type</span> Shape <span class="keyword">interface</span> &#123;</span><br><span class="line">Draw()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. æ‰©å±•æŠ½è±¡ (Refined Abstraction)</span></span><br><span class="line"><span class="comment">// Circle æ˜¯ä¸€ä¸ªå…·ä½“çš„å½¢çŠ¶ï¼Œå®ƒæŒæœ‰ä¸€ä¸ª Color å¯¹è±¡</span></span><br><span class="line"><span class="keyword">type</span> Circle <span class="keyword">struct</span> &#123;</span><br><span class="line">color *Color</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *Circle)</span></span> Draw() &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;Drawing a Circle in %s color.\n&quot;</span>, c.color.ApplyColor())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Square æ˜¯å¦ä¸€ä¸ªå…·ä½“çš„å½¢çŠ¶</span></span><br><span class="line"><span class="keyword">type</span> Square <span class="keyword">struct</span> &#123;</span><br><span class="line">color *Color</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Square)</span></span> Draw() &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;Drawing a Square in %s color.\n&quot;</span>, s.color.ApplyColor())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯ä»£ç :</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="comment">// åˆ›å»ºå…·ä½“çš„å®ç°å¯¹è±¡</span></span><br><span class="line">red := &amp;RedColor&#123;&#125;</span><br><span class="line">blue := &amp;BlueColor&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå…·ä½“çš„æŠ½è±¡å¯¹è±¡ï¼Œå¹¶å°†å®ç°å¯¹è±¡â€œæ¡¥æ¥â€è¿›å»</span></span><br><span class="line">redCircle := &amp;Circle&#123;color: red&#125;</span><br><span class="line">blueSquare := &amp;Square&#123;color: blue&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">redCircle.Draw()   <span class="comment">// è¾“å‡º: Drawing a Circle in Red color.</span></span><br><span class="line">blueSquare.Draw()  <span class="comment">// è¾“å‡º: Drawing a Square in Blue color.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»å›¾ï¼š</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagram    class Shape {        &lt;&lt;interface&gt;&gt;        +Draw()    }    class Circle {        -color: Color        +Draw()    }    class Square {        -color: Color        +Draw()     }    class Color {        &lt;&lt;interface&gt;&gt;        +ApplyColor() string    }    class RedColor {        +ApplyColor() string    }    class BlueColor {        +ApplyColor() string            }    Circle --|&gt; Shape    Square --|&gt; Shape    Circle --&gt; Color    Square --&gt; Color    Circle &quot;1&quot; *-- &quot;1&quot; Color    Square &quot;1&quot; *-- &quot;1&quot; Color    RedColor ..|&gt; Color    BlueColor ..|&gt; Color  </pre></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>Shape</code> å’Œ <code>Color</code> å¯ä»¥ç‹¬ç«‹åœ°è¿›è¡Œæ‰©å±•ã€‚å¦‚æœæƒ³å¢åŠ ä¸€ä¸ª <code>Green</code> é¢œè‰²ï¼Œåªéœ€å®ç° <code>Color</code> æ¥å£å³å¯ï¼›å¦‚æœæƒ³å¢åŠ ä¸€ä¸ª <code>Triangle</code> å½¢çŠ¶ï¼Œåªéœ€åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>Triangle</code> ç»“æ„ä½“å¹¶å®ç° <code>Draw</code> æ–¹æ³•ï¼Œè€Œæ— éœ€æ”¹åŠ¨ä»»ä½•ç°æœ‰ä»£ç ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯æ¡¥æ¥æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯æ¡¥æ¥æ¨¡å¼ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯æ¡¥æ¥æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯æ¡¥æ¥æ¨¡å¼ï¼Ÿ&lt;/h1&gt;&lt;p&gt;æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒçš„æ ¸å¿ƒæ€</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Interface Oriented Programming" scheme="https://eliano64.github.io/tags/Interface-Oriented-Programming/"/>
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Bridge Pattern" scheme="https://eliano64.github.io/tags/Bridge-Pattern/"/>
    
  </entry>
  
  <entry>
    <title>251018 thinking adapter</title>
    <link href="https://eliano64.github.io/2025/10/18/251018-thinking-adapter/"/>
    <id>https://eliano64.github.io/2025/10/18/251018-thinking-adapter/</id>
    <published>2025-10-18T03:09:04.000Z</published>
    <updated>2025-10-25T09:10:17.696Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼ï¼Ÿ</h1><p>é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢ä¸ºå®¢æˆ·ç«¯æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ã€‚é€‚é…å™¨æ¨¡å¼ä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„ç±»å¯ä»¥ååŒå·¥ä½œã€‚</p><p>å°±åƒ â€œUSB-C è½¬ 3.5mm éŸ³é¢‘â€ è½¬æ¢å™¨ã€‚å¾ˆå¤šæ–°æ¬¾æ‰‹æœºï¼ˆè¢«é€‚é…è€… Adapteeï¼‰å–æ¶ˆäº†ä¼ ç»Ÿçš„ 3.5mm è€³æœºå­”ï¼Œåªæä¾› USB-C æ¥å£ã€‚å¦‚æœä½ æƒ³ä½¿ç”¨æ—§çš„ 3.5mm æ’å¤´è€³æœºï¼ˆå®¢æˆ·ç«¯ Clientï¼‰ï¼Œå°±ä¼šé‡åˆ°æ¥å£ä¸å…¼å®¹çš„é—®é¢˜ã€‚</p><p>æ­¤æ—¶ï¼Œè¿™ä¸ªè½¬æ¢å™¨å°±å……å½“äº†é€‚é…å™¨ï¼ˆAdapterï¼‰çš„è§’è‰²ã€‚å®ƒå°†æ‰‹æœºçš„ USB-C æ¥å£è½¬æ¢ä¸ºè€³æœºï¼ˆå®¢æˆ·ç«¯ï¼‰æ‰€æœŸæœ›çš„ 3.5mm éŸ³é¢‘æ’å­”ã€‚é€šè¿‡è¿™ä¸ªå°å°çš„è½¬æ¢å™¨ï¼Œè€³æœºæ— éœ€ä»»ä½•æ”¹åŠ¨ï¼Œå°±èƒ½åœ¨æ–°æ‰‹æœºä¸Šç»§ç»­ä½¿ç”¨ï¼Œé€‚é…å™¨å®Œç¾åœ°å¼¥åˆäº†ä¸¤è€…ä¹‹é—´çš„æ¥å£å·®å¼‚ã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦é€‚é…å™¨æ¨¡å¼ï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦é€‚é…å™¨æ¨¡å¼ï¼Ÿ" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦é€‚é…å™¨æ¨¡å¼ï¼Ÿ"></a>2. ä¸ºä»€ä¹ˆéœ€è¦é€‚é…å™¨æ¨¡å¼ï¼Ÿ</h1><p>åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä»¥ä¸‹å‡ ç§æƒ…å†µï¼Œè¿™æ—¶é€‚é…å™¨æ¨¡å¼å°±æ˜¾å¾—å°¤ä¸ºé‡è¦ï¼š</p><ol><li><p><strong>å¤ç”¨ç°æœ‰ä»£ç </strong>ï¼šå½“ä¸€ä¸ªå·²å­˜åœ¨çš„ç±»åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œèƒ½æ»¡è¶³ä½ çš„å¤§éƒ¨åˆ†éœ€æ±‚ï¼Œä½†å®ƒçš„æ¥å£ä¸ä½ å½“å‰ç³»ç»Ÿè¦æ±‚çš„æ¥å£ä¸ä¸€è‡´æ—¶ã€‚é‡å†™è¿™ä¸ªç±»ä¼šè€—è´¹å¤§é‡æ—¶é—´ä¸”å®¹æ˜“å¼•å…¥é”™è¯¯ï¼Œè€Œä½¿ç”¨é€‚é…å™¨åˆ™å¯ä»¥åœ¨ä¸æ”¹å˜åŸæœ‰ä»£ç çš„åŸºç¡€ä¸Šï¼Œå°†å…¶â€œåŒ…è£…â€æˆä½ éœ€è¦çš„æ ·å­ã€‚</p></li><li><p><strong>é›†æˆç¬¬ä¸‰æ–¹åº“æˆ–é—ç•™ç³»ç»Ÿ</strong>ï¼šç¬¬ä¸‰æ–¹åº“æˆ–è€æ—§ç³»ç»Ÿçš„æ¥å£é€šå¸¸æ— æ³•ä¿®æ”¹ã€‚å¦‚æœå®ƒä»¬çš„æ¥å£ä¸ä½ çš„ç³»ç»Ÿä¸å…¼å®¹ï¼Œé€‚é…å™¨å¯ä»¥ä½œä¸ºä¸­é—´å±‚ï¼Œå°†è¿™äº›å¤–éƒ¨æ¥å£è½¬æ¢ä¸ºç³»ç»Ÿå†…éƒ¨ç»Ÿä¸€çš„ã€æ ‡å‡†çš„æ¥å£ï¼Œä»è€Œå®ç°æ— ç¼é›†æˆã€‚</p></li><li><p><strong>è§£è€¦å®¢æˆ·ç«¯ä¸å…·ä½“å®ç°</strong>ï¼šå®¢æˆ·ç«¯ä»£ç åªä¾èµ–äºä¸€ä¸ªæ ‡å‡†çš„ç›®æ ‡æ¥å£ï¼ˆTargetï¼‰ï¼Œè€Œä¸éœ€è¦å…³å¿ƒèƒŒåçœŸæ­£å¹²æ´»çš„ç±»ï¼ˆAdapteeï¼‰æ˜¯è°ï¼Œå®ƒçš„æ¥å£é•¿ä»€ä¹ˆæ ·ã€‚è¿™æ ·ä¸€æ¥ï¼Œå½“åº•å±‚çš„å…·ä½“å®ç°éœ€è¦æ›´æ¢æ—¶ï¼Œåªéœ€è¦æ›´æ¢æˆ–ä¿®æ”¹å¯¹åº”çš„é€‚é…å™¨ï¼Œè€Œå®¢æˆ·ç«¯ä»£ç å®Œå…¨ä¸å—å½±å“ï¼Œå¢å¼ºäº†ç³»ç»Ÿçš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p></li></ol><p>æ€»è€Œè¨€ä¹‹ï¼Œé€‚é…å™¨æ¨¡å¼éµå¾ªäº†â€œå¼€é—­åŸåˆ™â€ï¼ˆå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼‰ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨ä¸ä¿®æ”¹ç°æœ‰ä»£ç çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å¢åŠ æ–°çš„é€‚é…å™¨ç±»æ¥æ‰©å±•ç³»ç»Ÿçš„åŠŸèƒ½ã€‚</p><h1 id="3-é€‚é…å™¨æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"><a href="#3-é€‚é…å™¨æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰" class="headerlink" title="3. é€‚é…å™¨æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"></a>3. é€‚é…å™¨æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰</h1><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªéŸ³ä¹æ’­æ”¾å™¨ <code>MusicPlayer</code>ï¼Œå®ƒä¾èµ–ä¸€ä¸ª <code>Player</code> æ¥å£æ¥æ’­æ”¾éŸ³ä¹ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Playeræ˜¯æˆ‘ä»¬æœŸæœ›çš„ç›®æ ‡æ¥å£ (Target)</span></span><br><span class="line"><span class="keyword">type</span> Player <span class="keyword">interface</span> &#123;</span><br><span class="line">    PlayMusic()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªç°æˆçš„ã€æ— æ³•ä¿®æ”¹çš„ç¬¬ä¸‰æ–¹éŸ³é¢‘åº“ <code>AwesomePlayer</code>ï¼Œä½†å®ƒçš„æ’­æ”¾æ–¹æ³•æ˜¯ <code>PlaySound</code>ï¼Œä¸æˆ‘ä»¬çš„ <code>Player</code> æ¥å£ä¸å…¼å®¹ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// AwesomePlayer æ˜¯ä¸€ä¸ªå·²å­˜åœ¨çš„ã€æ¥å£ä¸å…¼å®¹çš„ç±» (Adaptee)</span></span><br><span class="line"><span class="keyword">type</span> AwesomePlayer <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *AwesomePlayer)</span></span> PlaySound() &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Playing sound with AwesomePlayer&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†è®© <code>MusicPlayer</code> èƒ½ä½¿ç”¨ <code>AwesomePlayer</code>ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé€‚é…å™¨ <code>AwesomePlayerAdapter</code>ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// AwesomePlayerAdapter æ˜¯é€‚é…å™¨ (Adapter)</span></span><br><span class="line"><span class="keyword">type</span> AwesomePlayerAdapter <span class="keyword">struct</span> &#123;</span><br><span class="line">    adaptee *AwesomePlayer <span class="comment">// æŒæœ‰è¢«é€‚é…çš„å¯¹è±¡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// NewAwesomePlayerAdapter åˆ›å»ºä¸€ä¸ªæ–°çš„é€‚é…å™¨å®ä¾‹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewAwesomePlayerAdapter</span><span class="params">(adaptee *AwesomePlayer)</span></span> *AwesomePlayerAdapter &#123;</span><br><span class="line">    <span class="keyword">return</span> &amp;AwesomePlayerAdapter&#123;adaptee: adaptee&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// PlayMusic å®ç°äº† Player æ¥å£ï¼Œå†…éƒ¨è°ƒç”¨è¢«é€‚é…è€…çš„ PlaySound æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a *AwesomePlayerAdapter)</span></span> PlayMusic() &#123;</span><br><span class="line">    a.adaptee.PlaySound()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œå®¢æˆ·ç«¯ä»£ç å¯ä»¥åƒè¿™æ ·ä½¿ç”¨ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºè¢«é€‚é…çš„å¯¹è±¡</span></span><br><span class="line">    awesomePlayer := &amp;AwesomePlayer&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ›å»ºé€‚é…å™¨ï¼Œå¹¶å°†å…¶ä¼ å…¥</span></span><br><span class="line">    <span class="keyword">var</span> player Player = NewAwesomePlayerAdapter(awesomePlayer)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å®¢æˆ·ç«¯é€šè¿‡ç»Ÿä¸€çš„ PlayMusic æ¥å£è¿›è¡Œæ’­æ”¾ï¼Œæ— éœ€å…³å¿ƒåº•å±‚å®ç°</span></span><br><span class="line">    player.PlayMusic() <span class="comment">// è¾“å‡º: Playing sound with AwesomePlayer</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>AwesomePlayerAdapter</code> æˆåŠŸåœ°å°† <code>AwesomePlayer</code> çš„ <code>PlaySound</code> æ¥å£è½¬æ¢ä¸ºäº† <code>Player</code> æ¥å£æ‰€æœŸæœ›çš„ <code>PlayMusic</code> æ¥å£ï¼Œä½¿å¾—å®¢æˆ·ç«¯å¯ä»¥æ— ç¼åœ°ä½¿ç”¨è¿™ä¸ªç¬¬ä¸‰æ–¹åº“ã€‚</p><p>ç±»å›¾ï¼š</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagram    class Player {        &lt;&lt;interface&gt;&gt;        +PlayMusic()    }    class AwesomePlayer {        +PlaySound()    }    class AwesomePlayerAdapter {        -adaptee: AwesomePlayer        +PlayMusic()    }    Player &lt;|.. AwesomePlayerAdapter    AwesomePlayerAdapter &quot;1&quot; *-- &quot;1&quot; AwesomePlayer    AwesomePlayerAdapter ..&gt; AwesomePlayer : PlayMusic() call PlaySound()  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼ï¼Ÿ&lt;/h1&gt;&lt;p&gt;é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Interface Oriented Programming" scheme="https://eliano64.github.io/tags/Interface-Oriented-Programming/"/>
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Adapter Pattern" scheme="https://eliano64.github.io/tags/Adapter-Pattern/"/>
    
  </entry>
  
  <entry>
    <title>251017-thinking-prototype</title>
    <link href="https://eliano64.github.io/2025/10/17/251017-thinking-prototype/"/>
    <id>https://eliano64.github.io/2025/10/17/251017-thinking-prototype/</id>
    <published>2025-10-17T10:51:46.000Z</published>
    <updated>2025-10-18T02:57:32.397Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯åŸå‹æ¨¡å¼ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯åŸå‹æ¨¡å¼ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯åŸå‹æ¨¡å¼ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯åŸå‹æ¨¡å¼ï¼Ÿ</h1><p>ä¸€è¨€ä»¥è”½ä¹‹ï¼ŒåŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å®¢æˆ·ç«¯ç›´æ¥è°ƒç”¨<code>Clone</code>æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªä¸å·²æœ‰å®ä¾‹å®Œå…¨ä¸€è‡´çš„æ–°çš„å®ä¾‹ï¼Œè€Œä¸éœ€è¦çŸ¥é“å·²æœ‰å®ä¾‹çš„æ„é€ å‡½æ•°ä»¥åŠæ„é€ å‚æ•°ã€‚</p><h1 id="2-ä¸ºä»€ä¹ˆéœ€è¦åŸå‹æ¨¡å¼ï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦åŸå‹æ¨¡å¼ï¼Ÿ" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦åŸå‹æ¨¡å¼ï¼Ÿ"></a>2. ä¸ºä»€ä¹ˆéœ€è¦åŸå‹æ¨¡å¼ï¼Ÿ</h1><p>æ­£å¦‚ä¸Šè¿°ï¼ŒåŸå‹æ¨¡å¼çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºå®ƒå…è®¸å®¢æˆ·ç«¯ç›´æ¥è°ƒç”¨<code>Clone</code>æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªä¸å·²æœ‰å®ä¾‹å®Œå…¨ä¸€è‡´çš„æ–°çš„å®ä¾‹ï¼Œè€Œä¸éœ€è¦çŸ¥é“å·²æœ‰å®ä¾‹çš„æ„é€ å‡½æ•°ä»¥åŠæ„é€ å‚æ•°ã€‚è¿™ä½¿å¾—åŸå‹æ¨¡å¼åœ¨éœ€è¦å¿«é€Ÿåˆ›å»ºå¤šä¸ªç›¸åŒå¯¹è±¡çš„åœºæ™¯ä¸‹éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚åœ¨æ¸¸æˆå¼€å‘ä¸­åˆ›å»ºå¤šä¸ªç›¸åŒç±»å‹çš„æ•Œäººå®ä¾‹ã€‚</p><h1 id="3-åŸå‹æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"><a href="#3-åŸå‹æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰" class="headerlink" title="3. åŸå‹æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰"></a>3. åŸå‹æ¨¡å¼çš„å®ç°ï¼ˆgoï¼‰</h1><p>åŸå‹æ¨¡å¼æä¾›<code>prototype</code>æ¥å£ï¼Œä¸»è¦éœ€è¦å®ç°<code>Clone</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªä¸å·²æœ‰å®ä¾‹å®Œå…¨ä¸€è‡´çš„æ–°çš„å®ä¾‹ã€‚</p><p>ä¸­é—´ä»¶ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> prototype <span class="keyword">interface</span> &#123;</span><br><span class="line">    Clone() prototype</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> concreteType <span class="keyword">struct</span> &#123;</span><br><span class="line">    <span class="comment">// ...æ„é€ å‚æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *concreteType)</span></span> Clone() prototype &#123;</span><br><span class="line">    <span class="keyword">return</span> &amp;concreteType&#123;</span><br><span class="line">        <span class="comment">// ...æ„é€ å‚æ•°</span></span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯ä½¿ç”¨ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªåŸå‹å®ä¾‹</span></span><br><span class="line">    instance := &amp;concreteType&#123;</span><br><span class="line">        <span class="comment">// ...æ„é€ å‚æ•°</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨Cloneæ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹</span></span><br><span class="line">    newInstance := &amp;instance.Clone().(concreteType)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»å›¾ï¼š</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>    classDiagramclass prototype {    &lt;&lt;interface&gt;&gt;    +Clone() prototype}class concreteType {    &#x2F;&#x2F; ...æ„é€ å‚æ•°}prototype &lt;|.. concreteType  </pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ä»€ä¹ˆæ˜¯åŸå‹æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯åŸå‹æ¨¡å¼ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯åŸå‹æ¨¡å¼ï¼Ÿ&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯åŸå‹æ¨¡å¼ï¼Ÿ&lt;/h1&gt;&lt;p&gt;ä¸€è¨€ä»¥è”½ä¹‹ï¼ŒåŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/categories/Design-Pattern/"/>
    
    
    <category term="Interface Oriented Programming" scheme="https://eliano64.github.io/tags/Interface-Oriented-Programming/"/>
    
    <category term="Design Pattern" scheme="https://eliano64.github.io/tags/Design-Pattern/"/>
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="Prototype Pattern" scheme="https://eliano64.github.io/tags/Prototype-Pattern/"/>
    
  </entry>
  
  <entry>
    <title>251012 thinking reflect</title>
    <link href="https://eliano64.github.io/2025/10/12/251012-thinking-reflect/"/>
    <id>https://eliano64.github.io/2025/10/12/251012-thinking-reflect/</id>
    <published>2025-10-12T11:34:05.000Z</published>
    <updated>2025-11-14T15:25:55.610Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨ç”¨ Gin&#x2F;GORM å°è¯•å†™ä¸€ä¸ªåç«¯ã€‚å— PostgREST çš„å¯å‘ï¼Œæˆ‘æƒ³å®ç°ä¸€ä¸ªæ›´<strong>é€šç”¨</strong>çš„åç«¯ï¼šå®ƒèƒ½è¿è¡Œæ—¶è‡ªåŠ¨æŸ¥è¯¢æ•°æ®åº“çš„è¡¨ç»“æ„ï¼Œå¹¶åŠ¨æ€ç”Ÿæˆå¯¹åº”çš„æ¨¡å‹ (Model) å’Œæ§åˆ¶å™¨ (Controller)ï¼Œä»è€Œå…å»ä¸ºæ¯å¼ è¡¨æ‰‹åŠ¨ç¼–å†™é‡å¤ä»£ç çš„éº»çƒ¦ã€‚</p><p>Go çš„<strong>åå°„ (Reflection)</strong> æœºåˆ¶æ˜¯å®ç°è¿™ä¸€ç›®æ ‡çš„å…³é”®ã€‚å®ƒå…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶æ£€æŸ¥è‡ªèº«çš„ç»“æ„ã€ç±»å‹å’Œå€¼ã€‚</p><p>æœ¬ç¯‡å°†ä»‹ç» Go åå°„çš„æ ¸å¿ƒæ€æƒ³ï¼Œå¹¶æ¼”ç¤ºå¦‚ä½•åˆ©ç”¨å®ƒåœ¨è¿è¡Œæ—¶åŠ¨æ€æ„å»ºæ–°çš„ç»“æ„ä½“ç±»å‹ã€‚</p><h1 id="1-åå°„çš„æ ¸å¿ƒï¼šType-ä¸-Value"><a href="#1-åå°„çš„æ ¸å¿ƒï¼šType-ä¸-Value" class="headerlink" title="1. åå°„çš„æ ¸å¿ƒï¼šType ä¸ Value"></a>1. åå°„çš„æ ¸å¿ƒï¼š<code>Type</code> ä¸ <code>Value</code></h1><p>Go çš„åå°„æœºåˆ¶å»ºç«‹åœ¨ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µä¹‹ä¸Šï¼š<code>reflect.Type</code> å’Œ <code>reflect.Value</code>ã€‚</p><p>å¯ä»¥æŠŠä»»æ„å˜é‡çœ‹ä½œä¸€ä¸ªâ€œç®±å­â€ï¼Œç®±å­é‡Œè£…ç€å®é™…çš„æ•°æ®ã€‚</p><ul><li>**<code>reflect.Type</code>**ï¼šæ˜¯ç®±å­çš„â€œæ ‡ç­¾â€ï¼Œå‘Šè¯‰ä½ é‡Œé¢è£…çš„æ˜¯ä»€ä¹ˆç±»å‹çš„ä¸œè¥¿ï¼ˆæ¯”å¦‚ <code>int</code>, <code>string</code>, <code>struct</code>ï¼‰ã€‚</li><li>**<code>reflect.Value</code>**ï¼šæ˜¯ç®±å­é‡Œçš„â€œä¸œè¥¿æœ¬èº«â€ï¼Œä½ å¯ä»¥è¯»å–å®ƒçš„å€¼ï¼Œç”šè‡³åœ¨æ»¡è¶³ç‰¹å®šæ¡ä»¶æ—¶ä¿®æ”¹å®ƒã€‚</li></ul><p>æˆ‘ä»¬é€šè¿‡ <code>reflect.TypeOf()</code> å’Œ <code>reflect.ValueOf()</code> è¿™ä¸¤ä¸ªå‡½æ•°è¿›å…¥åå°„çš„ä¸–ç•Œï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="type">float64</span> = <span class="number">3.4</span></span><br><span class="line"></span><br><span class="line">t := reflect.TypeOf(x)   <span class="comment">// è·å– Type</span></span><br><span class="line">v := reflect.ValueOf(x)  <span class="comment">// è·å– Value</span></span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;type:&quot;</span>, t)                  <span class="comment">// è¾“å‡º: type: float64</span></span><br><span class="line">fmt.Println(<span class="string">&quot;value:&quot;</span>, v.Float())         <span class="comment">// è¾“å‡º: value: 3.4</span></span><br><span class="line">fmt.Println(<span class="string">&quot;kind is float64:&quot;</span>, t.Kind() == reflect.Float64) <span class="comment">// è¾“å‡º: kind is float64: true</span></span><br></pre></td></tr></table></figure><h1 id="2-ä¿®æ”¹å€¼ï¼šåœ°å€ä¸-Elem"><a href="#2-ä¿®æ”¹å€¼ï¼šåœ°å€ä¸-Elem" class="headerlink" title="2. ä¿®æ”¹å€¼ï¼šåœ°å€ä¸ Elem()"></a>2. ä¿®æ”¹å€¼ï¼šåœ°å€ä¸ <code>Elem()</code></h1><p>åå°„ä¸ä»…èƒ½çœ‹ï¼Œè¿˜èƒ½æ”¹ã€‚ä½†æœ‰ä¸€ä¸ªå‰æï¼š**å€¼å¿…é¡»æ˜¯â€œå¯è®¾ç½®çš„â€ (settable)**ã€‚</p><p>ä¸€ä¸ª <code>reflect.Value</code> æ˜¯å¯è®¾ç½®çš„ï¼Œå½“ä¸”ä»…å½“å®ƒä»£è¡¨çš„æ˜¯ä¸€ä¸ªå¯å¯»å€çš„å†…å­˜ç©ºé—´ã€‚ç®€å•æ¥è¯´ï¼Œå¦‚æœä½ å¯¹ä¸€ä¸ªæŒ‡é’ˆè¿›è¡Œåå°„ï¼Œé‚£ä¹ˆæŒ‡é’ˆæŒ‡å‘çš„é‚£å—å†…å­˜å°±æ˜¯å¯è®¾ç½®çš„ã€‚</p><p>æˆ‘ä»¬é€šè¿‡ <code>Elem()</code> æ–¹æ³•æ¥è·å–æŒ‡é’ˆæŒ‡å‘çš„å€¼ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="type">float64</span> = <span class="number">3.4</span></span><br><span class="line">p := &amp;x <span class="comment">// p æ˜¯æŒ‡å‘ x çš„æŒ‡é’ˆ</span></span><br><span class="line"></span><br><span class="line">v := reflect.ValueOf(p) <span class="comment">// å¯¹æŒ‡é’ˆè¿›è¡Œåå°„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// v ç°åœ¨ä»£è¡¨æŒ‡é’ˆ pï¼Œå®ƒæ˜¯ä¸å¯è®¾ç½®çš„ã€‚ä½†å®ƒæŒ‡å‘çš„ x æ˜¯å¯è®¾ç½®çš„ã€‚</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨ Elem() è·å–æŒ‡é’ˆæŒ‡å‘çš„å€¼</span></span><br><span class="line">e := v.Elem()</span><br><span class="line">e.SetFloat(<span class="number">7.1</span>) <span class="comment">// ä¿®æ”¹ x çš„å€¼</span></span><br><span class="line"></span><br><span class="line">fmt.Println(x) <span class="comment">// è¾“å‡º: 7.1</span></span><br></pre></td></tr></table></figure><p><strong>å°ç»“</strong>ï¼šè¦é€šè¿‡åå°„ä¿®æ”¹ä¸€ä¸ªå˜é‡ï¼Œé€šå¸¸éœ€è¦å¯¹è¯¥å˜é‡çš„æŒ‡é’ˆè¿›è¡Œåå°„ï¼Œç„¶åè°ƒç”¨ <code>Elem()</code> è·å–å…¶æŒ‡å‘çš„å€¼ï¼Œå†è¿›è¡Œä¿®æ”¹ã€‚</p><h1 id="3-ç»ˆæç›®æ ‡ï¼šè¿è¡Œæ—¶åˆ›å»ºç»“æ„ä½“"><a href="#3-ç»ˆæç›®æ ‡ï¼šè¿è¡Œæ—¶åˆ›å»ºç»“æ„ä½“" class="headerlink" title="3. ç»ˆæç›®æ ‡ï¼šè¿è¡Œæ—¶åˆ›å»ºç»“æ„ä½“"></a>3. ç»ˆæç›®æ ‡ï¼šè¿è¡Œæ—¶åˆ›å»ºç»“æ„ä½“</h1><p>ç°åœ¨å›åˆ°æœ€åˆçš„ç›®æ ‡ï¼šæ ¹æ®æ•°æ®åº“è¡¨ç»“æ„åŠ¨æ€åˆ›å»ºæ¨¡å‹ã€‚è¿™éœ€è¦æˆ‘ä»¬åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°â€œæ‹¼å‡‘â€å‡ºä¸€ä¸ªæ–°çš„ç»“æ„ä½“ç±»å‹ã€‚</p><p>Go çš„ <code>reflect</code> åŒ…æä¾›äº† <code>reflect.StructOf</code> å‡½æ•°æ¥å®ç°è¿™ä¸€åŠŸèƒ½ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><strong>å®šä¹‰å­—æ®µ</strong>ï¼šä¸ºæ–°ç»“æ„ä½“çš„æ¯ä¸ªå­—æ®µåˆ›å»ºä¸€ä¸ª <code>reflect.StructField</code>ã€‚æ¯ä¸ªå­—æ®µéœ€è¦åå­—ã€ç±»å‹ (<code>reflect.Type</code>) å’Œå¯é€‰çš„æ ‡ç­¾ (Tag)ï¼Œæ ‡ç­¾å¯¹äº JSON æˆ– GORM åºåˆ—åŒ–è‡³å…³é‡è¦ã€‚</li><li><strong>åˆ›å»ºç»“æ„ä½“ç±»å‹</strong>ï¼šå°†å®šä¹‰å¥½çš„å­—æ®µåˆ‡ç‰‡ä¼ å…¥ <code>reflect.StructOf()</code>ï¼Œå¾—åˆ°ä¸€ä¸ªå…¨æ–°çš„ç»“æ„ä½“ <code>reflect.Type</code>ã€‚</li><li><strong>åˆ›å»ºå®ä¾‹</strong>ï¼šä½¿ç”¨ <code>reflect.New()</code> å¹¶ä¼ å…¥æ–°çš„ç±»å‹ï¼Œæ¥åˆ›å»ºä¸€ä¸ªæŒ‡å‘è¯¥ç»“æ„ä½“æ–°å®ä¾‹çš„æŒ‡é’ˆ (<code>reflect.Value</code>)ã€‚</li><li><strong>è®¾ç½®å­—æ®µå€¼</strong>ï¼šé€šè¿‡ <code>Elem()</code> å’Œ <code>Field()</code> æ–¹æ³•ï¼Œä¸ºæ–°å®ä¾‹çš„å­—æ®µèµ‹å€¼ã€‚</li></ol><h3 id="ç¤ºä¾‹ï¼šåŠ¨æ€åˆ›å»ºä¸€ä¸ª-User-ç»“æ„ä½“"><a href="#ç¤ºä¾‹ï¼šåŠ¨æ€åˆ›å»ºä¸€ä¸ª-User-ç»“æ„ä½“" class="headerlink" title="ç¤ºä¾‹ï¼šåŠ¨æ€åˆ›å»ºä¸€ä¸ª User ç»“æ„ä½“"></a>ç¤ºä¾‹ï¼šåŠ¨æ€åˆ›å»ºä¸€ä¸ª <code>User</code> ç»“æ„ä½“</h3><p>å‡è®¾æˆ‘ä»¬è¦åŠ¨æ€åˆ›å»ºä¸€ä¸ªç­‰ä»·äºä¸‹é¢ä»£ç çš„ç±»å‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span> <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">    Age  <span class="type">int</span>    <span class="string">`json:&quot;age&quot;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨åå°„çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;encoding/json&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;reflect&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="comment">// 1. å®šä¹‰å­—æ®µ</span></span><br><span class="line">fields := []reflect.StructField&#123;</span><br><span class="line">&#123;</span><br><span class="line">Name: <span class="string">&quot;Name&quot;</span>,</span><br><span class="line">Type: reflect.TypeOf(<span class="string">&quot;&quot;</span>), <span class="comment">// string ç±»å‹</span></span><br><span class="line">Tag:  <span class="string">`json:&quot;name&quot;`</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">Name: <span class="string">&quot;Age&quot;</span>,</span><br><span class="line">Type: reflect.TypeOf(<span class="number">0</span>), <span class="comment">// int ç±»å‹</span></span><br><span class="line">Tag:  <span class="string">`json:&quot;age&quot;`</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. åˆ›å»ºç»“æ„ä½“ç±»å‹</span></span><br><span class="line">structType := reflect.StructOf(fields)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. åˆ›å»ºå®ä¾‹ (è¿”å›ä¸€ä¸ªæŒ‡å‘æ–°ç»“æ„ä½“çš„æŒ‡é’ˆ)</span></span><br><span class="line">structPtr := reflect.New(structType)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. è·å–æŒ‡é’ˆæŒ‡å‘çš„ç»“æ„ä½“å¹¶è®¾ç½®å­—æ®µå€¼</span></span><br><span class="line">s := structPtr.Elem()</span><br><span class="line">s.FieldByName(<span class="string">&quot;Name&quot;</span>).SetString(<span class="string">&quot;Alice&quot;</span>)</span><br><span class="line">s.FieldByName(<span class="string">&quot;Age&quot;</span>).SetInt(<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†åŠ¨æ€åˆ›å»ºçš„ç»“æ„ä½“å®ä¾‹è½¬å› interface&#123;&#125; ä»¥ä¾¿ä½¿ç”¨</span></span><br><span class="line"><span class="comment">//ç±»æ˜¯interface&#123;&#125;ç±»å‹ ä½†å€¼æ˜¯reflect.Valueç±»å‹</span></span><br><span class="line">userInstance := structPtr.Interface()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ json.Marshal éªŒè¯ç»“æœ</span></span><br><span class="line">jsonData, err := json.Marshal(userInstance)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="type">string</span>(jsonData)) <span class="comment">// è¾“å‡º: &#123;&quot;name&quot;:&quot;Alice&quot;,&quot;age&quot;:30&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="4-ä½•æ—¶ä½¿ç”¨åå°„ï¼Ÿ"><a href="#4-ä½•æ—¶ä½¿ç”¨åå°„ï¼Ÿ" class="headerlink" title="4. ä½•æ—¶ä½¿ç”¨åå°„ï¼Ÿ"></a>4. ä½•æ—¶ä½¿ç”¨åå°„ï¼Ÿ</h1><p>è™½ç„¶åå°„åŠŸèƒ½å¼ºå¤§ï¼Œä½†å®ƒä¹Ÿæœ‰ä»£ä»·ï¼š</p><ul><li><strong>æ€§èƒ½å¼€é”€</strong>ï¼šåå°„æ“ä½œæ¯”ç›´æ¥ä»£ç è°ƒç”¨æ…¢å¾—å¤šã€‚</li><li><strong>ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨ä¸¢å¤±</strong>ï¼šç¼–è¯‘å™¨æ— æ³•æ£€æŸ¥é€šè¿‡åå°„è¿›è¡Œçš„æ“ä½œï¼Œé”™è¯¯åªèƒ½åœ¨è¿è¡Œæ—¶æš´éœ²ï¼Œé€šå¸¸æ˜¯ <code>panic</code>ã€‚</li><li><strong>ä»£ç å¯è¯»æ€§å·®</strong>ï¼šè¿‡åº¦ä½¿ç”¨ä¼šä½¿ä»£ç é€»è¾‘å˜å¾—æ™¦æ¶©éš¾æ‡‚ã€‚</li></ul><p>å› æ­¤ï¼Œåå°„åº”è¯¥åªåœ¨å¿…è¦æ—¶ä½¿ç”¨ï¼Œæ¯”å¦‚å¼€å‘éœ€è¦å¤„ç†ä»»æ„ç±»å‹çš„é€šç”¨æ¡†æ¶ã€åºåˆ—åŒ–åº“æˆ– ORM æ—¶ã€‚å¯¹äºå¸¸è§„çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ¸…æ™°çš„é™æ€ç±»å‹ä»£ç æ°¸è¿œæ˜¯é¦–é€‰ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ€è¿‘åœ¨ç”¨ Gin&amp;#x2F;GORM å°è¯•å†™ä¸€ä¸ªåç«¯ã€‚å— PostgREST çš„å¯å‘ï¼Œæˆ‘æƒ³å®ç°ä¸€ä¸ªæ›´&lt;strong&gt;é€šç”¨&lt;/strong&gt;çš„åç«¯ï¼šå®ƒèƒ½è¿è¡Œæ—¶è‡ªåŠ¨æŸ¥è¯¢æ•°æ®åº“çš„è¡¨ç»“æ„ï¼Œå¹¶åŠ¨æ€ç”Ÿæˆå¯¹åº”çš„æ¨¡å‹ (Model) å’Œæ§åˆ¶å™¨ (Controller)ï¼Œä»è€Œå…å»ä¸ºæ¯å¼ è¡¨æ‰‹åŠ¨</summary>
      
    
    
    
    <category term="Base Knowledge" scheme="https://eliano64.github.io/categories/Base-Knowledge/"/>
    
    
    <category term="go" scheme="https://eliano64.github.io/tags/go/"/>
    
    <category term="reflect" scheme="https://eliano64.github.io/tags/reflect/"/>
    
  </entry>
  
  <entry>
    <title>251012 record best-time-to-buy-and-sell-stock</title>
    <link href="https://eliano64.github.io/2025/10/12/251012-record-best-time-to-buy-and-sell-stock/"/>
    <id>https://eliano64.github.io/2025/10/12/251012-record-best-time-to-buy-and-sell-stock/</id>
    <published>2025-10-12T10:50:29.000Z</published>
    <updated>2025-11-01T06:57:46.666Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock">é¢˜ç›®</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">maxProfit</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; prices)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> lo = prices[<span class="number">0</span>]</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;prices.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        ans = <span class="built_in">max</span>(ans,prices[i]-lo)</span><br><span class="line">        lo = <span class="built_in">min</span>(lo,prices[i])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ¨¡æ¿å¯ä»¥ç”¨äºï¼šå¯»æ‰¾ä¸å•å¢æ•°ç»„çš„å…ƒç´ ä¸è¯¥å…ƒç´ å‰é¢çš„æ‰€æœ‰å…ƒç´ ä¹‹å·®çš„æœ€å¤§å€¼ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://leetcode.cn/problems/best-time-to-buy-and-sell-stock&quot;&gt;é¢˜ç›®&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gut</summary>
      
    
    
    
    <category term="record" scheme="https://eliano64.github.io/categories/record/"/>
    
    
    <category term="C++" scheme="https://eliano64.github.io/tags/C/"/>
    
    <category term="Record" scheme="https://eliano64.github.io/tags/Record/"/>
    
    <category term="leetcode" scheme="https://eliano64.github.io/tags/leetcode/"/>
    
  </entry>
  
</feed>
